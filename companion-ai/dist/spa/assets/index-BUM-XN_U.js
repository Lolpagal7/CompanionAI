var dA=Object.defineProperty;var _0=n=>{throw TypeError(n)};var hA=(n,e,t)=>e in n?dA(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Dd=(n,e,t)=>hA(n,typeof e!="symbol"?e+"":e,t),sm=(n,e,t)=>e.has(n)||_0("Cannot "+t);var ne=(n,e,t)=>(sm(n,e,"read from private field"),t?t.call(n):e.get(n)),ut=(n,e,t)=>e.has(n)?_0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Be=(n,e,t,r)=>(sm(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),_n=(n,e,t)=>(sm(n,e,"access private method"),t);var Od=(n,e,t,r)=>({set _(i){Be(n,e,i,t)},get _(){return ne(n,e,r)}});function fA(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function Bg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var im={exports:{}},wc={},om={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0;function pA(){if(x0)return We;x0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function v(U){return U===null||typeof U!="object"?null:(U=w&&U[w]||U["@@iterator"],typeof U=="function"?U:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,b={};function T(U,X,re){this.props=U,this.context=X,this.refs=b,this.updater=re||C}T.prototype.isReactComponent={},T.prototype.setState=function(U,X){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,X,"setState")},T.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function L(){}L.prototype=T.prototype;function j(U,X,re){this.props=U,this.context=X,this.refs=b,this.updater=re||C}var F=j.prototype=new L;F.constructor=j,R(F,T.prototype),F.isPureReactComponent=!0;var $=Array.isArray,H=Object.prototype.hasOwnProperty,q={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function A(U,X,re){var ye,Ie={},_e=null,Ue=null;if(X!=null)for(ye in X.ref!==void 0&&(Ue=X.ref),X.key!==void 0&&(_e=""+X.key),X)H.call(X,ye)&&!P.hasOwnProperty(ye)&&(Ie[ye]=X[ye]);var Ve=arguments.length-2;if(Ve===1)Ie.children=re;else if(1<Ve){for(var ue=Array(Ve),pe=0;pe<Ve;pe++)ue[pe]=arguments[pe+2];Ie.children=ue}if(U&&U.defaultProps)for(ye in Ve=U.defaultProps,Ve)Ie[ye]===void 0&&(Ie[ye]=Ve[ye]);return{$$typeof:n,type:U,key:_e,ref:Ue,props:Ie,_owner:q.current}}function N(U,X){return{$$typeof:n,type:U.type,key:X,ref:U.ref,props:U.props,_owner:U._owner}}function O(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function V(U){var X={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(re){return X[re]})}var M=/\/+/g;function D(U,X){return typeof U=="object"&&U!==null&&U.key!=null?V(""+U.key):X.toString(36)}function ee(U,X,re,ye,Ie){var _e=typeof U;(_e==="undefined"||_e==="boolean")&&(U=null);var Ue=!1;if(U===null)Ue=!0;else switch(_e){case"string":case"number":Ue=!0;break;case"object":switch(U.$$typeof){case n:case e:Ue=!0}}if(Ue)return Ue=U,Ie=Ie(Ue),U=ye===""?"."+D(Ue,0):ye,$(Ie)?(re="",U!=null&&(re=U.replace(M,"$&/")+"/"),ee(Ie,X,re,"",function(pe){return pe})):Ie!=null&&(O(Ie)&&(Ie=N(Ie,re+(!Ie.key||Ue&&Ue.key===Ie.key?"":(""+Ie.key).replace(M,"$&/")+"/")+U)),X.push(Ie)),1;if(Ue=0,ye=ye===""?".":ye+":",$(U))for(var Ve=0;Ve<U.length;Ve++){_e=U[Ve];var ue=ye+D(_e,Ve);Ue+=ee(_e,X,re,ue,Ie)}else if(ue=v(U),typeof ue=="function")for(U=ue.call(U),Ve=0;!(_e=U.next()).done;)_e=_e.value,ue=ye+D(_e,Ve++),Ue+=ee(_e,X,re,ue,Ie);else if(_e==="object")throw X=String(U),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Ue}function be(U,X,re){if(U==null)return U;var ye=[],Ie=0;return ee(U,ye,"","",function(_e){return X.call(re,_e,Ie++)}),ye}function ge(U){if(U._status===-1){var X=U._result;X=X(),X.then(function(re){(U._status===0||U._status===-1)&&(U._status=1,U._result=re)},function(re){(U._status===0||U._status===-1)&&(U._status=2,U._result=re)}),U._status===-1&&(U._status=0,U._result=X)}if(U._status===1)return U._result.default;throw U._result}var fe={current:null},Q={transition:null},ae={ReactCurrentDispatcher:fe,ReactCurrentBatchConfig:Q,ReactCurrentOwner:q};function le(){throw Error("act(...) is not supported in production builds of React.")}return We.Children={map:be,forEach:function(U,X,re){be(U,function(){X.apply(this,arguments)},re)},count:function(U){var X=0;return be(U,function(){X++}),X},toArray:function(U){return be(U,function(X){return X})||[]},only:function(U){if(!O(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},We.Component=T,We.Fragment=t,We.Profiler=i,We.PureComponent=j,We.StrictMode=r,We.Suspense=f,We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,We.act=le,We.cloneElement=function(U,X,re){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var ye=R({},U.props),Ie=U.key,_e=U.ref,Ue=U._owner;if(X!=null){if(X.ref!==void 0&&(_e=X.ref,Ue=q.current),X.key!==void 0&&(Ie=""+X.key),U.type&&U.type.defaultProps)var Ve=U.type.defaultProps;for(ue in X)H.call(X,ue)&&!P.hasOwnProperty(ue)&&(ye[ue]=X[ue]===void 0&&Ve!==void 0?Ve[ue]:X[ue])}var ue=arguments.length-2;if(ue===1)ye.children=re;else if(1<ue){Ve=Array(ue);for(var pe=0;pe<ue;pe++)Ve[pe]=arguments[pe+2];ye.children=Ve}return{$$typeof:n,type:U.type,key:Ie,ref:_e,props:ye,_owner:Ue}},We.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},We.createElement=A,We.createFactory=function(U){var X=A.bind(null,U);return X.type=U,X},We.createRef=function(){return{current:null}},We.forwardRef=function(U){return{$$typeof:u,render:U}},We.isValidElement=O,We.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:ge}},We.memo=function(U,X){return{$$typeof:p,type:U,compare:X===void 0?null:X}},We.startTransition=function(U){var X=Q.transition;Q.transition={};try{U()}finally{Q.transition=X}},We.unstable_act=le,We.useCallback=function(U,X){return fe.current.useCallback(U,X)},We.useContext=function(U){return fe.current.useContext(U)},We.useDebugValue=function(){},We.useDeferredValue=function(U){return fe.current.useDeferredValue(U)},We.useEffect=function(U,X){return fe.current.useEffect(U,X)},We.useId=function(){return fe.current.useId()},We.useImperativeHandle=function(U,X,re){return fe.current.useImperativeHandle(U,X,re)},We.useInsertionEffect=function(U,X){return fe.current.useInsertionEffect(U,X)},We.useLayoutEffect=function(U,X){return fe.current.useLayoutEffect(U,X)},We.useMemo=function(U,X){return fe.current.useMemo(U,X)},We.useReducer=function(U,X,re){return fe.current.useReducer(U,X,re)},We.useRef=function(U){return fe.current.useRef(U)},We.useState=function(U){return fe.current.useState(U)},We.useSyncExternalStore=function(U,X,re){return fe.current.useSyncExternalStore(U,X,re)},We.useTransition=function(){return fe.current.useTransition()},We.version="18.3.1",We}var E0;function Wg(){return E0||(E0=1,om.exports=pA()),om.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0;function mA(){if(b0)return wc;b0=1;var n=Wg(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,f,p){var y,w={},v=null,C=null;p!==void 0&&(v=""+p),f.key!==void 0&&(v=""+f.key),f.ref!==void 0&&(C=f.ref);for(y in f)r.call(f,y)&&!a.hasOwnProperty(y)&&(w[y]=f[y]);if(u&&u.defaultProps)for(y in f=u.defaultProps,f)w[y]===void 0&&(w[y]=f[y]);return{$$typeof:e,type:u,key:v,ref:C,props:w,_owner:i.current}}return wc.Fragment=t,wc.jsx=l,wc.jsxs=l,wc}var T0;function gA(){return T0||(T0=1,im.exports=mA()),im.exports}var g=gA(),S=Wg();const me=Bg(S),AE=fA({__proto__:null,default:me},[S]),yA=1,vA=1e6;let am=0;function wA(){return am=(am+1)%Number.MAX_SAFE_INTEGER,am.toString()}const lm=new Map,S0=n=>{if(lm.has(n))return;const e=setTimeout(()=>{lm.delete(n),Dc({type:"REMOVE_TOAST",toastId:n})},vA);lm.set(n,e)},_A=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,yA)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?S0(t):n.toasts.forEach(r=>{S0(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},th=[];let nh={toasts:[]};function Dc(n){nh=_A(nh,n),th.forEach(e=>{e(nh)})}function xA({...n}){const e=wA(),t=i=>Dc({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Dc({type:"DISMISS_TOAST",toastId:e});return Dc({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:t}}function EA(){const[n,e]=S.useState(nh);return S.useEffect(()=>(th.push(e),()=>{const t=th.indexOf(e);t>-1&&th.splice(t,1)}),[n]),{...n,toast:xA,dismiss:t=>Dc({type:"DISMISS_TOAST",toastId:t})}}var cm={exports:{}},Bn={},um={exports:{}},dm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0;function bA(){return C0||(C0=1,function(n){function e(Q,ae){var le=Q.length;Q.push(ae);e:for(;0<le;){var U=le-1>>>1,X=Q[U];if(0<i(X,ae))Q[U]=ae,Q[le]=X,le=U;else break e}}function t(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var ae=Q[0],le=Q.pop();if(le!==ae){Q[0]=le;e:for(var U=0,X=Q.length,re=X>>>1;U<re;){var ye=2*(U+1)-1,Ie=Q[ye],_e=ye+1,Ue=Q[_e];if(0>i(Ie,le))_e<X&&0>i(Ue,Ie)?(Q[U]=Ue,Q[_e]=le,U=_e):(Q[U]=Ie,Q[ye]=le,U=ye);else if(_e<X&&0>i(Ue,le))Q[U]=Ue,Q[_e]=le,U=_e;else break e}}return ae}function i(Q,ae){var le=Q.sortIndex-ae.sortIndex;return le!==0?le:Q.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var f=[],p=[],y=1,w=null,v=3,C=!1,R=!1,b=!1,T=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(Q){for(var ae=t(p);ae!==null;){if(ae.callback===null)r(p);else if(ae.startTime<=Q)r(p),ae.sortIndex=ae.expirationTime,e(f,ae);else break;ae=t(p)}}function $(Q){if(b=!1,F(Q),!R)if(t(f)!==null)R=!0,ge(H);else{var ae=t(p);ae!==null&&fe($,ae.startTime-Q)}}function H(Q,ae){R=!1,b&&(b=!1,L(A),A=-1),C=!0;var le=v;try{for(F(ae),w=t(f);w!==null&&(!(w.expirationTime>ae)||Q&&!V());){var U=w.callback;if(typeof U=="function"){w.callback=null,v=w.priorityLevel;var X=U(w.expirationTime<=ae);ae=n.unstable_now(),typeof X=="function"?w.callback=X:w===t(f)&&r(f),F(ae)}else r(f);w=t(f)}if(w!==null)var re=!0;else{var ye=t(p);ye!==null&&fe($,ye.startTime-ae),re=!1}return re}finally{w=null,v=le,C=!1}}var q=!1,P=null,A=-1,N=5,O=-1;function V(){return!(n.unstable_now()-O<N)}function M(){if(P!==null){var Q=n.unstable_now();O=Q;var ae=!0;try{ae=P(!0,Q)}finally{ae?D():(q=!1,P=null)}}else q=!1}var D;if(typeof j=="function")D=function(){j(M)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,be=ee.port2;ee.port1.onmessage=M,D=function(){be.postMessage(null)}}else D=function(){T(M,0)};function ge(Q){P=Q,q||(q=!0,D())}function fe(Q,ae){A=T(function(){Q(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_continueExecution=function(){R||C||(R=!0,ge(H))},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(Q){switch(v){case 1:case 2:case 3:var ae=3;break;default:ae=v}var le=v;v=ae;try{return Q()}finally{v=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Q,ae){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var le=v;v=Q;try{return ae()}finally{v=le}},n.unstable_scheduleCallback=function(Q,ae,le){var U=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?U+le:U):le=U,Q){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=le+X,Q={id:y++,callback:ae,priorityLevel:Q,startTime:le,expirationTime:X,sortIndex:-1},le>U?(Q.sortIndex=le,e(p,Q),t(f)===null&&Q===t(p)&&(b?(L(A),A=-1):b=!0,fe($,le-U))):(Q.sortIndex=X,e(f,Q),R||C||(R=!0,ge(H))),Q},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(Q){var ae=v;return function(){var le=v;v=ae;try{return Q.apply(this,arguments)}finally{v=le}}}}(dm)),dm}var I0;function TA(){return I0||(I0=1,um.exports=bA()),um.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0;function SA(){if(A0)return Bn;A0=1;var n=Wg(),e=TA();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function v(s){return f.call(w,s)?!0:f.call(y,s)?!1:p.test(s)?w[s]=!0:(y[s]=!0,!1)}function C(s,o,c,h){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function R(s,o,c,h){if(o===null||typeof o>"u"||C(s,o,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function b(s,o,c,h,m,x,I){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=c,this.propertyName=s,this.type=o,this.sanitizeURL=x,this.removeEmptyString=I}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){T[s]=new b(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];T[o]=new b(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){T[s]=new b(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){T[s]=new b(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){T[s]=new b(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){T[s]=new b(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){T[s]=new b(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){T[s]=new b(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){T[s]=new b(s,5,!1,s.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function j(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(L,j);T[o]=new b(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(L,j);T[o]=new b(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(L,j);T[o]=new b(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){T[s]=new b(s,1,!1,s.toLowerCase(),null,!1,!1)}),T.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){T[s]=new b(s,1,!1,s.toLowerCase(),null,!0,!0)});function F(s,o,c,h){var m=T.hasOwnProperty(o)?T[o]:null;(m!==null?m.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(R(o,c,m,h)&&(c=null),h||m===null?v(o)&&(c===null?s.removeAttribute(o):s.setAttribute(o,""+c)):m.mustUseProperty?s[m.propertyName]=c===null?m.type===3?!1:"":c:(o=m.attributeName,h=m.attributeNamespace,c===null?s.removeAttribute(o):(m=m.type,c=m===3||m===4&&c===!0?"":""+c,h?s.setAttributeNS(h,o,c):s.setAttribute(o,c))))}var $=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),q=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),V=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),be=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),fe=Symbol.for("react.offscreen"),Q=Symbol.iterator;function ae(s){return s===null||typeof s!="object"?null:(s=Q&&s[Q]||s["@@iterator"],typeof s=="function"?s:null)}var le=Object.assign,U;function X(s){if(U===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);U=o&&o[1]||""}return`
`+U+s}var re=!1;function ye(s,o){if(!s||re)return"";re=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(J){var h=J}Reflect.construct(s,[],o)}else{try{o.call()}catch(J){h=J}s.call(o.prototype)}else{try{throw Error()}catch(J){h=J}s()}}catch(J){if(J&&h&&typeof J.stack=="string"){for(var m=J.stack.split(`
`),x=h.stack.split(`
`),I=m.length-1,z=x.length-1;1<=I&&0<=z&&m[I]!==x[z];)z--;for(;1<=I&&0<=z;I--,z--)if(m[I]!==x[z]){if(I!==1||z!==1)do if(I--,z--,0>z||m[I]!==x[z]){var B=`
`+m[I].replace(" at new "," at ");return s.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",s.displayName)),B}while(1<=I&&0<=z);break}}}finally{re=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?X(s):""}function Ie(s){switch(s.tag){case 5:return X(s.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return s=ye(s.type,!1),s;case 11:return s=ye(s.type.render,!1),s;case 1:return s=ye(s.type,!0),s;default:return""}}function _e(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case P:return"Fragment";case q:return"Portal";case N:return"Profiler";case A:return"StrictMode";case D:return"Suspense";case ee:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case V:return(s.displayName||"Context")+".Consumer";case O:return(s._context.displayName||"Context")+".Provider";case M:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case be:return o=s.displayName||null,o!==null?o:_e(s.type)||"Memo";case ge:o=s._payload,s=s._init;try{return _e(s(o))}catch{}}return null}function Ue(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _e(o);case 8:return o===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ve(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ue(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function pe(s){var o=ue(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),h=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,x=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(I){h=""+I,x.call(this,I)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(I){h=""+I},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function qe(s){s._valueTracker||(s._valueTracker=pe(s))}function Ze(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return s&&(h=ue(s)?s.checked?"true":"false":s.value),s=h,s!==c?(o.setValue(s),!0):!1}function Ye(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function st(s,o){var c=o.checked;return le({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function Oe(s,o){var c=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;c=Ve(o.value!=null?o.value:c),s._wrapperState={initialChecked:h,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ht(s,o){o=o.checked,o!=null&&F(s,"checked",o,!1)}function en(s,o){ht(s,o);var c=Ve(o.value),h=o.type;if(c!=null)h==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?$e(s,o.type,c):o.hasOwnProperty("defaultValue")&&$e(s,o.type,Ve(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function lt(s,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,c||o===s.value||(s.value=o),s.defaultValue=o}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function $e(s,o,c){(o!=="number"||Ye(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var ft=Array.isArray;function bt(s,o,c,h){if(s=s.options,o){o={};for(var m=0;m<c.length;m++)o["$"+c[m]]=!0;for(c=0;c<s.length;c++)m=o.hasOwnProperty("$"+s[c].value),s[c].selected!==m&&(s[c].selected=m),m&&h&&(s[c].defaultSelected=!0)}else{for(c=""+Ve(c),o=null,m=0;m<s.length;m++){if(s[m].value===c){s[m].selected=!0,h&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function Ot(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function ct(s,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(t(92));if(ft(c)){if(1<c.length)throw Error(t(93));c=c[0]}o=c}o==null&&(o=""),c=o}s._wrapperState={initialValue:Ve(c)}}function at(s,o){var c=Ve(o.value),h=Ve(o.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),o.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),h!=null&&(s.defaultValue=""+h)}function He(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Xe(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mt(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Xe(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var On,or=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,h,m){MSApp.execUnsafeLocalFunction(function(){return s(o,c,h,m)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(On=On||document.createElement("div"),On.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=On.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function _r(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var xs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qr=["Webkit","ms","Moz","O"];Object.keys(xs).forEach(function(s){Qr.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),xs[o]=xs[s]})});function ti(s,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||xs.hasOwnProperty(s)&&xs[s]?(""+o).trim():o+"px"}function so(s,o){s=s.style;for(var c in o)if(o.hasOwnProperty(c)){var h=c.indexOf("--")===0,m=ti(c,o[c],h);c==="float"&&(c="cssFloat"),h?s.setProperty(c,m):s[c]=m}}var Es=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mn(s,o){if(o){if(Es[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function io(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function it(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var nt=null,Rt=null,Vt=null;function xr(s){if(s=sc(s)){if(typeof nt!="function")throw Error(t(280));var o=s.stateNode;o&&(o=Ku(o),nt(s.stateNode,s.type,o))}}function ar(s){Rt?Vt?Vt.push(s):Vt=[s]:Rt=s}function Ml(){if(Rt){var s=Rt,o=Vt;if(Vt=Rt=null,xr(s),o)for(s=0;s<o.length;s++)xr(o[s])}}function oo(s,o){return s(o)}function Ll(){}var bs=!1;function jl(s,o,c){if(bs)return s(o,c);bs=!0;try{return oo(s,o,c)}finally{bs=!1,(Rt!==null||Vt!==null)&&(Ll(),Ml())}}function Ft(s,o){var c=s.stateNode;if(c===null)return null;var h=Ku(c);if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,o,typeof c));return c}var sa=!1;if(u)try{var Er={};Object.defineProperty(Er,"passive",{get:function(){sa=!0}}),window.addEventListener("test",Er,Er),window.removeEventListener("test",Er,Er)}catch{sa=!1}function ao(s,o,c,h,m,x,I,z,B){var J=Array.prototype.slice.call(arguments,3);try{o.apply(c,J)}catch(oe){this.onError(oe)}}var lo=!1,ia=null,br=!1,Vl=null,Nf={onError:function(s){lo=!0,ia=s}};function oa(s,o,c,h,m,x,I,z,B){lo=!1,ia=null,ao.apply(Nf,arguments)}function wu(s,o,c,h,m,x,I,z,B){if(oa.apply(this,arguments),lo){if(lo){var J=ia;lo=!1,ia=null}else throw Error(t(198));br||(br=!0,Vl=J)}}function Tr(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function co(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Sr(s){if(Tr(s)!==s)throw Error(t(188))}function _u(s){var o=s.alternate;if(!o){if(o=Tr(s),o===null)throw Error(t(188));return o!==s?null:s}for(var c=s,h=o;;){var m=c.return;if(m===null)break;var x=m.alternate;if(x===null){if(h=m.return,h!==null){c=h;continue}break}if(m.child===x.child){for(x=m.child;x;){if(x===c)return Sr(m),s;if(x===h)return Sr(m),o;x=x.sibling}throw Error(t(188))}if(c.return!==h.return)c=m,h=x;else{for(var I=!1,z=m.child;z;){if(z===c){I=!0,c=m,h=x;break}if(z===h){I=!0,h=m,c=x;break}z=z.sibling}if(!I){for(z=x.child;z;){if(z===c){I=!0,c=x,h=m;break}if(z===h){I=!0,h=x,c=m;break}z=z.sibling}if(!I)throw Error(t(189))}}if(c.alternate!==h)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:o}function Fl(s){return s=_u(s),s!==null?aa(s):null}function aa(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=aa(s);if(o!==null)return o;s=s.sibling}return null}var la=e.unstable_scheduleCallback,Ul=e.unstable_cancelCallback,xu=e.unstable_shouldYield,Df=e.unstable_requestPaint,vt=e.unstable_now,Eu=e.unstable_getCurrentPriorityLevel,uo=e.unstable_ImmediatePriority,ni=e.unstable_UserBlockingPriority,lr=e.unstable_NormalPriority,zl=e.unstable_LowPriority,bu=e.unstable_IdlePriority,ho=null,Gn=null;function Tu(s){if(Gn&&typeof Gn.onCommitFiberRoot=="function")try{Gn.onCommitFiberRoot(ho,s,void 0,(s.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:Cu,$l=Math.log,Su=Math.LN2;function Cu(s){return s>>>=0,s===0?32:31-($l(s)/Su|0)|0}var ca=64,ua=4194304;function ri(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function fo(s,o){var c=s.pendingLanes;if(c===0)return 0;var h=0,m=s.suspendedLanes,x=s.pingedLanes,I=c&268435455;if(I!==0){var z=I&~m;z!==0?h=ri(z):(x&=I,x!==0&&(h=ri(x)))}else I=c&~m,I!==0?h=ri(I):x!==0&&(h=ri(x));if(h===0)return 0;if(o!==0&&o!==h&&(o&m)===0&&(m=h&-h,x=o&-o,m>=x||m===16&&(x&4194240)!==0))return o;if((h&4)!==0&&(h|=c&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=h;0<o;)c=31-In(o),m=1<<c,h|=s[c],o&=~m;return h}function Of(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ts(s,o){for(var c=s.suspendedLanes,h=s.pingedLanes,m=s.expirationTimes,x=s.pendingLanes;0<x;){var I=31-In(x),z=1<<I,B=m[I];B===-1?((z&c)===0||(z&h)!==0)&&(m[I]=Of(z,o)):B<=o&&(s.expiredLanes|=z),x&=~z}}function Kn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function po(){var s=ca;return ca<<=1,(ca&4194240)===0&&(ca=64),s}function si(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function ii(s,o,c){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-In(o),s[o]=c}function yt(s,o){var c=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<c;){var m=31-In(c),x=1<<m;o[m]=0,h[m]=-1,s[m]=-1,c&=~x}}function oi(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var h=31-In(c),m=1<<h;m&o|s[h]&o&&(s[h]|=o),c&=~m}}var Je=0;function ai(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Iu,da,Au,Ru,Pu,Bl=!1,Yr=[],cn=null,Cr=null,Ir=null,li=new Map,cr=new Map,Xr=[],Mf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ku(s,o){switch(s){case"focusin":case"focusout":cn=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":li.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":cr.delete(o.pointerId)}}function Ln(s,o,c,h,m,x){return s===null||s.nativeEvent!==x?(s={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:x,targetContainers:[m]},o!==null&&(o=sc(o),o!==null&&da(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function Lf(s,o,c,h,m){switch(o){case"focusin":return cn=Ln(cn,s,o,c,h,m),!0;case"dragenter":return Cr=Ln(Cr,s,o,c,h,m),!0;case"mouseover":return Ir=Ln(Ir,s,o,c,h,m),!0;case"pointerover":var x=m.pointerId;return li.set(x,Ln(li.get(x)||null,s,o,c,h,m)),!0;case"gotpointercapture":return x=m.pointerId,cr.set(x,Ln(cr.get(x)||null,s,o,c,h,m)),!0}return!1}function Nu(s){var o=wo(s.target);if(o!==null){var c=Tr(o);if(c!==null){if(o=c.tag,o===13){if(o=co(c),o!==null){s.blockedOn=o,Pu(s.priority,function(){Au(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ss(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=ha(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);ke=h,c.target.dispatchEvent(h),ke=null}else return o=sc(c),o!==null&&da(o),s.blockedOn=c,!1;o.shift()}return!0}function mo(s,o,c){Ss(s)&&c.delete(o)}function Du(){Bl=!1,cn!==null&&Ss(cn)&&(cn=null),Cr!==null&&Ss(Cr)&&(Cr=null),Ir!==null&&Ss(Ir)&&(Ir=null),li.forEach(mo),cr.forEach(mo)}function Ar(s,o){s.blockedOn===o&&(s.blockedOn=null,Bl||(Bl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Du)))}function Rr(s){function o(m){return Ar(m,s)}if(0<Yr.length){Ar(Yr[0],s);for(var c=1;c<Yr.length;c++){var h=Yr[c];h.blockedOn===s&&(h.blockedOn=null)}}for(cn!==null&&Ar(cn,s),Cr!==null&&Ar(Cr,s),Ir!==null&&Ar(Ir,s),li.forEach(o),cr.forEach(o),c=0;c<Xr.length;c++)h=Xr[c],h.blockedOn===s&&(h.blockedOn=null);for(;0<Xr.length&&(c=Xr[0],c.blockedOn===null);)Nu(c),c.blockedOn===null&&Xr.shift()}var Cs=$.ReactCurrentBatchConfig,ci=!0;function It(s,o,c,h){var m=Je,x=Cs.transition;Cs.transition=null;try{Je=1,Wl(s,o,c,h)}finally{Je=m,Cs.transition=x}}function jf(s,o,c,h){var m=Je,x=Cs.transition;Cs.transition=null;try{Je=4,Wl(s,o,c,h)}finally{Je=m,Cs.transition=x}}function Wl(s,o,c,h){if(ci){var m=ha(s,o,c,h);if(m===null)Kf(s,o,h,go,c),ku(s,h);else if(Lf(m,s,o,c,h))h.stopPropagation();else if(ku(s,h),o&4&&-1<Mf.indexOf(s)){for(;m!==null;){var x=sc(m);if(x!==null&&Iu(x),x=ha(s,o,c,h),x===null&&Kf(s,o,h,go,c),x===m)break;m=x}m!==null&&h.stopPropagation()}else Kf(s,o,h,null,c)}}var go=null;function ha(s,o,c,h){if(go=null,s=it(h),s=wo(s),s!==null)if(o=Tr(s),o===null)s=null;else if(c=o.tag,c===13){if(s=co(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return go=s,null}function Hl(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Eu()){case uo:return 1;case ni:return 4;case lr:case zl:return 16;case bu:return 536870912;default:return 16}default:return 16}}var Qn=null,fa=null,jn=null;function ql(){if(jn)return jn;var s,o=fa,c=o.length,h,m="value"in Qn?Qn.value:Qn.textContent,x=m.length;for(s=0;s<c&&o[s]===m[s];s++);var I=c-s;for(h=1;h<=I&&o[c-h]===m[x-h];h++);return jn=m.slice(s,1<h?1-h:void 0)}function pa(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Jr(){return!0}function Gl(){return!1}function un(s){function o(c,h,m,x,I){this._reactName=c,this._targetInst=m,this.type=h,this.nativeEvent=x,this.target=I,this.currentTarget=null;for(var z in s)s.hasOwnProperty(z)&&(c=s[z],this[z]=c?c(x):x[z]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Jr:Gl,this.isPropagationStopped=Gl,this}return le(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Jr)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Jr)},persist:function(){},isPersistent:Jr}),o}var Pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ma=un(Pr),Zr=le({},Pr,{view:0,detail:0}),Vf=un(Zr),ga,Is,ui,yo=le({},Zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:es,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ui&&(ui&&s.type==="mousemove"?(ga=s.screenX-ui.screenX,Is=s.screenY-ui.screenY):Is=ga=0,ui=s),ga)},movementY:function(s){return"movementY"in s?s.movementY:Is}}),ya=un(yo),Kl=le({},yo,{dataTransfer:0}),Ou=un(Kl),va=le({},Zr,{relatedTarget:0}),wa=un(va),Mu=le({},Pr,{animationName:0,elapsedTime:0,pseudoElement:0}),As=un(Mu),Lu=le({},Pr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),ju=un(Lu),Vu=le({},Pr,{data:0}),Ql=un(Vu),_a={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},An={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uu(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Fu[s])?!!o[s]:!1}function es(){return Uu}var d=le({},Zr,{key:function(s){if(s.key){var o=_a[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=pa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?An[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:es,charCode:function(s){return s.type==="keypress"?pa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?pa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),_=un(d),E=le({},yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k=un(E),G=le({},Zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:es}),Z=un(G),he=le({},Pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),pt=un(he),Kt=le({},yo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),et=un(Kt),tn=[9,13,27,32],$t=u&&"CompositionEvent"in window,ur=null;u&&"documentMode"in document&&(ur=document.documentMode);var Yn=u&&"TextEvent"in window&&!ur,vo=u&&(!$t||ur&&8<ur&&11>=ur),xa=" ",pv=!1;function mv(s,o){switch(s){case"keyup":return tn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gv(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ea=!1;function lI(s,o){switch(s){case"compositionend":return gv(o);case"keypress":return o.which!==32?null:(pv=!0,xa);case"textInput":return s=o.data,s===xa&&pv?null:s;default:return null}}function cI(s,o){if(Ea)return s==="compositionend"||!$t&&mv(s,o)?(s=ql(),jn=fa=Qn=null,Ea=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return vo&&o.locale!=="ko"?null:o.data;default:return null}}var uI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yv(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!uI[s.type]:o==="textarea"}function vv(s,o,c,h){ar(h),o=Hu(o,"onChange"),0<o.length&&(c=new ma("onChange","change",null,c,h),s.push({event:c,listeners:o}))}var Yl=null,Xl=null;function dI(s){Lv(s,0)}function zu(s){var o=Ia(s);if(Ze(o))return s}function hI(s,o){if(s==="change")return o}var wv=!1;if(u){var Ff;if(u){var Uf="oninput"in document;if(!Uf){var _v=document.createElement("div");_v.setAttribute("oninput","return;"),Uf=typeof _v.oninput=="function"}Ff=Uf}else Ff=!1;wv=Ff&&(!document.documentMode||9<document.documentMode)}function xv(){Yl&&(Yl.detachEvent("onpropertychange",Ev),Xl=Yl=null)}function Ev(s){if(s.propertyName==="value"&&zu(Xl)){var o=[];vv(o,Xl,s,it(s)),jl(dI,o)}}function fI(s,o,c){s==="focusin"?(xv(),Yl=o,Xl=c,Yl.attachEvent("onpropertychange",Ev)):s==="focusout"&&xv()}function pI(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return zu(Xl)}function mI(s,o){if(s==="click")return zu(o)}function gI(s,o){if(s==="input"||s==="change")return zu(o)}function yI(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var kr=typeof Object.is=="function"?Object.is:yI;function Jl(s,o){if(kr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var m=c[h];if(!f.call(o,m)||!kr(s[m],o[m]))return!1}return!0}function bv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Tv(s,o){var c=bv(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=o&&h>=o)return{node:c,offset:o-s};s=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=bv(c)}}function Sv(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Sv(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Cv(){for(var s=window,o=Ye();o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=Ye(s.document)}return o}function zf(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function vI(s){var o=Cv(),c=s.focusedElem,h=s.selectionRange;if(o!==c&&c&&c.ownerDocument&&Sv(c.ownerDocument.documentElement,c)){if(h!==null&&zf(c)){if(o=h.start,s=h.end,s===void 0&&(s=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(s,c.value.length);else if(s=(o=c.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var m=c.textContent.length,x=Math.min(h.start,m);h=h.end===void 0?x:Math.min(h.end,m),!s.extend&&x>h&&(m=h,h=x,x=m),m=Tv(c,x);var I=Tv(c,h);m&&I&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==I.node||s.focusOffset!==I.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),s.removeAllRanges(),x>h?(s.addRange(o),s.extend(I.node,I.offset)):(o.setEnd(I.node,I.offset),s.addRange(o)))}}for(o=[],s=c;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)s=o[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var wI=u&&"documentMode"in document&&11>=document.documentMode,ba=null,$f=null,Zl=null,Bf=!1;function Iv(s,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Bf||ba==null||ba!==Ye(h)||(h=ba,"selectionStart"in h&&zf(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Zl&&Jl(Zl,h)||(Zl=h,h=Hu($f,"onSelect"),0<h.length&&(o=new ma("onSelect","select",null,o,c),s.push({event:o,listeners:h}),o.target=ba)))}function $u(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var Ta={animationend:$u("Animation","AnimationEnd"),animationiteration:$u("Animation","AnimationIteration"),animationstart:$u("Animation","AnimationStart"),transitionend:$u("Transition","TransitionEnd")},Wf={},Av={};u&&(Av=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function Bu(s){if(Wf[s])return Wf[s];if(!Ta[s])return s;var o=Ta[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in Av)return Wf[s]=o[c];return s}var Rv=Bu("animationend"),Pv=Bu("animationiteration"),kv=Bu("animationstart"),Nv=Bu("transitionend"),Dv=new Map,Ov="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function di(s,o){Dv.set(s,o),a(o,[s])}for(var Hf=0;Hf<Ov.length;Hf++){var qf=Ov[Hf],_I=qf.toLowerCase(),xI=qf[0].toUpperCase()+qf.slice(1);di(_I,"on"+xI)}di(Rv,"onAnimationEnd"),di(Pv,"onAnimationIteration"),di(kv,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(Nv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ec="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EI=new Set("cancel close invalid load scroll toggle".split(" ").concat(ec));function Mv(s,o,c){var h=s.type||"unknown-event";s.currentTarget=c,wu(h,o,void 0,s),s.currentTarget=null}function Lv(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],m=h.event;h=h.listeners;e:{var x=void 0;if(o)for(var I=h.length-1;0<=I;I--){var z=h[I],B=z.instance,J=z.currentTarget;if(z=z.listener,B!==x&&m.isPropagationStopped())break e;Mv(m,z,J),x=B}else for(I=0;I<h.length;I++){if(z=h[I],B=z.instance,J=z.currentTarget,z=z.listener,B!==x&&m.isPropagationStopped())break e;Mv(m,z,J),x=B}}}if(br)throw s=Vl,br=!1,Vl=null,s}function Tt(s,o){var c=o[ep];c===void 0&&(c=o[ep]=new Set);var h=s+"__bubble";c.has(h)||(jv(o,s,2,!1),c.add(h))}function Gf(s,o,c){var h=0;o&&(h|=4),jv(c,s,h,o)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function tc(s){if(!s[Wu]){s[Wu]=!0,r.forEach(function(c){c!=="selectionchange"&&(EI.has(c)||Gf(c,!1,s),Gf(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Wu]||(o[Wu]=!0,Gf("selectionchange",!1,o))}}function jv(s,o,c,h){switch(Hl(o)){case 1:var m=It;break;case 4:m=jf;break;default:m=Wl}c=m.bind(null,o,c,s),m=void 0,!sa||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),h?m!==void 0?s.addEventListener(o,c,{capture:!0,passive:m}):s.addEventListener(o,c,!0):m!==void 0?s.addEventListener(o,c,{passive:m}):s.addEventListener(o,c,!1)}function Kf(s,o,c,h,m){var x=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var I=h.tag;if(I===3||I===4){var z=h.stateNode.containerInfo;if(z===m||z.nodeType===8&&z.parentNode===m)break;if(I===4)for(I=h.return;I!==null;){var B=I.tag;if((B===3||B===4)&&(B=I.stateNode.containerInfo,B===m||B.nodeType===8&&B.parentNode===m))return;I=I.return}for(;z!==null;){if(I=wo(z),I===null)return;if(B=I.tag,B===5||B===6){h=x=I;continue e}z=z.parentNode}}h=h.return}jl(function(){var J=x,oe=it(c),ce=[];e:{var se=Dv.get(s);if(se!==void 0){var ve=ma,Ee=s;switch(s){case"keypress":if(pa(c)===0)break e;case"keydown":case"keyup":ve=_;break;case"focusin":Ee="focus",ve=wa;break;case"focusout":Ee="blur",ve=wa;break;case"beforeblur":case"afterblur":ve=wa;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=ya;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=Ou;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=Z;break;case Rv:case Pv:case kv:ve=As;break;case Nv:ve=pt;break;case"scroll":ve=Vf;break;case"wheel":ve=et;break;case"copy":case"cut":case"paste":ve=ju;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=k}var Te=(o&4)!==0,Ut=!Te&&s==="scroll",K=Te?se!==null?se+"Capture":null:se;Te=[];for(var W=J,Y;W!==null;){Y=W;var de=Y.stateNode;if(Y.tag===5&&de!==null&&(Y=de,K!==null&&(de=Ft(W,K),de!=null&&Te.push(nc(W,de,Y)))),Ut)break;W=W.return}0<Te.length&&(se=new ve(se,Ee,null,c,oe),ce.push({event:se,listeners:Te}))}}if((o&7)===0){e:{if(se=s==="mouseover"||s==="pointerover",ve=s==="mouseout"||s==="pointerout",se&&c!==ke&&(Ee=c.relatedTarget||c.fromElement)&&(wo(Ee)||Ee[Rs]))break e;if((ve||se)&&(se=oe.window===oe?oe:(se=oe.ownerDocument)?se.defaultView||se.parentWindow:window,ve?(Ee=c.relatedTarget||c.toElement,ve=J,Ee=Ee?wo(Ee):null,Ee!==null&&(Ut=Tr(Ee),Ee!==Ut||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(ve=null,Ee=J),ve!==Ee)){if(Te=ya,de="onMouseLeave",K="onMouseEnter",W="mouse",(s==="pointerout"||s==="pointerover")&&(Te=k,de="onPointerLeave",K="onPointerEnter",W="pointer"),Ut=ve==null?se:Ia(ve),Y=Ee==null?se:Ia(Ee),se=new Te(de,W+"leave",ve,c,oe),se.target=Ut,se.relatedTarget=Y,de=null,wo(oe)===J&&(Te=new Te(K,W+"enter",Ee,c,oe),Te.target=Y,Te.relatedTarget=Ut,de=Te),Ut=de,ve&&Ee)t:{for(Te=ve,K=Ee,W=0,Y=Te;Y;Y=Sa(Y))W++;for(Y=0,de=K;de;de=Sa(de))Y++;for(;0<W-Y;)Te=Sa(Te),W--;for(;0<Y-W;)K=Sa(K),Y--;for(;W--;){if(Te===K||K!==null&&Te===K.alternate)break t;Te=Sa(Te),K=Sa(K)}Te=null}else Te=null;ve!==null&&Vv(ce,se,ve,Te,!1),Ee!==null&&Ut!==null&&Vv(ce,Ut,Ee,Te,!0)}}e:{if(se=J?Ia(J):window,ve=se.nodeName&&se.nodeName.toLowerCase(),ve==="select"||ve==="input"&&se.type==="file")var Se=hI;else if(yv(se))if(wv)Se=gI;else{Se=pI;var Re=fI}else(ve=se.nodeName)&&ve.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(Se=mI);if(Se&&(Se=Se(s,J))){vv(ce,Se,c,oe);break e}Re&&Re(s,se,J),s==="focusout"&&(Re=se._wrapperState)&&Re.controlled&&se.type==="number"&&$e(se,"number",se.value)}switch(Re=J?Ia(J):window,s){case"focusin":(yv(Re)||Re.contentEditable==="true")&&(ba=Re,$f=J,Zl=null);break;case"focusout":Zl=$f=ba=null;break;case"mousedown":Bf=!0;break;case"contextmenu":case"mouseup":case"dragend":Bf=!1,Iv(ce,c,oe);break;case"selectionchange":if(wI)break;case"keydown":case"keyup":Iv(ce,c,oe)}var Pe;if($t)e:{switch(s){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Ea?mv(s,c)&&(Me="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Me="onCompositionStart");Me&&(vo&&c.locale!=="ko"&&(Ea||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Ea&&(Pe=ql()):(Qn=oe,fa="value"in Qn?Qn.value:Qn.textContent,Ea=!0)),Re=Hu(J,Me),0<Re.length&&(Me=new Ql(Me,s,null,c,oe),ce.push({event:Me,listeners:Re}),Pe?Me.data=Pe:(Pe=gv(c),Pe!==null&&(Me.data=Pe)))),(Pe=Yn?lI(s,c):cI(s,c))&&(J=Hu(J,"onBeforeInput"),0<J.length&&(oe=new Ql("onBeforeInput","beforeinput",null,c,oe),ce.push({event:oe,listeners:J}),oe.data=Pe))}Lv(ce,o)})}function nc(s,o,c){return{instance:s,listener:o,currentTarget:c}}function Hu(s,o){for(var c=o+"Capture",h=[];s!==null;){var m=s,x=m.stateNode;m.tag===5&&x!==null&&(m=x,x=Ft(s,c),x!=null&&h.unshift(nc(s,x,m)),x=Ft(s,o),x!=null&&h.push(nc(s,x,m))),s=s.return}return h}function Sa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Vv(s,o,c,h,m){for(var x=o._reactName,I=[];c!==null&&c!==h;){var z=c,B=z.alternate,J=z.stateNode;if(B!==null&&B===h)break;z.tag===5&&J!==null&&(z=J,m?(B=Ft(c,x),B!=null&&I.unshift(nc(c,B,z))):m||(B=Ft(c,x),B!=null&&I.push(nc(c,B,z)))),c=c.return}I.length!==0&&s.push({event:o,listeners:I})}var bI=/\r\n?/g,TI=/\u0000|\uFFFD/g;function Fv(s){return(typeof s=="string"?s:""+s).replace(bI,`
`).replace(TI,"")}function qu(s,o,c){if(o=Fv(o),Fv(s)!==o&&c)throw Error(t(425))}function Gu(){}var Qf=null,Yf=null;function Xf(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Jf=typeof setTimeout=="function"?setTimeout:void 0,SI=typeof clearTimeout=="function"?clearTimeout:void 0,Uv=typeof Promise=="function"?Promise:void 0,CI=typeof queueMicrotask=="function"?queueMicrotask:typeof Uv<"u"?function(s){return Uv.resolve(null).then(s).catch(II)}:Jf;function II(s){setTimeout(function(){throw s})}function Zf(s,o){var c=o,h=0;do{var m=c.nextSibling;if(s.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(h===0){s.removeChild(m),Rr(o);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=m}while(c);Rr(o)}function hi(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function zv(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}var Ca=Math.random().toString(36).slice(2),ts="__reactFiber$"+Ca,rc="__reactProps$"+Ca,Rs="__reactContainer$"+Ca,ep="__reactEvents$"+Ca,AI="__reactListeners$"+Ca,RI="__reactHandles$"+Ca;function wo(s){var o=s[ts];if(o)return o;for(var c=s.parentNode;c;){if(o=c[Rs]||c[ts]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=zv(s);s!==null;){if(c=s[ts])return c;s=zv(s)}return o}s=c,c=s.parentNode}return null}function sc(s){return s=s[ts]||s[Rs],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ia(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Ku(s){return s[rc]||null}var tp=[],Aa=-1;function fi(s){return{current:s}}function St(s){0>Aa||(s.current=tp[Aa],tp[Aa]=null,Aa--)}function wt(s,o){Aa++,tp[Aa]=s.current,s.current=o}var pi={},gn=fi(pi),Vn=fi(!1),_o=pi;function Ra(s,o){var c=s.type.contextTypes;if(!c)return pi;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var m={},x;for(x in c)m[x]=o[x];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=m),m}function Fn(s){return s=s.childContextTypes,s!=null}function Qu(){St(Vn),St(gn)}function $v(s,o,c){if(gn.current!==pi)throw Error(t(168));wt(gn,o),wt(Vn,c)}function Bv(s,o,c){var h=s.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var m in h)if(!(m in o))throw Error(t(108,Ue(s)||"Unknown",m));return le({},c,h)}function Yu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||pi,_o=gn.current,wt(gn,s),wt(Vn,Vn.current),!0}function Wv(s,o,c){var h=s.stateNode;if(!h)throw Error(t(169));c?(s=Bv(s,o,_o),h.__reactInternalMemoizedMergedChildContext=s,St(Vn),St(gn),wt(gn,s)):St(Vn),wt(Vn,c)}var Ps=null,Xu=!1,np=!1;function Hv(s){Ps===null?Ps=[s]:Ps.push(s)}function PI(s){Xu=!0,Hv(s)}function mi(){if(!np&&Ps!==null){np=!0;var s=0,o=Je;try{var c=Ps;for(Je=1;s<c.length;s++){var h=c[s];do h=h(!0);while(h!==null)}Ps=null,Xu=!1}catch(m){throw Ps!==null&&(Ps=Ps.slice(s+1)),la(uo,mi),m}finally{Je=o,np=!1}}return null}var Pa=[],ka=0,Ju=null,Zu=0,dr=[],hr=0,xo=null,ks=1,Ns="";function Eo(s,o){Pa[ka++]=Zu,Pa[ka++]=Ju,Ju=s,Zu=o}function qv(s,o,c){dr[hr++]=ks,dr[hr++]=Ns,dr[hr++]=xo,xo=s;var h=ks;s=Ns;var m=32-In(h)-1;h&=~(1<<m),c+=1;var x=32-In(o)+m;if(30<x){var I=m-m%5;x=(h&(1<<I)-1).toString(32),h>>=I,m-=I,ks=1<<32-In(o)+m|c<<m|h,Ns=x+s}else ks=1<<x|c<<m|h,Ns=s}function rp(s){s.return!==null&&(Eo(s,1),qv(s,1,0))}function sp(s){for(;s===Ju;)Ju=Pa[--ka],Pa[ka]=null,Zu=Pa[--ka],Pa[ka]=null;for(;s===xo;)xo=dr[--hr],dr[hr]=null,Ns=dr[--hr],dr[hr]=null,ks=dr[--hr],dr[hr]=null}var Xn=null,Jn=null,At=!1,Nr=null;function Gv(s,o){var c=gr(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=s,o=s.deletions,o===null?(s.deletions=[c],s.flags|=16):o.push(c)}function Kv(s,o){switch(s.tag){case 5:var c=s.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Xn=s,Jn=hi(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Xn=s,Jn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=xo!==null?{id:ks,overflow:Ns}:null,s.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=gr(18,null,null,0),c.stateNode=o,c.return=s,s.child=c,Xn=s,Jn=null,!0):!1;default:return!1}}function ip(s){return(s.mode&1)!==0&&(s.flags&128)===0}function op(s){if(At){var o=Jn;if(o){var c=o;if(!Kv(s,o)){if(ip(s))throw Error(t(418));o=hi(c.nextSibling);var h=Xn;o&&Kv(s,o)?Gv(h,c):(s.flags=s.flags&-4097|2,At=!1,Xn=s)}}else{if(ip(s))throw Error(t(418));s.flags=s.flags&-4097|2,At=!1,Xn=s}}}function Qv(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Xn=s}function ed(s){if(s!==Xn)return!1;if(!At)return Qv(s),At=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Xf(s.type,s.memoizedProps)),o&&(o=Jn)){if(ip(s))throw Yv(),Error(t(418));for(;o;)Gv(s,o),o=hi(o.nextSibling)}if(Qv(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(o===0){Jn=hi(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}s=s.nextSibling}Jn=null}}else Jn=Xn?hi(s.stateNode.nextSibling):null;return!0}function Yv(){for(var s=Jn;s;)s=hi(s.nextSibling)}function Na(){Jn=Xn=null,At=!1}function ap(s){Nr===null?Nr=[s]:Nr.push(s)}var kI=$.ReactCurrentBatchConfig;function ic(s,o,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var h=c.stateNode}if(!h)throw Error(t(147,s));var m=h,x=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===x?o.ref:(o=function(I){var z=m.refs;I===null?delete z[x]:z[x]=I},o._stringRef=x,o)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function td(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function Xv(s){var o=s._init;return o(s._payload)}function Jv(s){function o(K,W){if(s){var Y=K.deletions;Y===null?(K.deletions=[W],K.flags|=16):Y.push(W)}}function c(K,W){if(!s)return null;for(;W!==null;)o(K,W),W=W.sibling;return null}function h(K,W){for(K=new Map;W!==null;)W.key!==null?K.set(W.key,W):K.set(W.index,W),W=W.sibling;return K}function m(K,W){return K=bi(K,W),K.index=0,K.sibling=null,K}function x(K,W,Y){return K.index=Y,s?(Y=K.alternate,Y!==null?(Y=Y.index,Y<W?(K.flags|=2,W):Y):(K.flags|=2,W)):(K.flags|=1048576,W)}function I(K){return s&&K.alternate===null&&(K.flags|=2),K}function z(K,W,Y,de){return W===null||W.tag!==6?(W=Jp(Y,K.mode,de),W.return=K,W):(W=m(W,Y),W.return=K,W)}function B(K,W,Y,de){var Se=Y.type;return Se===P?oe(K,W,Y.props.children,de,Y.key):W!==null&&(W.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===ge&&Xv(Se)===W.type)?(de=m(W,Y.props),de.ref=ic(K,W,Y),de.return=K,de):(de=Sd(Y.type,Y.key,Y.props,null,K.mode,de),de.ref=ic(K,W,Y),de.return=K,de)}function J(K,W,Y,de){return W===null||W.tag!==4||W.stateNode.containerInfo!==Y.containerInfo||W.stateNode.implementation!==Y.implementation?(W=Zp(Y,K.mode,de),W.return=K,W):(W=m(W,Y.children||[]),W.return=K,W)}function oe(K,W,Y,de,Se){return W===null||W.tag!==7?(W=Po(Y,K.mode,de,Se),W.return=K,W):(W=m(W,Y),W.return=K,W)}function ce(K,W,Y){if(typeof W=="string"&&W!==""||typeof W=="number")return W=Jp(""+W,K.mode,Y),W.return=K,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case H:return Y=Sd(W.type,W.key,W.props,null,K.mode,Y),Y.ref=ic(K,null,W),Y.return=K,Y;case q:return W=Zp(W,K.mode,Y),W.return=K,W;case ge:var de=W._init;return ce(K,de(W._payload),Y)}if(ft(W)||ae(W))return W=Po(W,K.mode,Y,null),W.return=K,W;td(K,W)}return null}function se(K,W,Y,de){var Se=W!==null?W.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Se!==null?null:z(K,W,""+Y,de);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case H:return Y.key===Se?B(K,W,Y,de):null;case q:return Y.key===Se?J(K,W,Y,de):null;case ge:return Se=Y._init,se(K,W,Se(Y._payload),de)}if(ft(Y)||ae(Y))return Se!==null?null:oe(K,W,Y,de,null);td(K,Y)}return null}function ve(K,W,Y,de,Se){if(typeof de=="string"&&de!==""||typeof de=="number")return K=K.get(Y)||null,z(W,K,""+de,Se);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case H:return K=K.get(de.key===null?Y:de.key)||null,B(W,K,de,Se);case q:return K=K.get(de.key===null?Y:de.key)||null,J(W,K,de,Se);case ge:var Re=de._init;return ve(K,W,Y,Re(de._payload),Se)}if(ft(de)||ae(de))return K=K.get(Y)||null,oe(W,K,de,Se,null);td(W,de)}return null}function Ee(K,W,Y,de){for(var Se=null,Re=null,Pe=W,Me=W=0,sn=null;Pe!==null&&Me<Y.length;Me++){Pe.index>Me?(sn=Pe,Pe=null):sn=Pe.sibling;var ot=se(K,Pe,Y[Me],de);if(ot===null){Pe===null&&(Pe=sn);break}s&&Pe&&ot.alternate===null&&o(K,Pe),W=x(ot,W,Me),Re===null?Se=ot:Re.sibling=ot,Re=ot,Pe=sn}if(Me===Y.length)return c(K,Pe),At&&Eo(K,Me),Se;if(Pe===null){for(;Me<Y.length;Me++)Pe=ce(K,Y[Me],de),Pe!==null&&(W=x(Pe,W,Me),Re===null?Se=Pe:Re.sibling=Pe,Re=Pe);return At&&Eo(K,Me),Se}for(Pe=h(K,Pe);Me<Y.length;Me++)sn=ve(Pe,K,Me,Y[Me],de),sn!==null&&(s&&sn.alternate!==null&&Pe.delete(sn.key===null?Me:sn.key),W=x(sn,W,Me),Re===null?Se=sn:Re.sibling=sn,Re=sn);return s&&Pe.forEach(function(Ti){return o(K,Ti)}),At&&Eo(K,Me),Se}function Te(K,W,Y,de){var Se=ae(Y);if(typeof Se!="function")throw Error(t(150));if(Y=Se.call(Y),Y==null)throw Error(t(151));for(var Re=Se=null,Pe=W,Me=W=0,sn=null,ot=Y.next();Pe!==null&&!ot.done;Me++,ot=Y.next()){Pe.index>Me?(sn=Pe,Pe=null):sn=Pe.sibling;var Ti=se(K,Pe,ot.value,de);if(Ti===null){Pe===null&&(Pe=sn);break}s&&Pe&&Ti.alternate===null&&o(K,Pe),W=x(Ti,W,Me),Re===null?Se=Ti:Re.sibling=Ti,Re=Ti,Pe=sn}if(ot.done)return c(K,Pe),At&&Eo(K,Me),Se;if(Pe===null){for(;!ot.done;Me++,ot=Y.next())ot=ce(K,ot.value,de),ot!==null&&(W=x(ot,W,Me),Re===null?Se=ot:Re.sibling=ot,Re=ot);return At&&Eo(K,Me),Se}for(Pe=h(K,Pe);!ot.done;Me++,ot=Y.next())ot=ve(Pe,K,Me,ot.value,de),ot!==null&&(s&&ot.alternate!==null&&Pe.delete(ot.key===null?Me:ot.key),W=x(ot,W,Me),Re===null?Se=ot:Re.sibling=ot,Re=ot);return s&&Pe.forEach(function(uA){return o(K,uA)}),At&&Eo(K,Me),Se}function Ut(K,W,Y,de){if(typeof Y=="object"&&Y!==null&&Y.type===P&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case H:e:{for(var Se=Y.key,Re=W;Re!==null;){if(Re.key===Se){if(Se=Y.type,Se===P){if(Re.tag===7){c(K,Re.sibling),W=m(Re,Y.props.children),W.return=K,K=W;break e}}else if(Re.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===ge&&Xv(Se)===Re.type){c(K,Re.sibling),W=m(Re,Y.props),W.ref=ic(K,Re,Y),W.return=K,K=W;break e}c(K,Re);break}else o(K,Re);Re=Re.sibling}Y.type===P?(W=Po(Y.props.children,K.mode,de,Y.key),W.return=K,K=W):(de=Sd(Y.type,Y.key,Y.props,null,K.mode,de),de.ref=ic(K,W,Y),de.return=K,K=de)}return I(K);case q:e:{for(Re=Y.key;W!==null;){if(W.key===Re)if(W.tag===4&&W.stateNode.containerInfo===Y.containerInfo&&W.stateNode.implementation===Y.implementation){c(K,W.sibling),W=m(W,Y.children||[]),W.return=K,K=W;break e}else{c(K,W);break}else o(K,W);W=W.sibling}W=Zp(Y,K.mode,de),W.return=K,K=W}return I(K);case ge:return Re=Y._init,Ut(K,W,Re(Y._payload),de)}if(ft(Y))return Ee(K,W,Y,de);if(ae(Y))return Te(K,W,Y,de);td(K,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,W!==null&&W.tag===6?(c(K,W.sibling),W=m(W,Y),W.return=K,K=W):(c(K,W),W=Jp(Y,K.mode,de),W.return=K,K=W),I(K)):c(K,W)}return Ut}var Da=Jv(!0),Zv=Jv(!1),nd=fi(null),rd=null,Oa=null,lp=null;function cp(){lp=Oa=rd=null}function up(s){var o=nd.current;St(nd),s._currentValue=o}function dp(s,o,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===c)break;s=s.return}}function Ma(s,o){rd=s,lp=Oa=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(Un=!0),s.firstContext=null)}function fr(s){var o=s._currentValue;if(lp!==s)if(s={context:s,memoizedValue:o,next:null},Oa===null){if(rd===null)throw Error(t(308));Oa=s,rd.dependencies={lanes:0,firstContext:s}}else Oa=Oa.next=s;return o}var bo=null;function hp(s){bo===null?bo=[s]:bo.push(s)}function ew(s,o,c,h){var m=o.interleaved;return m===null?(c.next=c,hp(o)):(c.next=m.next,m.next=c),o.interleaved=c,Ds(s,h)}function Ds(s,o){s.lanes|=o;var c=s.alternate;for(c!==null&&(c.lanes|=o),c=s,s=s.return;s!==null;)s.childLanes|=o,c=s.alternate,c!==null&&(c.childLanes|=o),c=s,s=s.return;return c.tag===3?c.stateNode:null}var gi=!1;function fp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tw(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Os(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function yi(s,o,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(rt&2)!==0){var m=h.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),h.pending=o,Ds(s,c)}return m=h.interleaved,m===null?(o.next=o,hp(h)):(o.next=m.next,m.next=o),h.interleaved=o,Ds(s,c)}function sd(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var h=o.lanes;h&=s.pendingLanes,c|=h,o.lanes=c,oi(s,c)}}function nw(s,o){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var m=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var I={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};x===null?m=x=I:x=x.next=I,c=c.next}while(c!==null);x===null?m=x=o:x=x.next=o}else m=x=o;c={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:x,shared:h.shared,effects:h.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}function id(s,o,c,h){var m=s.updateQueue;gi=!1;var x=m.firstBaseUpdate,I=m.lastBaseUpdate,z=m.shared.pending;if(z!==null){m.shared.pending=null;var B=z,J=B.next;B.next=null,I===null?x=J:I.next=J,I=B;var oe=s.alternate;oe!==null&&(oe=oe.updateQueue,z=oe.lastBaseUpdate,z!==I&&(z===null?oe.firstBaseUpdate=J:z.next=J,oe.lastBaseUpdate=B))}if(x!==null){var ce=m.baseState;I=0,oe=J=B=null,z=x;do{var se=z.lane,ve=z.eventTime;if((h&se)===se){oe!==null&&(oe=oe.next={eventTime:ve,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var Ee=s,Te=z;switch(se=o,ve=c,Te.tag){case 1:if(Ee=Te.payload,typeof Ee=="function"){ce=Ee.call(ve,ce,se);break e}ce=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Te.payload,se=typeof Ee=="function"?Ee.call(ve,ce,se):Ee,se==null)break e;ce=le({},ce,se);break e;case 2:gi=!0}}z.callback!==null&&z.lane!==0&&(s.flags|=64,se=m.effects,se===null?m.effects=[z]:se.push(z))}else ve={eventTime:ve,lane:se,tag:z.tag,payload:z.payload,callback:z.callback,next:null},oe===null?(J=oe=ve,B=ce):oe=oe.next=ve,I|=se;if(z=z.next,z===null){if(z=m.shared.pending,z===null)break;se=z,z=se.next,se.next=null,m.lastBaseUpdate=se,m.shared.pending=null}}while(!0);if(oe===null&&(B=ce),m.baseState=B,m.firstBaseUpdate=J,m.lastBaseUpdate=oe,o=m.shared.interleaved,o!==null){m=o;do I|=m.lane,m=m.next;while(m!==o)}else x===null&&(m.shared.lanes=0);Co|=I,s.lanes=I,s.memoizedState=ce}}function rw(s,o,c){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var h=s[o],m=h.callback;if(m!==null){if(h.callback=null,h=c,typeof m!="function")throw Error(t(191,m));m.call(h)}}}var oc={},ns=fi(oc),ac=fi(oc),lc=fi(oc);function To(s){if(s===oc)throw Error(t(174));return s}function pp(s,o){switch(wt(lc,o),wt(ac,s),wt(ns,oc),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:mt(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=mt(o,s)}St(ns),wt(ns,o)}function La(){St(ns),St(ac),St(lc)}function sw(s){To(lc.current);var o=To(ns.current),c=mt(o,s.type);o!==c&&(wt(ac,s),wt(ns,c))}function mp(s){ac.current===s&&(St(ns),St(ac))}var Pt=fi(0);function od(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var gp=[];function yp(){for(var s=0;s<gp.length;s++)gp[s]._workInProgressVersionPrimary=null;gp.length=0}var ad=$.ReactCurrentDispatcher,vp=$.ReactCurrentBatchConfig,So=0,kt=null,Qt=null,nn=null,ld=!1,cc=!1,uc=0,NI=0;function yn(){throw Error(t(321))}function wp(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!kr(s[c],o[c]))return!1;return!0}function _p(s,o,c,h,m,x){if(So=x,kt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,ad.current=s===null||s.memoizedState===null?LI:jI,s=c(h,m),cc){x=0;do{if(cc=!1,uc=0,25<=x)throw Error(t(301));x+=1,nn=Qt=null,o.updateQueue=null,ad.current=VI,s=c(h,m)}while(cc)}if(ad.current=dd,o=Qt!==null&&Qt.next!==null,So=0,nn=Qt=kt=null,ld=!1,o)throw Error(t(300));return s}function xp(){var s=uc!==0;return uc=0,s}function rs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?kt.memoizedState=nn=s:nn=nn.next=s,nn}function pr(){if(Qt===null){var s=kt.alternate;s=s!==null?s.memoizedState:null}else s=Qt.next;var o=nn===null?kt.memoizedState:nn.next;if(o!==null)nn=o,Qt=s;else{if(s===null)throw Error(t(310));Qt=s,s={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},nn===null?kt.memoizedState=nn=s:nn=nn.next=s}return nn}function dc(s,o){return typeof o=="function"?o(s):o}function Ep(s){var o=pr(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var h=Qt,m=h.baseQueue,x=c.pending;if(x!==null){if(m!==null){var I=m.next;m.next=x.next,x.next=I}h.baseQueue=m=x,c.pending=null}if(m!==null){x=m.next,h=h.baseState;var z=I=null,B=null,J=x;do{var oe=J.lane;if((So&oe)===oe)B!==null&&(B=B.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),h=J.hasEagerState?J.eagerState:s(h,J.action);else{var ce={lane:oe,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};B===null?(z=B=ce,I=h):B=B.next=ce,kt.lanes|=oe,Co|=oe}J=J.next}while(J!==null&&J!==x);B===null?I=h:B.next=z,kr(h,o.memoizedState)||(Un=!0),o.memoizedState=h,o.baseState=I,o.baseQueue=B,c.lastRenderedState=h}if(s=c.interleaved,s!==null){m=s;do x=m.lane,kt.lanes|=x,Co|=x,m=m.next;while(m!==s)}else m===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function bp(s){var o=pr(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var h=c.dispatch,m=c.pending,x=o.memoizedState;if(m!==null){c.pending=null;var I=m=m.next;do x=s(x,I.action),I=I.next;while(I!==m);kr(x,o.memoizedState)||(Un=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),c.lastRenderedState=x}return[x,h]}function iw(){}function ow(s,o){var c=kt,h=pr(),m=o(),x=!kr(h.memoizedState,m);if(x&&(h.memoizedState=m,Un=!0),h=h.queue,Tp(cw.bind(null,c,h,s),[s]),h.getSnapshot!==o||x||nn!==null&&nn.memoizedState.tag&1){if(c.flags|=2048,hc(9,lw.bind(null,c,h,m,o),void 0,null),rn===null)throw Error(t(349));(So&30)!==0||aw(c,o,m)}return m}function aw(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=kt.updateQueue,o===null?(o={lastEffect:null,stores:null},kt.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function lw(s,o,c,h){o.value=c,o.getSnapshot=h,uw(o)&&dw(s)}function cw(s,o,c){return c(function(){uw(o)&&dw(s)})}function uw(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!kr(s,c)}catch{return!0}}function dw(s){var o=Ds(s,1);o!==null&&Lr(o,s,1,-1)}function hw(s){var o=rs();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dc,lastRenderedState:s},o.queue=s,s=s.dispatch=MI.bind(null,kt,s),[o.memoizedState,s]}function hc(s,o,c,h){return s={tag:s,create:o,destroy:c,deps:h,next:null},o=kt.updateQueue,o===null?(o={lastEffect:null,stores:null},kt.updateQueue=o,o.lastEffect=s.next=s):(c=o.lastEffect,c===null?o.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,o.lastEffect=s)),s}function fw(){return pr().memoizedState}function cd(s,o,c,h){var m=rs();kt.flags|=s,m.memoizedState=hc(1|o,c,void 0,h===void 0?null:h)}function ud(s,o,c,h){var m=pr();h=h===void 0?null:h;var x=void 0;if(Qt!==null){var I=Qt.memoizedState;if(x=I.destroy,h!==null&&wp(h,I.deps)){m.memoizedState=hc(o,c,x,h);return}}kt.flags|=s,m.memoizedState=hc(1|o,c,x,h)}function pw(s,o){return cd(8390656,8,s,o)}function Tp(s,o){return ud(2048,8,s,o)}function mw(s,o){return ud(4,2,s,o)}function gw(s,o){return ud(4,4,s,o)}function yw(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function vw(s,o,c){return c=c!=null?c.concat([s]):null,ud(4,4,yw.bind(null,o,s),c)}function Sp(){}function ww(s,o){var c=pr();o=o===void 0?null:o;var h=c.memoizedState;return h!==null&&o!==null&&wp(o,h[1])?h[0]:(c.memoizedState=[s,o],s)}function _w(s,o){var c=pr();o=o===void 0?null:o;var h=c.memoizedState;return h!==null&&o!==null&&wp(o,h[1])?h[0]:(s=s(),c.memoizedState=[s,o],s)}function xw(s,o,c){return(So&21)===0?(s.baseState&&(s.baseState=!1,Un=!0),s.memoizedState=c):(kr(c,o)||(c=po(),kt.lanes|=c,Co|=c,s.baseState=!0),o)}function DI(s,o){var c=Je;Je=c!==0&&4>c?c:4,s(!0);var h=vp.transition;vp.transition={};try{s(!1),o()}finally{Je=c,vp.transition=h}}function Ew(){return pr().memoizedState}function OI(s,o,c){var h=xi(s);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},bw(s))Tw(o,c);else if(c=ew(s,o,c,h),c!==null){var m=Pn();Lr(c,s,h,m),Sw(c,o,h)}}function MI(s,o,c){var h=xi(s),m={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(bw(s))Tw(o,m);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var I=o.lastRenderedState,z=x(I,c);if(m.hasEagerState=!0,m.eagerState=z,kr(z,I)){var B=o.interleaved;B===null?(m.next=m,hp(o)):(m.next=B.next,B.next=m),o.interleaved=m;return}}catch{}finally{}c=ew(s,o,m,h),c!==null&&(m=Pn(),Lr(c,s,h,m),Sw(c,o,h))}}function bw(s){var o=s.alternate;return s===kt||o!==null&&o===kt}function Tw(s,o){cc=ld=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function Sw(s,o,c){if((c&4194240)!==0){var h=o.lanes;h&=s.pendingLanes,c|=h,o.lanes=c,oi(s,c)}}var dd={readContext:fr,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useInsertionEffect:yn,useLayoutEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useMutableSource:yn,useSyncExternalStore:yn,useId:yn,unstable_isNewReconciler:!1},LI={readContext:fr,useCallback:function(s,o){return rs().memoizedState=[s,o===void 0?null:o],s},useContext:fr,useEffect:pw,useImperativeHandle:function(s,o,c){return c=c!=null?c.concat([s]):null,cd(4194308,4,yw.bind(null,o,s),c)},useLayoutEffect:function(s,o){return cd(4194308,4,s,o)},useInsertionEffect:function(s,o){return cd(4,2,s,o)},useMemo:function(s,o){var c=rs();return o=o===void 0?null:o,s=s(),c.memoizedState=[s,o],s},useReducer:function(s,o,c){var h=rs();return o=c!==void 0?c(o):o,h.memoizedState=h.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},h.queue=s,s=s.dispatch=OI.bind(null,kt,s),[h.memoizedState,s]},useRef:function(s){var o=rs();return s={current:s},o.memoizedState=s},useState:hw,useDebugValue:Sp,useDeferredValue:function(s){return rs().memoizedState=s},useTransition:function(){var s=hw(!1),o=s[0];return s=DI.bind(null,s[1]),rs().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,c){var h=kt,m=rs();if(At){if(c===void 0)throw Error(t(407));c=c()}else{if(c=o(),rn===null)throw Error(t(349));(So&30)!==0||aw(h,o,c)}m.memoizedState=c;var x={value:c,getSnapshot:o};return m.queue=x,pw(cw.bind(null,h,x,s),[s]),h.flags|=2048,hc(9,lw.bind(null,h,x,c,o),void 0,null),c},useId:function(){var s=rs(),o=rn.identifierPrefix;if(At){var c=Ns,h=ks;c=(h&~(1<<32-In(h)-1)).toString(32)+c,o=":"+o+"R"+c,c=uc++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=NI++,o=":"+o+"r"+c.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},jI={readContext:fr,useCallback:ww,useContext:fr,useEffect:Tp,useImperativeHandle:vw,useInsertionEffect:mw,useLayoutEffect:gw,useMemo:_w,useReducer:Ep,useRef:fw,useState:function(){return Ep(dc)},useDebugValue:Sp,useDeferredValue:function(s){var o=pr();return xw(o,Qt.memoizedState,s)},useTransition:function(){var s=Ep(dc)[0],o=pr().memoizedState;return[s,o]},useMutableSource:iw,useSyncExternalStore:ow,useId:Ew,unstable_isNewReconciler:!1},VI={readContext:fr,useCallback:ww,useContext:fr,useEffect:Tp,useImperativeHandle:vw,useInsertionEffect:mw,useLayoutEffect:gw,useMemo:_w,useReducer:bp,useRef:fw,useState:function(){return bp(dc)},useDebugValue:Sp,useDeferredValue:function(s){var o=pr();return Qt===null?o.memoizedState=s:xw(o,Qt.memoizedState,s)},useTransition:function(){var s=bp(dc)[0],o=pr().memoizedState;return[s,o]},useMutableSource:iw,useSyncExternalStore:ow,useId:Ew,unstable_isNewReconciler:!1};function Dr(s,o){if(s&&s.defaultProps){o=le({},o),s=s.defaultProps;for(var c in s)o[c]===void 0&&(o[c]=s[c]);return o}return o}function Cp(s,o,c,h){o=s.memoizedState,c=c(h,o),c=c==null?o:le({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var hd={isMounted:function(s){return(s=s._reactInternals)?Tr(s)===s:!1},enqueueSetState:function(s,o,c){s=s._reactInternals;var h=Pn(),m=xi(s),x=Os(h,m);x.payload=o,c!=null&&(x.callback=c),o=yi(s,x,m),o!==null&&(Lr(o,s,m,h),sd(o,s,m))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var h=Pn(),m=xi(s),x=Os(h,m);x.tag=1,x.payload=o,c!=null&&(x.callback=c),o=yi(s,x,m),o!==null&&(Lr(o,s,m,h),sd(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=Pn(),h=xi(s),m=Os(c,h);m.tag=2,o!=null&&(m.callback=o),o=yi(s,m,h),o!==null&&(Lr(o,s,h,c),sd(o,s,h))}};function Cw(s,o,c,h,m,x,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,x,I):o.prototype&&o.prototype.isPureReactComponent?!Jl(c,h)||!Jl(m,x):!0}function Iw(s,o,c){var h=!1,m=pi,x=o.contextType;return typeof x=="object"&&x!==null?x=fr(x):(m=Fn(o)?_o:gn.current,h=o.contextTypes,x=(h=h!=null)?Ra(s,m):pi),o=new o(c,x),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=hd,s.stateNode=o,o._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=x),o}function Aw(s,o,c,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==s&&hd.enqueueReplaceState(o,o.state,null)}function Ip(s,o,c,h){var m=s.stateNode;m.props=c,m.state=s.memoizedState,m.refs={},fp(s);var x=o.contextType;typeof x=="object"&&x!==null?m.context=fr(x):(x=Fn(o)?_o:gn.current,m.context=Ra(s,x)),m.state=s.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(Cp(s,o,x,c),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&hd.enqueueReplaceState(m,m.state,null),id(s,c,m,h),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function ja(s,o){try{var c="",h=o;do c+=Ie(h),h=h.return;while(h);var m=c}catch(x){m=`
Error generating stack: `+x.message+`
`+x.stack}return{value:s,source:o,stack:m,digest:null}}function Ap(s,o,c){return{value:s,source:null,stack:c??null,digest:o??null}}function Rp(s,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var FI=typeof WeakMap=="function"?WeakMap:Map;function Rw(s,o,c){c=Os(-1,c),c.tag=3,c.payload={element:null};var h=o.value;return c.callback=function(){wd||(wd=!0,Wp=h),Rp(s,o)},c}function Pw(s,o,c){c=Os(-1,c),c.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;c.payload=function(){return h(m)},c.callback=function(){Rp(s,o)}}var x=s.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(c.callback=function(){Rp(s,o),typeof h!="function"&&(wi===null?wi=new Set([this]):wi.add(this));var I=o.stack;this.componentDidCatch(o.value,{componentStack:I!==null?I:""})}),c}function kw(s,o,c){var h=s.pingCache;if(h===null){h=s.pingCache=new FI;var m=new Set;h.set(o,m)}else m=h.get(o),m===void 0&&(m=new Set,h.set(o,m));m.has(c)||(m.add(c),s=ZI.bind(null,s,o,c),o.then(s,s))}function Nw(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Dw(s,o,c,h,m){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=Os(-1,1),o.tag=2,yi(c,o,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var UI=$.ReactCurrentOwner,Un=!1;function Rn(s,o,c,h){o.child=s===null?Zv(o,null,c,h):Da(o,s.child,c,h)}function Ow(s,o,c,h,m){c=c.render;var x=o.ref;return Ma(o,m),h=_p(s,o,c,h,x,m),c=xp(),s!==null&&!Un?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,Ms(s,o,m)):(At&&c&&rp(o),o.flags|=1,Rn(s,o,h,m),o.child)}function Mw(s,o,c,h,m){if(s===null){var x=c.type;return typeof x=="function"&&!Xp(x)&&x.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=x,Lw(s,o,x,h,m)):(s=Sd(c.type,null,h,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(x=s.child,(s.lanes&m)===0){var I=x.memoizedProps;if(c=c.compare,c=c!==null?c:Jl,c(I,h)&&s.ref===o.ref)return Ms(s,o,m)}return o.flags|=1,s=bi(x,h),s.ref=o.ref,s.return=o,o.child=s}function Lw(s,o,c,h,m){if(s!==null){var x=s.memoizedProps;if(Jl(x,h)&&s.ref===o.ref)if(Un=!1,o.pendingProps=h=x,(s.lanes&m)!==0)(s.flags&131072)!==0&&(Un=!0);else return o.lanes=s.lanes,Ms(s,o,m)}return Pp(s,o,c,h,m)}function jw(s,o,c){var h=o.pendingProps,m=h.children,x=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(Fa,Zn),Zn|=c;else{if((c&1073741824)===0)return s=x!==null?x.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,wt(Fa,Zn),Zn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=x!==null?x.baseLanes:c,wt(Fa,Zn),Zn|=h}else x!==null?(h=x.baseLanes|c,o.memoizedState=null):h=c,wt(Fa,Zn),Zn|=h;return Rn(s,o,m,c),o.child}function Vw(s,o){var c=o.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function Pp(s,o,c,h,m){var x=Fn(c)?_o:gn.current;return x=Ra(o,x),Ma(o,m),c=_p(s,o,c,h,x,m),h=xp(),s!==null&&!Un?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,Ms(s,o,m)):(At&&h&&rp(o),o.flags|=1,Rn(s,o,c,m),o.child)}function Fw(s,o,c,h,m){if(Fn(c)){var x=!0;Yu(o)}else x=!1;if(Ma(o,m),o.stateNode===null)pd(s,o),Iw(o,c,h),Ip(o,c,h,m),h=!0;else if(s===null){var I=o.stateNode,z=o.memoizedProps;I.props=z;var B=I.context,J=c.contextType;typeof J=="object"&&J!==null?J=fr(J):(J=Fn(c)?_o:gn.current,J=Ra(o,J));var oe=c.getDerivedStateFromProps,ce=typeof oe=="function"||typeof I.getSnapshotBeforeUpdate=="function";ce||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(z!==h||B!==J)&&Aw(o,I,h,J),gi=!1;var se=o.memoizedState;I.state=se,id(o,h,I,m),B=o.memoizedState,z!==h||se!==B||Vn.current||gi?(typeof oe=="function"&&(Cp(o,c,oe,h),B=o.memoizedState),(z=gi||Cw(o,c,z,h,se,B,J))?(ce||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(o.flags|=4194308)):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=B),I.props=h,I.state=B,I.context=J,h=z):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{I=o.stateNode,tw(s,o),z=o.memoizedProps,J=o.type===o.elementType?z:Dr(o.type,z),I.props=J,ce=o.pendingProps,se=I.context,B=c.contextType,typeof B=="object"&&B!==null?B=fr(B):(B=Fn(c)?_o:gn.current,B=Ra(o,B));var ve=c.getDerivedStateFromProps;(oe=typeof ve=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(z!==ce||se!==B)&&Aw(o,I,h,B),gi=!1,se=o.memoizedState,I.state=se,id(o,h,I,m);var Ee=o.memoizedState;z!==ce||se!==Ee||Vn.current||gi?(typeof ve=="function"&&(Cp(o,c,ve,h),Ee=o.memoizedState),(J=gi||Cw(o,c,J,h,se,Ee,B)||!1)?(oe||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(h,Ee,B),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(h,Ee,B)),typeof I.componentDidUpdate=="function"&&(o.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof I.componentDidUpdate!="function"||z===s.memoizedProps&&se===s.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||z===s.memoizedProps&&se===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=Ee),I.props=h,I.state=Ee,I.context=B,h=J):(typeof I.componentDidUpdate!="function"||z===s.memoizedProps&&se===s.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||z===s.memoizedProps&&se===s.memoizedState||(o.flags|=1024),h=!1)}return kp(s,o,c,h,x,m)}function kp(s,o,c,h,m,x){Vw(s,o);var I=(o.flags&128)!==0;if(!h&&!I)return m&&Wv(o,c,!1),Ms(s,o,x);h=o.stateNode,UI.current=o;var z=I&&typeof c.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,s!==null&&I?(o.child=Da(o,s.child,null,x),o.child=Da(o,null,z,x)):Rn(s,o,z,x),o.memoizedState=h.state,m&&Wv(o,c,!0),o.child}function Uw(s){var o=s.stateNode;o.pendingContext?$v(s,o.pendingContext,o.pendingContext!==o.context):o.context&&$v(s,o.context,!1),pp(s,o.containerInfo)}function zw(s,o,c,h,m){return Na(),ap(m),o.flags|=256,Rn(s,o,c,h),o.child}var Np={dehydrated:null,treeContext:null,retryLane:0};function Dp(s){return{baseLanes:s,cachePool:null,transitions:null}}function $w(s,o,c){var h=o.pendingProps,m=Pt.current,x=!1,I=(o.flags&128)!==0,z;if((z=I)||(z=s!==null&&s.memoizedState===null?!1:(m&2)!==0),z?(x=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),wt(Pt,m&1),s===null)return op(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(I=h.children,s=h.fallback,x?(h=o.mode,x=o.child,I={mode:"hidden",children:I},(h&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=I):x=Cd(I,h,0,null),s=Po(s,h,c,null),x.return=o,s.return=o,x.sibling=s,o.child=x,o.child.memoizedState=Dp(c),o.memoizedState=Np,s):Op(o,I));if(m=s.memoizedState,m!==null&&(z=m.dehydrated,z!==null))return zI(s,o,I,h,z,m,c);if(x){x=h.fallback,I=o.mode,m=s.child,z=m.sibling;var B={mode:"hidden",children:h.children};return(I&1)===0&&o.child!==m?(h=o.child,h.childLanes=0,h.pendingProps=B,o.deletions=null):(h=bi(m,B),h.subtreeFlags=m.subtreeFlags&14680064),z!==null?x=bi(z,x):(x=Po(x,I,c,null),x.flags|=2),x.return=o,h.return=o,h.sibling=x,o.child=h,h=x,x=o.child,I=s.child.memoizedState,I=I===null?Dp(c):{baseLanes:I.baseLanes|c,cachePool:null,transitions:I.transitions},x.memoizedState=I,x.childLanes=s.childLanes&~c,o.memoizedState=Np,h}return x=s.child,s=x.sibling,h=bi(x,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=c),h.return=o,h.sibling=null,s!==null&&(c=o.deletions,c===null?(o.deletions=[s],o.flags|=16):c.push(s)),o.child=h,o.memoizedState=null,h}function Op(s,o){return o=Cd({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function fd(s,o,c,h){return h!==null&&ap(h),Da(o,s.child,null,c),s=Op(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function zI(s,o,c,h,m,x,I){if(c)return o.flags&256?(o.flags&=-257,h=Ap(Error(t(422))),fd(s,o,I,h)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(x=h.fallback,m=o.mode,h=Cd({mode:"visible",children:h.children},m,0,null),x=Po(x,m,I,null),x.flags|=2,h.return=o,x.return=o,h.sibling=x,o.child=h,(o.mode&1)!==0&&Da(o,s.child,null,I),o.child.memoizedState=Dp(I),o.memoizedState=Np,x);if((o.mode&1)===0)return fd(s,o,I,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var z=h.dgst;return h=z,x=Error(t(419)),h=Ap(x,h,void 0),fd(s,o,I,h)}if(z=(I&s.childLanes)!==0,Un||z){if(h=rn,h!==null){switch(I&-I){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|I))!==0?0:m,m!==0&&m!==x.retryLane&&(x.retryLane=m,Ds(s,m),Lr(h,s,m,-1))}return Yp(),h=Ap(Error(t(421))),fd(s,o,I,h)}return m.data==="$?"?(o.flags|=128,o.child=s.child,o=eA.bind(null,s),m._reactRetry=o,null):(s=x.treeContext,Jn=hi(m.nextSibling),Xn=o,At=!0,Nr=null,s!==null&&(dr[hr++]=ks,dr[hr++]=Ns,dr[hr++]=xo,ks=s.id,Ns=s.overflow,xo=o),o=Op(o,h.children),o.flags|=4096,o)}function Bw(s,o,c){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),dp(s.return,o,c)}function Mp(s,o,c,h,m){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:m}:(x.isBackwards=o,x.rendering=null,x.renderingStartTime=0,x.last=h,x.tail=c,x.tailMode=m)}function Ww(s,o,c){var h=o.pendingProps,m=h.revealOrder,x=h.tail;if(Rn(s,o,h.children,c),h=Pt.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Bw(s,c,o);else if(s.tag===19)Bw(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(wt(Pt,h),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(c=o.child,m=null;c!==null;)s=c.alternate,s!==null&&od(s)===null&&(m=c),c=c.sibling;c=m,c===null?(m=o.child,o.child=null):(m=c.sibling,c.sibling=null),Mp(o,!1,m,c,x);break;case"backwards":for(c=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&od(s)===null){o.child=m;break}s=m.sibling,m.sibling=c,c=m,m=s}Mp(o,!0,c,null,x);break;case"together":Mp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function pd(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Ms(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),Co|=o.lanes,(c&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,c=bi(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=bi(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function $I(s,o,c){switch(o.tag){case 3:Uw(o),Na();break;case 5:sw(o);break;case 1:Fn(o.type)&&Yu(o);break;case 4:pp(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,m=o.memoizedProps.value;wt(nd,h._currentValue),h._currentValue=m;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(wt(Pt,Pt.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?$w(s,o,c):(wt(Pt,Pt.current&1),s=Ms(s,o,c),s!==null?s.sibling:null);wt(Pt,Pt.current&1);break;case 19:if(h=(c&o.childLanes)!==0,(s.flags&128)!==0){if(h)return Ww(s,o,c);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),wt(Pt,Pt.current),h)break;return null;case 22:case 23:return o.lanes=0,jw(s,o,c)}return Ms(s,o,c)}var Hw,Lp,qw,Gw;Hw=function(s,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Lp=function(){},qw=function(s,o,c,h){var m=s.memoizedProps;if(m!==h){s=o.stateNode,To(ns.current);var x=null;switch(c){case"input":m=st(s,m),h=st(s,h),x=[];break;case"select":m=le({},m,{value:void 0}),h=le({},h,{value:void 0}),x=[];break;case"textarea":m=Ot(s,m),h=Ot(s,h),x=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=Gu)}Mn(c,h);var I;c=null;for(J in m)if(!h.hasOwnProperty(J)&&m.hasOwnProperty(J)&&m[J]!=null)if(J==="style"){var z=m[J];for(I in z)z.hasOwnProperty(I)&&(c||(c={}),c[I]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(i.hasOwnProperty(J)?x||(x=[]):(x=x||[]).push(J,null));for(J in h){var B=h[J];if(z=m!=null?m[J]:void 0,h.hasOwnProperty(J)&&B!==z&&(B!=null||z!=null))if(J==="style")if(z){for(I in z)!z.hasOwnProperty(I)||B&&B.hasOwnProperty(I)||(c||(c={}),c[I]="");for(I in B)B.hasOwnProperty(I)&&z[I]!==B[I]&&(c||(c={}),c[I]=B[I])}else c||(x||(x=[]),x.push(J,c)),c=B;else J==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,z=z?z.__html:void 0,B!=null&&z!==B&&(x=x||[]).push(J,B)):J==="children"?typeof B!="string"&&typeof B!="number"||(x=x||[]).push(J,""+B):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(i.hasOwnProperty(J)?(B!=null&&J==="onScroll"&&Tt("scroll",s),x||z===B||(x=[])):(x=x||[]).push(J,B))}c&&(x=x||[]).push("style",c);var J=x;(o.updateQueue=J)&&(o.flags|=4)}},Gw=function(s,o,c,h){c!==h&&(o.flags|=4)};function fc(s,o){if(!At)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function vn(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(o)for(var m=s.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=h,s.childLanes=c,o}function BI(s,o,c){var h=o.pendingProps;switch(sp(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vn(o),null;case 1:return Fn(o.type)&&Qu(),vn(o),null;case 3:return h=o.stateNode,La(),St(Vn),St(gn),yp(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(ed(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Nr!==null&&(Gp(Nr),Nr=null))),Lp(s,o),vn(o),null;case 5:mp(o);var m=To(lc.current);if(c=o.type,s!==null&&o.stateNode!=null)qw(s,o,c,h,m),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return vn(o),null}if(s=To(ns.current),ed(o)){h=o.stateNode,c=o.type;var x=o.memoizedProps;switch(h[ts]=o,h[rc]=x,s=(o.mode&1)!==0,c){case"dialog":Tt("cancel",h),Tt("close",h);break;case"iframe":case"object":case"embed":Tt("load",h);break;case"video":case"audio":for(m=0;m<ec.length;m++)Tt(ec[m],h);break;case"source":Tt("error",h);break;case"img":case"image":case"link":Tt("error",h),Tt("load",h);break;case"details":Tt("toggle",h);break;case"input":Oe(h,x),Tt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!x.multiple},Tt("invalid",h);break;case"textarea":ct(h,x),Tt("invalid",h)}Mn(c,x),m=null;for(var I in x)if(x.hasOwnProperty(I)){var z=x[I];I==="children"?typeof z=="string"?h.textContent!==z&&(x.suppressHydrationWarning!==!0&&qu(h.textContent,z,s),m=["children",z]):typeof z=="number"&&h.textContent!==""+z&&(x.suppressHydrationWarning!==!0&&qu(h.textContent,z,s),m=["children",""+z]):i.hasOwnProperty(I)&&z!=null&&I==="onScroll"&&Tt("scroll",h)}switch(c){case"input":qe(h),lt(h,x,!0);break;case"textarea":qe(h),He(h);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(h.onclick=Gu)}h=m,o.updateQueue=h,h!==null&&(o.flags|=4)}else{I=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Xe(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=I.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=I.createElement(c,{is:h.is}):(s=I.createElement(c),c==="select"&&(I=s,h.multiple?I.multiple=!0:h.size&&(I.size=h.size))):s=I.createElementNS(s,c),s[ts]=o,s[rc]=h,Hw(s,o,!1,!1),o.stateNode=s;e:{switch(I=io(c,h),c){case"dialog":Tt("cancel",s),Tt("close",s),m=h;break;case"iframe":case"object":case"embed":Tt("load",s),m=h;break;case"video":case"audio":for(m=0;m<ec.length;m++)Tt(ec[m],s);m=h;break;case"source":Tt("error",s),m=h;break;case"img":case"image":case"link":Tt("error",s),Tt("load",s),m=h;break;case"details":Tt("toggle",s),m=h;break;case"input":Oe(s,h),m=st(s,h),Tt("invalid",s);break;case"option":m=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},m=le({},h,{value:void 0}),Tt("invalid",s);break;case"textarea":ct(s,h),m=Ot(s,h),Tt("invalid",s);break;default:m=h}Mn(c,m),z=m;for(x in z)if(z.hasOwnProperty(x)){var B=z[x];x==="style"?so(s,B):x==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&or(s,B)):x==="children"?typeof B=="string"?(c!=="textarea"||B!=="")&&_r(s,B):typeof B=="number"&&_r(s,""+B):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(i.hasOwnProperty(x)?B!=null&&x==="onScroll"&&Tt("scroll",s):B!=null&&F(s,x,B,I))}switch(c){case"input":qe(s),lt(s,h,!1);break;case"textarea":qe(s),He(s);break;case"option":h.value!=null&&s.setAttribute("value",""+Ve(h.value));break;case"select":s.multiple=!!h.multiple,x=h.value,x!=null?bt(s,!!h.multiple,x,!1):h.defaultValue!=null&&bt(s,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=Gu)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return vn(o),null;case 6:if(s&&o.stateNode!=null)Gw(s,o,s.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(c=To(lc.current),To(ns.current),ed(o)){if(h=o.stateNode,c=o.memoizedProps,h[ts]=o,(x=h.nodeValue!==c)&&(s=Xn,s!==null))switch(s.tag){case 3:qu(h.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&qu(h.nodeValue,c,(s.mode&1)!==0)}x&&(o.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[ts]=o,o.stateNode=h}return vn(o),null;case 13:if(St(Pt),h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(At&&Jn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Yv(),Na(),o.flags|=98560,x=!1;else if(x=ed(o),h!==null&&h.dehydrated!==null){if(s===null){if(!x)throw Error(t(318));if(x=o.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(t(317));x[ts]=o}else Na(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;vn(o),x=!1}else Nr!==null&&(Gp(Nr),Nr=null),x=!0;if(!x)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(Pt.current&1)!==0?Yt===0&&(Yt=3):Yp())),o.updateQueue!==null&&(o.flags|=4),vn(o),null);case 4:return La(),Lp(s,o),s===null&&tc(o.stateNode.containerInfo),vn(o),null;case 10:return up(o.type._context),vn(o),null;case 17:return Fn(o.type)&&Qu(),vn(o),null;case 19:if(St(Pt),x=o.memoizedState,x===null)return vn(o),null;if(h=(o.flags&128)!==0,I=x.rendering,I===null)if(h)fc(x,!1);else{if(Yt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(I=od(s),I!==null){for(o.flags|=128,fc(x,!1),h=I.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=c,c=o.child;c!==null;)x=c,s=h,x.flags&=14680066,I=x.alternate,I===null?(x.childLanes=0,x.lanes=s,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=I.childLanes,x.lanes=I.lanes,x.child=I.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=I.memoizedProps,x.memoizedState=I.memoizedState,x.updateQueue=I.updateQueue,x.type=I.type,s=I.dependencies,x.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return wt(Pt,Pt.current&1|2),o.child}s=s.sibling}x.tail!==null&&vt()>Ua&&(o.flags|=128,h=!0,fc(x,!1),o.lanes=4194304)}else{if(!h)if(s=od(I),s!==null){if(o.flags|=128,h=!0,c=s.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),fc(x,!0),x.tail===null&&x.tailMode==="hidden"&&!I.alternate&&!At)return vn(o),null}else 2*vt()-x.renderingStartTime>Ua&&c!==1073741824&&(o.flags|=128,h=!0,fc(x,!1),o.lanes=4194304);x.isBackwards?(I.sibling=o.child,o.child=I):(c=x.last,c!==null?c.sibling=I:o.child=I,x.last=I)}return x.tail!==null?(o=x.tail,x.rendering=o,x.tail=o.sibling,x.renderingStartTime=vt(),o.sibling=null,c=Pt.current,wt(Pt,h?c&1|2:c&1),o):(vn(o),null);case 22:case 23:return Qp(),h=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(Zn&1073741824)!==0&&(vn(o),o.subtreeFlags&6&&(o.flags|=8192)):vn(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function WI(s,o){switch(sp(o),o.tag){case 1:return Fn(o.type)&&Qu(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return La(),St(Vn),St(gn),yp(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return mp(o),null;case 13:if(St(Pt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Na()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return St(Pt),null;case 4:return La(),null;case 10:return up(o.type._context),null;case 22:case 23:return Qp(),null;case 24:return null;default:return null}}var md=!1,wn=!1,HI=typeof WeakSet=="function"?WeakSet:Set,xe=null;function Va(s,o){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){Mt(s,o,h)}else c.current=null}function jp(s,o,c){try{c()}catch(h){Mt(s,o,h)}}var Kw=!1;function qI(s,o){if(Qf=ci,s=Cv(),zf(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var m=h.anchorOffset,x=h.focusNode;h=h.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var I=0,z=-1,B=-1,J=0,oe=0,ce=s,se=null;t:for(;;){for(var ve;ce!==c||m!==0&&ce.nodeType!==3||(z=I+m),ce!==x||h!==0&&ce.nodeType!==3||(B=I+h),ce.nodeType===3&&(I+=ce.nodeValue.length),(ve=ce.firstChild)!==null;)se=ce,ce=ve;for(;;){if(ce===s)break t;if(se===c&&++J===m&&(z=I),se===x&&++oe===h&&(B=I),(ve=ce.nextSibling)!==null)break;ce=se,se=ce.parentNode}ce=ve}c=z===-1||B===-1?null:{start:z,end:B}}else c=null}c=c||{start:0,end:0}}else c=null;for(Yf={focusedElem:s,selectionRange:c},ci=!1,xe=o;xe!==null;)if(o=xe,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,xe=s;else for(;xe!==null;){o=xe;try{var Ee=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var Te=Ee.memoizedProps,Ut=Ee.memoizedState,K=o.stateNode,W=K.getSnapshotBeforeUpdate(o.elementType===o.type?Te:Dr(o.type,Te),Ut);K.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var Y=o.stateNode.containerInfo;Y.nodeType===1?Y.textContent="":Y.nodeType===9&&Y.documentElement&&Y.removeChild(Y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(de){Mt(o,o.return,de)}if(s=o.sibling,s!==null){s.return=o.return,xe=s;break}xe=o.return}return Ee=Kw,Kw=!1,Ee}function pc(s,o,c){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&s)===s){var x=m.destroy;m.destroy=void 0,x!==void 0&&jp(o,c,x)}m=m.next}while(m!==h)}}function gd(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&s)===s){var h=c.create;c.destroy=h()}c=c.next}while(c!==o)}}function Vp(s){var o=s.ref;if(o!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof o=="function"?o(s):o.current=s}}function Qw(s){var o=s.alternate;o!==null&&(s.alternate=null,Qw(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[ts],delete o[rc],delete o[ep],delete o[AI],delete o[RI])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Yw(s){return s.tag===5||s.tag===3||s.tag===4}function Xw(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Yw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Fp(s,o,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(s,o):c.insertBefore(s,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(s,c)):(o=c,o.appendChild(s)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Gu));else if(h!==4&&(s=s.child,s!==null))for(Fp(s,o,c),s=s.sibling;s!==null;)Fp(s,o,c),s=s.sibling}function Up(s,o,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(Up(s,o,c),s=s.sibling;s!==null;)Up(s,o,c),s=s.sibling}var dn=null,Or=!1;function vi(s,o,c){for(c=c.child;c!==null;)Jw(s,o,c),c=c.sibling}function Jw(s,o,c){if(Gn&&typeof Gn.onCommitFiberUnmount=="function")try{Gn.onCommitFiberUnmount(ho,c)}catch{}switch(c.tag){case 5:wn||Va(c,o);case 6:var h=dn,m=Or;dn=null,vi(s,o,c),dn=h,Or=m,dn!==null&&(Or?(s=dn,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):dn.removeChild(c.stateNode));break;case 18:dn!==null&&(Or?(s=dn,c=c.stateNode,s.nodeType===8?Zf(s.parentNode,c):s.nodeType===1&&Zf(s,c),Rr(s)):Zf(dn,c.stateNode));break;case 4:h=dn,m=Or,dn=c.stateNode.containerInfo,Or=!0,vi(s,o,c),dn=h,Or=m;break;case 0:case 11:case 14:case 15:if(!wn&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var x=m,I=x.destroy;x=x.tag,I!==void 0&&((x&2)!==0||(x&4)!==0)&&jp(c,o,I),m=m.next}while(m!==h)}vi(s,o,c);break;case 1:if(!wn&&(Va(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch(z){Mt(c,o,z)}vi(s,o,c);break;case 21:vi(s,o,c);break;case 22:c.mode&1?(wn=(h=wn)||c.memoizedState!==null,vi(s,o,c),wn=h):vi(s,o,c);break;default:vi(s,o,c)}}function Zw(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new HI),o.forEach(function(h){var m=tA.bind(null,s,h);c.has(h)||(c.add(h),h.then(m,m))})}}function Mr(s,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var m=c[h];try{var x=s,I=o,z=I;e:for(;z!==null;){switch(z.tag){case 5:dn=z.stateNode,Or=!1;break e;case 3:dn=z.stateNode.containerInfo,Or=!0;break e;case 4:dn=z.stateNode.containerInfo,Or=!0;break e}z=z.return}if(dn===null)throw Error(t(160));Jw(x,I,m),dn=null,Or=!1;var B=m.alternate;B!==null&&(B.return=null),m.return=null}catch(J){Mt(m,o,J)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)e0(o,s),o=o.sibling}function e0(s,o){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Mr(o,s),ss(s),h&4){try{pc(3,s,s.return),gd(3,s)}catch(Te){Mt(s,s.return,Te)}try{pc(5,s,s.return)}catch(Te){Mt(s,s.return,Te)}}break;case 1:Mr(o,s),ss(s),h&512&&c!==null&&Va(c,c.return);break;case 5:if(Mr(o,s),ss(s),h&512&&c!==null&&Va(c,c.return),s.flags&32){var m=s.stateNode;try{_r(m,"")}catch(Te){Mt(s,s.return,Te)}}if(h&4&&(m=s.stateNode,m!=null)){var x=s.memoizedProps,I=c!==null?c.memoizedProps:x,z=s.type,B=s.updateQueue;if(s.updateQueue=null,B!==null)try{z==="input"&&x.type==="radio"&&x.name!=null&&ht(m,x),io(z,I);var J=io(z,x);for(I=0;I<B.length;I+=2){var oe=B[I],ce=B[I+1];oe==="style"?so(m,ce):oe==="dangerouslySetInnerHTML"?or(m,ce):oe==="children"?_r(m,ce):F(m,oe,ce,J)}switch(z){case"input":en(m,x);break;case"textarea":at(m,x);break;case"select":var se=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!x.multiple;var ve=x.value;ve!=null?bt(m,!!x.multiple,ve,!1):se!==!!x.multiple&&(x.defaultValue!=null?bt(m,!!x.multiple,x.defaultValue,!0):bt(m,!!x.multiple,x.multiple?[]:"",!1))}m[rc]=x}catch(Te){Mt(s,s.return,Te)}}break;case 6:if(Mr(o,s),ss(s),h&4){if(s.stateNode===null)throw Error(t(162));m=s.stateNode,x=s.memoizedProps;try{m.nodeValue=x}catch(Te){Mt(s,s.return,Te)}}break;case 3:if(Mr(o,s),ss(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Rr(o.containerInfo)}catch(Te){Mt(s,s.return,Te)}break;case 4:Mr(o,s),ss(s);break;case 13:Mr(o,s),ss(s),m=s.child,m.flags&8192&&(x=m.memoizedState!==null,m.stateNode.isHidden=x,!x||m.alternate!==null&&m.alternate.memoizedState!==null||(Bp=vt())),h&4&&Zw(s);break;case 22:if(oe=c!==null&&c.memoizedState!==null,s.mode&1?(wn=(J=wn)||oe,Mr(o,s),wn=J):Mr(o,s),ss(s),h&8192){if(J=s.memoizedState!==null,(s.stateNode.isHidden=J)&&!oe&&(s.mode&1)!==0)for(xe=s,oe=s.child;oe!==null;){for(ce=xe=oe;xe!==null;){switch(se=xe,ve=se.child,se.tag){case 0:case 11:case 14:case 15:pc(4,se,se.return);break;case 1:Va(se,se.return);var Ee=se.stateNode;if(typeof Ee.componentWillUnmount=="function"){h=se,c=se.return;try{o=h,Ee.props=o.memoizedProps,Ee.state=o.memoizedState,Ee.componentWillUnmount()}catch(Te){Mt(h,c,Te)}}break;case 5:Va(se,se.return);break;case 22:if(se.memoizedState!==null){r0(ce);continue}}ve!==null?(ve.return=se,xe=ve):r0(ce)}oe=oe.sibling}e:for(oe=null,ce=s;;){if(ce.tag===5){if(oe===null){oe=ce;try{m=ce.stateNode,J?(x=m.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(z=ce.stateNode,B=ce.memoizedProps.style,I=B!=null&&B.hasOwnProperty("display")?B.display:null,z.style.display=ti("display",I))}catch(Te){Mt(s,s.return,Te)}}}else if(ce.tag===6){if(oe===null)try{ce.stateNode.nodeValue=J?"":ce.memoizedProps}catch(Te){Mt(s,s.return,Te)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===s)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===s)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===s)break e;oe===ce&&(oe=null),ce=ce.return}oe===ce&&(oe=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:Mr(o,s),ss(s),h&4&&Zw(s);break;case 21:break;default:Mr(o,s),ss(s)}}function ss(s){var o=s.flags;if(o&2){try{e:{for(var c=s.return;c!==null;){if(Yw(c)){var h=c;break e}c=c.return}throw Error(t(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(_r(m,""),h.flags&=-33);var x=Xw(s);Up(s,x,m);break;case 3:case 4:var I=h.stateNode.containerInfo,z=Xw(s);Fp(s,z,I);break;default:throw Error(t(161))}}catch(B){Mt(s,s.return,B)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function GI(s,o,c){xe=s,t0(s)}function t0(s,o,c){for(var h=(s.mode&1)!==0;xe!==null;){var m=xe,x=m.child;if(m.tag===22&&h){var I=m.memoizedState!==null||md;if(!I){var z=m.alternate,B=z!==null&&z.memoizedState!==null||wn;z=md;var J=wn;if(md=I,(wn=B)&&!J)for(xe=m;xe!==null;)I=xe,B=I.child,I.tag===22&&I.memoizedState!==null?s0(m):B!==null?(B.return=I,xe=B):s0(m);for(;x!==null;)xe=x,t0(x),x=x.sibling;xe=m,md=z,wn=J}n0(s)}else(m.subtreeFlags&8772)!==0&&x!==null?(x.return=m,xe=x):n0(s)}}function n0(s){for(;xe!==null;){var o=xe;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:wn||gd(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!wn)if(c===null)h.componentDidMount();else{var m=o.elementType===o.type?c.memoizedProps:Dr(o.type,c.memoizedProps);h.componentDidUpdate(m,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var x=o.updateQueue;x!==null&&rw(o,x,h);break;case 3:var I=o.updateQueue;if(I!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}rw(o,I,c)}break;case 5:var z=o.stateNode;if(c===null&&o.flags&4){c=z;var B=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&c.focus();break;case"img":B.src&&(c.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var J=o.alternate;if(J!==null){var oe=J.memoizedState;if(oe!==null){var ce=oe.dehydrated;ce!==null&&Rr(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}wn||o.flags&512&&Vp(o)}catch(se){Mt(o,o.return,se)}}if(o===s){xe=null;break}if(c=o.sibling,c!==null){c.return=o.return,xe=c;break}xe=o.return}}function r0(s){for(;xe!==null;){var o=xe;if(o===s){xe=null;break}var c=o.sibling;if(c!==null){c.return=o.return,xe=c;break}xe=o.return}}function s0(s){for(;xe!==null;){var o=xe;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{gd(4,o)}catch(B){Mt(o,c,B)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var m=o.return;try{h.componentDidMount()}catch(B){Mt(o,m,B)}}var x=o.return;try{Vp(o)}catch(B){Mt(o,x,B)}break;case 5:var I=o.return;try{Vp(o)}catch(B){Mt(o,I,B)}}}catch(B){Mt(o,o.return,B)}if(o===s){xe=null;break}var z=o.sibling;if(z!==null){z.return=o.return,xe=z;break}xe=o.return}}var KI=Math.ceil,yd=$.ReactCurrentDispatcher,zp=$.ReactCurrentOwner,mr=$.ReactCurrentBatchConfig,rt=0,rn=null,Bt=null,hn=0,Zn=0,Fa=fi(0),Yt=0,mc=null,Co=0,vd=0,$p=0,gc=null,zn=null,Bp=0,Ua=1/0,Ls=null,wd=!1,Wp=null,wi=null,_d=!1,_i=null,xd=0,yc=0,Hp=null,Ed=-1,bd=0;function Pn(){return(rt&6)!==0?vt():Ed!==-1?Ed:Ed=vt()}function xi(s){return(s.mode&1)===0?1:(rt&2)!==0&&hn!==0?hn&-hn:kI.transition!==null?(bd===0&&(bd=po()),bd):(s=Je,s!==0||(s=window.event,s=s===void 0?16:Hl(s.type)),s)}function Lr(s,o,c,h){if(50<yc)throw yc=0,Hp=null,Error(t(185));ii(s,c,h),((rt&2)===0||s!==rn)&&(s===rn&&((rt&2)===0&&(vd|=c),Yt===4&&Ei(s,hn)),$n(s,h),c===1&&rt===0&&(o.mode&1)===0&&(Ua=vt()+500,Xu&&mi()))}function $n(s,o){var c=s.callbackNode;Ts(s,o);var h=fo(s,s===rn?hn:0);if(h===0)c!==null&&Ul(c),s.callbackNode=null,s.callbackPriority=0;else if(o=h&-h,s.callbackPriority!==o){if(c!=null&&Ul(c),o===1)s.tag===0?PI(o0.bind(null,s)):Hv(o0.bind(null,s)),CI(function(){(rt&6)===0&&mi()}),c=null;else{switch(ai(h)){case 1:c=uo;break;case 4:c=ni;break;case 16:c=lr;break;case 536870912:c=bu;break;default:c=lr}c=p0(c,i0.bind(null,s))}s.callbackPriority=o,s.callbackNode=c}}function i0(s,o){if(Ed=-1,bd=0,(rt&6)!==0)throw Error(t(327));var c=s.callbackNode;if(za()&&s.callbackNode!==c)return null;var h=fo(s,s===rn?hn:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||o)o=Td(s,h);else{o=h;var m=rt;rt|=2;var x=l0();(rn!==s||hn!==o)&&(Ls=null,Ua=vt()+500,Ao(s,o));do try{XI();break}catch(z){a0(s,z)}while(!0);cp(),yd.current=x,rt=m,Bt!==null?o=0:(rn=null,hn=0,o=Yt)}if(o!==0){if(o===2&&(m=Kn(s),m!==0&&(h=m,o=qp(s,m))),o===1)throw c=mc,Ao(s,0),Ei(s,h),$n(s,vt()),c;if(o===6)Ei(s,h);else{if(m=s.current.alternate,(h&30)===0&&!QI(m)&&(o=Td(s,h),o===2&&(x=Kn(s),x!==0&&(h=x,o=qp(s,x))),o===1))throw c=mc,Ao(s,0),Ei(s,h),$n(s,vt()),c;switch(s.finishedWork=m,s.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:Ro(s,zn,Ls);break;case 3:if(Ei(s,h),(h&130023424)===h&&(o=Bp+500-vt(),10<o)){if(fo(s,0)!==0)break;if(m=s.suspendedLanes,(m&h)!==h){Pn(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=Jf(Ro.bind(null,s,zn,Ls),o);break}Ro(s,zn,Ls);break;case 4:if(Ei(s,h),(h&4194240)===h)break;for(o=s.eventTimes,m=-1;0<h;){var I=31-In(h);x=1<<I,I=o[I],I>m&&(m=I),h&=~x}if(h=m,h=vt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*KI(h/1960))-h,10<h){s.timeoutHandle=Jf(Ro.bind(null,s,zn,Ls),h);break}Ro(s,zn,Ls);break;case 5:Ro(s,zn,Ls);break;default:throw Error(t(329))}}}return $n(s,vt()),s.callbackNode===c?i0.bind(null,s):null}function qp(s,o){var c=gc;return s.current.memoizedState.isDehydrated&&(Ao(s,o).flags|=256),s=Td(s,o),s!==2&&(o=zn,zn=c,o!==null&&Gp(o)),s}function Gp(s){zn===null?zn=s:zn.push.apply(zn,s)}function QI(s){for(var o=s;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var m=c[h],x=m.getSnapshot;m=m.value;try{if(!kr(x(),m))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ei(s,o){for(o&=~$p,o&=~vd,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var c=31-In(o),h=1<<c;s[c]=-1,o&=~h}}function o0(s){if((rt&6)!==0)throw Error(t(327));za();var o=fo(s,0);if((o&1)===0)return $n(s,vt()),null;var c=Td(s,o);if(s.tag!==0&&c===2){var h=Kn(s);h!==0&&(o=h,c=qp(s,h))}if(c===1)throw c=mc,Ao(s,0),Ei(s,o),$n(s,vt()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Ro(s,zn,Ls),$n(s,vt()),null}function Kp(s,o){var c=rt;rt|=1;try{return s(o)}finally{rt=c,rt===0&&(Ua=vt()+500,Xu&&mi())}}function Io(s){_i!==null&&_i.tag===0&&(rt&6)===0&&za();var o=rt;rt|=1;var c=mr.transition,h=Je;try{if(mr.transition=null,Je=1,s)return s()}finally{Je=h,mr.transition=c,rt=o,(rt&6)===0&&mi()}}function Qp(){Zn=Fa.current,St(Fa)}function Ao(s,o){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,SI(c)),Bt!==null)for(c=Bt.return;c!==null;){var h=c;switch(sp(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Qu();break;case 3:La(),St(Vn),St(gn),yp();break;case 5:mp(h);break;case 4:La();break;case 13:St(Pt);break;case 19:St(Pt);break;case 10:up(h.type._context);break;case 22:case 23:Qp()}c=c.return}if(rn=s,Bt=s=bi(s.current,null),hn=Zn=o,Yt=0,mc=null,$p=vd=Co=0,zn=gc=null,bo!==null){for(o=0;o<bo.length;o++)if(c=bo[o],h=c.interleaved,h!==null){c.interleaved=null;var m=h.next,x=c.pending;if(x!==null){var I=x.next;x.next=m,h.next=I}c.pending=h}bo=null}return s}function a0(s,o){do{var c=Bt;try{if(cp(),ad.current=dd,ld){for(var h=kt.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}ld=!1}if(So=0,nn=Qt=kt=null,cc=!1,uc=0,zp.current=null,c===null||c.return===null){Yt=1,mc=o,Bt=null;break}e:{var x=s,I=c.return,z=c,B=o;if(o=hn,z.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var J=B,oe=z,ce=oe.tag;if((oe.mode&1)===0&&(ce===0||ce===11||ce===15)){var se=oe.alternate;se?(oe.updateQueue=se.updateQueue,oe.memoizedState=se.memoizedState,oe.lanes=se.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var ve=Nw(I);if(ve!==null){ve.flags&=-257,Dw(ve,I,z,x,o),ve.mode&1&&kw(x,J,o),o=ve,B=J;var Ee=o.updateQueue;if(Ee===null){var Te=new Set;Te.add(B),o.updateQueue=Te}else Ee.add(B);break e}else{if((o&1)===0){kw(x,J,o),Yp();break e}B=Error(t(426))}}else if(At&&z.mode&1){var Ut=Nw(I);if(Ut!==null){(Ut.flags&65536)===0&&(Ut.flags|=256),Dw(Ut,I,z,x,o),ap(ja(B,z));break e}}x=B=ja(B,z),Yt!==4&&(Yt=2),gc===null?gc=[x]:gc.push(x),x=I;do{switch(x.tag){case 3:x.flags|=65536,o&=-o,x.lanes|=o;var K=Rw(x,B,o);nw(x,K);break e;case 1:z=B;var W=x.type,Y=x.stateNode;if((x.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(wi===null||!wi.has(Y)))){x.flags|=65536,o&=-o,x.lanes|=o;var de=Pw(x,z,o);nw(x,de);break e}}x=x.return}while(x!==null)}u0(c)}catch(Se){o=Se,Bt===c&&c!==null&&(Bt=c=c.return);continue}break}while(!0)}function l0(){var s=yd.current;return yd.current=dd,s===null?dd:s}function Yp(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),rn===null||(Co&268435455)===0&&(vd&268435455)===0||Ei(rn,hn)}function Td(s,o){var c=rt;rt|=2;var h=l0();(rn!==s||hn!==o)&&(Ls=null,Ao(s,o));do try{YI();break}catch(m){a0(s,m)}while(!0);if(cp(),rt=c,yd.current=h,Bt!==null)throw Error(t(261));return rn=null,hn=0,Yt}function YI(){for(;Bt!==null;)c0(Bt)}function XI(){for(;Bt!==null&&!xu();)c0(Bt)}function c0(s){var o=f0(s.alternate,s,Zn);s.memoizedProps=s.pendingProps,o===null?u0(s):Bt=o,zp.current=null}function u0(s){var o=s;do{var c=o.alternate;if(s=o.return,(o.flags&32768)===0){if(c=BI(c,o,Zn),c!==null){Bt=c;return}}else{if(c=WI(c,o),c!==null){c.flags&=32767,Bt=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Yt=6,Bt=null;return}}if(o=o.sibling,o!==null){Bt=o;return}Bt=o=s}while(o!==null);Yt===0&&(Yt=5)}function Ro(s,o,c){var h=Je,m=mr.transition;try{mr.transition=null,Je=1,JI(s,o,c,h)}finally{mr.transition=m,Je=h}return null}function JI(s,o,c,h){do za();while(_i!==null);if((rt&6)!==0)throw Error(t(327));c=s.finishedWork;var m=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var x=c.lanes|c.childLanes;if(yt(s,x),s===rn&&(Bt=rn=null,hn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||_d||(_d=!0,p0(lr,function(){return za(),null})),x=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||x){x=mr.transition,mr.transition=null;var I=Je;Je=1;var z=rt;rt|=4,zp.current=null,qI(s,c),e0(c,s),vI(Yf),ci=!!Qf,Yf=Qf=null,s.current=c,GI(c),Df(),rt=z,Je=I,mr.transition=x}else s.current=c;if(_d&&(_d=!1,_i=s,xd=m),x=s.pendingLanes,x===0&&(wi=null),Tu(c.stateNode),$n(s,vt()),o!==null)for(h=s.onRecoverableError,c=0;c<o.length;c++)m=o[c],h(m.value,{componentStack:m.stack,digest:m.digest});if(wd)throw wd=!1,s=Wp,Wp=null,s;return(xd&1)!==0&&s.tag!==0&&za(),x=s.pendingLanes,(x&1)!==0?s===Hp?yc++:(yc=0,Hp=s):yc=0,mi(),null}function za(){if(_i!==null){var s=ai(xd),o=mr.transition,c=Je;try{if(mr.transition=null,Je=16>s?16:s,_i===null)var h=!1;else{if(s=_i,_i=null,xd=0,(rt&6)!==0)throw Error(t(331));var m=rt;for(rt|=4,xe=s.current;xe!==null;){var x=xe,I=x.child;if((xe.flags&16)!==0){var z=x.deletions;if(z!==null){for(var B=0;B<z.length;B++){var J=z[B];for(xe=J;xe!==null;){var oe=xe;switch(oe.tag){case 0:case 11:case 15:pc(8,oe,x)}var ce=oe.child;if(ce!==null)ce.return=oe,xe=ce;else for(;xe!==null;){oe=xe;var se=oe.sibling,ve=oe.return;if(Qw(oe),oe===J){xe=null;break}if(se!==null){se.return=ve,xe=se;break}xe=ve}}}var Ee=x.alternate;if(Ee!==null){var Te=Ee.child;if(Te!==null){Ee.child=null;do{var Ut=Te.sibling;Te.sibling=null,Te=Ut}while(Te!==null)}}xe=x}}if((x.subtreeFlags&2064)!==0&&I!==null)I.return=x,xe=I;else e:for(;xe!==null;){if(x=xe,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:pc(9,x,x.return)}var K=x.sibling;if(K!==null){K.return=x.return,xe=K;break e}xe=x.return}}var W=s.current;for(xe=W;xe!==null;){I=xe;var Y=I.child;if((I.subtreeFlags&2064)!==0&&Y!==null)Y.return=I,xe=Y;else e:for(I=W;xe!==null;){if(z=xe,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:gd(9,z)}}catch(Se){Mt(z,z.return,Se)}if(z===I){xe=null;break e}var de=z.sibling;if(de!==null){de.return=z.return,xe=de;break e}xe=z.return}}if(rt=m,mi(),Gn&&typeof Gn.onPostCommitFiberRoot=="function")try{Gn.onPostCommitFiberRoot(ho,s)}catch{}h=!0}return h}finally{Je=c,mr.transition=o}}return!1}function d0(s,o,c){o=ja(c,o),o=Rw(s,o,1),s=yi(s,o,1),o=Pn(),s!==null&&(ii(s,1,o),$n(s,o))}function Mt(s,o,c){if(s.tag===3)d0(s,s,c);else for(;o!==null;){if(o.tag===3){d0(o,s,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(wi===null||!wi.has(h))){s=ja(c,s),s=Pw(o,s,1),o=yi(o,s,1),s=Pn(),o!==null&&(ii(o,1,s),$n(o,s));break}}o=o.return}}function ZI(s,o,c){var h=s.pingCache;h!==null&&h.delete(o),o=Pn(),s.pingedLanes|=s.suspendedLanes&c,rn===s&&(hn&c)===c&&(Yt===4||Yt===3&&(hn&130023424)===hn&&500>vt()-Bp?Ao(s,0):$p|=c),$n(s,o)}function h0(s,o){o===0&&((s.mode&1)===0?o=1:(o=ua,ua<<=1,(ua&130023424)===0&&(ua=4194304)));var c=Pn();s=Ds(s,o),s!==null&&(ii(s,o,c),$n(s,c))}function eA(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),h0(s,c)}function tA(s,o){var c=0;switch(s.tag){case 13:var h=s.stateNode,m=s.memoizedState;m!==null&&(c=m.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),h0(s,c)}var f0;f0=function(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps||Vn.current)Un=!0;else{if((s.lanes&c)===0&&(o.flags&128)===0)return Un=!1,$I(s,o,c);Un=(s.flags&131072)!==0}else Un=!1,At&&(o.flags&1048576)!==0&&qv(o,Zu,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;pd(s,o),s=o.pendingProps;var m=Ra(o,gn.current);Ma(o,c),m=_p(null,o,h,s,m,c);var x=xp();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Fn(h)?(x=!0,Yu(o)):x=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,fp(o),m.updater=hd,o.stateNode=m,m._reactInternals=o,Ip(o,h,s,c),o=kp(null,o,h,!0,x,c)):(o.tag=0,At&&x&&rp(o),Rn(null,o,m,c),o=o.child),o;case 16:h=o.elementType;e:{switch(pd(s,o),s=o.pendingProps,m=h._init,h=m(h._payload),o.type=h,m=o.tag=rA(h),s=Dr(h,s),m){case 0:o=Pp(null,o,h,s,c);break e;case 1:o=Fw(null,o,h,s,c);break e;case 11:o=Ow(null,o,h,s,c);break e;case 14:o=Mw(null,o,h,Dr(h.type,s),c);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Dr(h,m),Pp(s,o,h,m,c);case 1:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Dr(h,m),Fw(s,o,h,m,c);case 3:e:{if(Uw(o),s===null)throw Error(t(387));h=o.pendingProps,x=o.memoizedState,m=x.element,tw(s,o),id(o,h,null,c);var I=o.memoizedState;if(h=I.element,x.isDehydrated)if(x={element:h,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){m=ja(Error(t(423)),o),o=zw(s,o,h,c,m);break e}else if(h!==m){m=ja(Error(t(424)),o),o=zw(s,o,h,c,m);break e}else for(Jn=hi(o.stateNode.containerInfo.firstChild),Xn=o,At=!0,Nr=null,c=Zv(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Na(),h===m){o=Ms(s,o,c);break e}Rn(s,o,h,c)}o=o.child}return o;case 5:return sw(o),s===null&&op(o),h=o.type,m=o.pendingProps,x=s!==null?s.memoizedProps:null,I=m.children,Xf(h,m)?I=null:x!==null&&Xf(h,x)&&(o.flags|=32),Vw(s,o),Rn(s,o,I,c),o.child;case 6:return s===null&&op(o),null;case 13:return $w(s,o,c);case 4:return pp(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=Da(o,null,h,c):Rn(s,o,h,c),o.child;case 11:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Dr(h,m),Ow(s,o,h,m,c);case 7:return Rn(s,o,o.pendingProps,c),o.child;case 8:return Rn(s,o,o.pendingProps.children,c),o.child;case 12:return Rn(s,o,o.pendingProps.children,c),o.child;case 10:e:{if(h=o.type._context,m=o.pendingProps,x=o.memoizedProps,I=m.value,wt(nd,h._currentValue),h._currentValue=I,x!==null)if(kr(x.value,I)){if(x.children===m.children&&!Vn.current){o=Ms(s,o,c);break e}}else for(x=o.child,x!==null&&(x.return=o);x!==null;){var z=x.dependencies;if(z!==null){I=x.child;for(var B=z.firstContext;B!==null;){if(B.context===h){if(x.tag===1){B=Os(-1,c&-c),B.tag=2;var J=x.updateQueue;if(J!==null){J=J.shared;var oe=J.pending;oe===null?B.next=B:(B.next=oe.next,oe.next=B),J.pending=B}}x.lanes|=c,B=x.alternate,B!==null&&(B.lanes|=c),dp(x.return,c,o),z.lanes|=c;break}B=B.next}}else if(x.tag===10)I=x.type===o.type?null:x.child;else if(x.tag===18){if(I=x.return,I===null)throw Error(t(341));I.lanes|=c,z=I.alternate,z!==null&&(z.lanes|=c),dp(I,c,o),I=x.sibling}else I=x.child;if(I!==null)I.return=x;else for(I=x;I!==null;){if(I===o){I=null;break}if(x=I.sibling,x!==null){x.return=I.return,I=x;break}I=I.return}x=I}Rn(s,o,m.children,c),o=o.child}return o;case 9:return m=o.type,h=o.pendingProps.children,Ma(o,c),m=fr(m),h=h(m),o.flags|=1,Rn(s,o,h,c),o.child;case 14:return h=o.type,m=Dr(h,o.pendingProps),m=Dr(h.type,m),Mw(s,o,h,m,c);case 15:return Lw(s,o,o.type,o.pendingProps,c);case 17:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Dr(h,m),pd(s,o),o.tag=1,Fn(h)?(s=!0,Yu(o)):s=!1,Ma(o,c),Iw(o,h,m),Ip(o,h,m,c),kp(null,o,h,!0,s,c);case 19:return Ww(s,o,c);case 22:return jw(s,o,c)}throw Error(t(156,o.tag))};function p0(s,o){return la(s,o)}function nA(s,o,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gr(s,o,c,h){return new nA(s,o,c,h)}function Xp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function rA(s){if(typeof s=="function")return Xp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===M)return 11;if(s===be)return 14}return 2}function bi(s,o){var c=s.alternate;return c===null?(c=gr(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Sd(s,o,c,h,m,x){var I=2;if(h=s,typeof s=="function")Xp(s)&&(I=1);else if(typeof s=="string")I=5;else e:switch(s){case P:return Po(c.children,m,x,o);case A:I=8,m|=8;break;case N:return s=gr(12,c,o,m|2),s.elementType=N,s.lanes=x,s;case D:return s=gr(13,c,o,m),s.elementType=D,s.lanes=x,s;case ee:return s=gr(19,c,o,m),s.elementType=ee,s.lanes=x,s;case fe:return Cd(c,m,x,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case O:I=10;break e;case V:I=9;break e;case M:I=11;break e;case be:I=14;break e;case ge:I=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=gr(I,c,o,m),o.elementType=s,o.type=h,o.lanes=x,o}function Po(s,o,c,h){return s=gr(7,s,h,o),s.lanes=c,s}function Cd(s,o,c,h){return s=gr(22,s,h,o),s.elementType=fe,s.lanes=c,s.stateNode={isHidden:!1},s}function Jp(s,o,c){return s=gr(6,s,null,o),s.lanes=c,s}function Zp(s,o,c){return o=gr(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function sA(s,o,c,h,m){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=si(0),this.expirationTimes=si(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function em(s,o,c,h,m,x,I,z,B){return s=new sA(s,o,c,z,B),o===1?(o=1,x===!0&&(o|=8)):o=0,x=gr(3,null,null,o),s.current=x,x.stateNode=s,x.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},fp(x),s}function iA(s,o,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:h==null?null:""+h,children:s,containerInfo:o,implementation:c}}function m0(s){if(!s)return pi;s=s._reactInternals;e:{if(Tr(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Fn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(Fn(c))return Bv(s,c,o)}return o}function g0(s,o,c,h,m,x,I,z,B){return s=em(c,h,!0,s,m,x,I,z,B),s.context=m0(null),c=s.current,h=Pn(),m=xi(c),x=Os(h,m),x.callback=o??null,yi(c,x,m),s.current.lanes=m,ii(s,m,h),$n(s,h),s}function Id(s,o,c,h){var m=o.current,x=Pn(),I=xi(m);return c=m0(c),o.context===null?o.context=c:o.pendingContext=c,o=Os(x,I),o.payload={element:s},h=h===void 0?null:h,h!==null&&(o.callback=h),s=yi(m,o,I),s!==null&&(Lr(s,m,I,x),sd(s,m,I)),I}function Ad(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function y0(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function tm(s,o){y0(s,o),(s=s.alternate)&&y0(s,o)}function oA(){return null}var v0=typeof reportError=="function"?reportError:function(s){console.error(s)};function nm(s){this._internalRoot=s}Rd.prototype.render=nm.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));Id(s,o,null,null)},Rd.prototype.unmount=nm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Io(function(){Id(null,s,null,null)}),o[Rs]=null}};function Rd(s){this._internalRoot=s}Rd.prototype.unstable_scheduleHydration=function(s){if(s){var o=Ru();s={blockedOn:null,target:s,priority:o};for(var c=0;c<Xr.length&&o!==0&&o<Xr[c].priority;c++);Xr.splice(c,0,s),c===0&&Nu(s)}};function rm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Pd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function w0(){}function aA(s,o,c,h,m){if(m){if(typeof h=="function"){var x=h;h=function(){var J=Ad(I);x.call(J)}}var I=g0(o,h,s,0,null,!1,!1,"",w0);return s._reactRootContainer=I,s[Rs]=I.current,tc(s.nodeType===8?s.parentNode:s),Io(),I}for(;m=s.lastChild;)s.removeChild(m);if(typeof h=="function"){var z=h;h=function(){var J=Ad(B);z.call(J)}}var B=em(s,0,!1,null,null,!1,!1,"",w0);return s._reactRootContainer=B,s[Rs]=B.current,tc(s.nodeType===8?s.parentNode:s),Io(function(){Id(o,B,c,h)}),B}function kd(s,o,c,h,m){var x=c._reactRootContainer;if(x){var I=x;if(typeof m=="function"){var z=m;m=function(){var B=Ad(I);z.call(B)}}Id(o,I,s,m)}else I=aA(c,o,s,m,h);return Ad(I)}Iu=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var c=ri(o.pendingLanes);c!==0&&(oi(o,c|1),$n(o,vt()),(rt&6)===0&&(Ua=vt()+500,mi()))}break;case 13:Io(function(){var h=Ds(s,1);if(h!==null){var m=Pn();Lr(h,s,1,m)}}),tm(s,1)}},da=function(s){if(s.tag===13){var o=Ds(s,134217728);if(o!==null){var c=Pn();Lr(o,s,134217728,c)}tm(s,134217728)}},Au=function(s){if(s.tag===13){var o=xi(s),c=Ds(s,o);if(c!==null){var h=Pn();Lr(c,s,o,h)}tm(s,o)}},Ru=function(){return Je},Pu=function(s,o){var c=Je;try{return Je=s,o()}finally{Je=c}},nt=function(s,o,c){switch(o){case"input":if(en(s,c),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==s&&h.form===s.form){var m=Ku(h);if(!m)throw Error(t(90));Ze(h),en(h,m)}}}break;case"textarea":at(s,c);break;case"select":o=c.value,o!=null&&bt(s,!!c.multiple,o,!1)}},oo=Kp,Ll=Io;var lA={usingClientEntryPoint:!1,Events:[sc,Ia,Ku,ar,Ml,Kp]},vc={findFiberByHostInstance:wo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cA={bundleType:vc.bundleType,version:vc.version,rendererPackageName:vc.rendererPackageName,rendererConfig:vc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Fl(s),s===null?null:s.stateNode},findFiberByHostInstance:vc.findFiberByHostInstance||oA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nd.isDisabled&&Nd.supportsFiber)try{ho=Nd.inject(cA),Gn=Nd}catch{}}return Bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lA,Bn.createPortal=function(s,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rm(o))throw Error(t(200));return iA(s,o,null,c)},Bn.createRoot=function(s,o){if(!rm(s))throw Error(t(299));var c=!1,h="",m=v0;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=em(s,1,!1,null,null,c,!1,h,m),s[Rs]=o.current,tc(s.nodeType===8?s.parentNode:s),new nm(o)},Bn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Fl(o),s=s===null?null:s.stateNode,s},Bn.flushSync=function(s){return Io(s)},Bn.hydrate=function(s,o,c){if(!Pd(o))throw Error(t(200));return kd(null,s,o,!0,c)},Bn.hydrateRoot=function(s,o,c){if(!rm(s))throw Error(t(405));var h=c!=null&&c.hydratedSources||null,m=!1,x="",I=v0;if(c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(I=c.onRecoverableError)),o=g0(o,null,s,1,c??null,m,!1,x,I),s[Rs]=o.current,tc(s),h)for(s=0;s<h.length;s++)c=h[s],m=c._getVersion,m=m(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,m]:o.mutableSourceEagerHydrationData.push(c,m);return new Rd(o)},Bn.render=function(s,o,c){if(!Pd(o))throw Error(t(200));return kd(null,s,o,!1,c)},Bn.unmountComponentAtNode=function(s){if(!Pd(s))throw Error(t(40));return s._reactRootContainer?(Io(function(){kd(null,null,s,!1,function(){s._reactRootContainer=null,s[Rs]=null})}),!0):!1},Bn.unstable_batchedUpdates=Kp,Bn.unstable_renderSubtreeIntoContainer=function(s,o,c,h){if(!Pd(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return kd(s,o,c,!1,h)},Bn.version="18.3.1-next-f1338f8080-20240426",Bn}var R0;function RE(){if(R0)return cm.exports;R0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),cm.exports=SA(),cm.exports}var Tl=RE();const Hg=Bg(Tl);function gt(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function CA(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function PE(...n){return e=>n.forEach(t=>CA(t,e))}function Gt(...n){return S.useCallback(PE(...n),n)}function Hh(n,e=[]){let t=[];function r(a,l){const u=S.createContext(l),f=t.length;t=[...t,l];function p(w){const{scope:v,children:C,...R}=w,b=(v==null?void 0:v[n][f])||u,T=S.useMemo(()=>R,Object.values(R));return g.jsx(b.Provider,{value:T,children:C})}function y(w,v){const C=(v==null?void 0:v[n][f])||u,R=S.useContext(C);if(R)return R;if(l!==void 0)return l;throw new Error(`\`${w}\` must be used within \`${a}\``)}return p.displayName=a+"Provider",[p,y]}const i=()=>{const a=t.map(l=>S.createContext(l));return function(u){const f=(u==null?void 0:u[n])||a;return S.useMemo(()=>({[`__scope${n}`]:{...u,[n]:f}}),[u,f])}};return i.scopeName=n,[r,IA(i,...e)]}function IA(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=r.reduce((u,{useScope:f,scopeName:p})=>{const w=f(a)[`__scope${p}`];return{...u,...w}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}var hl=S.forwardRef((n,e)=>{const{children:t,...r}=n,i=S.Children.toArray(t),a=i.find(AA);if(a){const l=a.props.children,u=i.map(f=>f===a?S.Children.count(l)>1?S.Children.only(null):S.isValidElement(l)?l.props.children:null:f);return g.jsx(Km,{...r,ref:e,children:S.isValidElement(l)?S.cloneElement(l,void 0,u):null})}return g.jsx(Km,{...r,ref:e,children:t})});hl.displayName="Slot";var Km=S.forwardRef((n,e)=>{const{children:t,...r}=n;if(S.isValidElement(t)){const i=PA(t);return S.cloneElement(t,{...RA(r,t.props),ref:e?PE(e,i):i})}return S.Children.count(t)>1?S.Children.only(null):null});Km.displayName="SlotClone";var kE=({children:n})=>g.jsx(g.Fragment,{children:n});function AA(n){return S.isValidElement(n)&&n.type===kE}function RA(n,e){const t={...e};for(const r in e){const i=n[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?t[r]=(...u)=>{a(...u),i(...u)}:i&&(t[r]=i):r==="style"?t[r]={...i,...a}:r==="className"&&(t[r]=[i,a].filter(Boolean).join(" "))}return{...n,...t}}function PA(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function kA(n){const e=n+"CollectionProvider",[t,r]=Hh(e),[i,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=C=>{const{scope:R,children:b}=C,T=me.useRef(null),L=me.useRef(new Map).current;return g.jsx(i,{scope:R,itemMap:L,collectionRef:T,children:b})};l.displayName=e;const u=n+"CollectionSlot",f=me.forwardRef((C,R)=>{const{scope:b,children:T}=C,L=a(u,b),j=Gt(R,L.collectionRef);return g.jsx(hl,{ref:j,children:T})});f.displayName=u;const p=n+"CollectionItemSlot",y="data-radix-collection-item",w=me.forwardRef((C,R)=>{const{scope:b,children:T,...L}=C,j=me.useRef(null),F=Gt(R,j),$=a(p,b);return me.useEffect(()=>($.itemMap.set(j,{ref:j,...L}),()=>void $.itemMap.delete(j))),g.jsx(hl,{[y]:"",ref:F,children:T})});w.displayName=p;function v(C){const R=a(n+"CollectionConsumer",C);return me.useCallback(()=>{const T=R.collectionRef.current;if(!T)return[];const L=Array.from(T.querySelectorAll(`[${y}]`));return Array.from(R.itemMap.values()).sort(($,H)=>L.indexOf($.ref.current)-L.indexOf(H.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:l,Slot:f,ItemSlot:w},v,r]}var NA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Et=NA.reduce((n,e)=>{const t=S.forwardRef((r,i)=>{const{asChild:a,...l}=r,u=a?hl:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(u,{...l,ref:i})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function qg(n,e){n&&Tl.flushSync(()=>n.dispatchEvent(e))}function qn(n){const e=S.useRef(n);return S.useEffect(()=>{e.current=n}),S.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function NE(n,e=globalThis==null?void 0:globalThis.document){const t=qn(n);S.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var DA="DismissableLayer",Qm="dismissableLayer.update",OA="dismissableLayer.pointerDownOutside",MA="dismissableLayer.focusOutside",P0,DE=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),OE=S.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:l,onDismiss:u,...f}=n,p=S.useContext(DE),[y,w]=S.useState(null),v=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,C]=S.useState({}),R=Gt(e,P=>w(P)),b=Array.from(p.layers),[T]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),L=b.indexOf(T),j=y?b.indexOf(y):-1,F=p.layersWithOutsidePointerEventsDisabled.size>0,$=j>=L,H=jA(P=>{const A=P.target,N=[...p.branches].some(O=>O.contains(A));!$||N||(i==null||i(P),l==null||l(P),P.defaultPrevented||u==null||u())},v),q=VA(P=>{const A=P.target;[...p.branches].some(O=>O.contains(A))||(a==null||a(P),l==null||l(P),P.defaultPrevented||u==null||u())},v);return NE(P=>{j===p.layers.size-1&&(r==null||r(P),!P.defaultPrevented&&u&&(P.preventDefault(),u()))},v),S.useEffect(()=>{if(y)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(P0=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(y)),p.layers.add(y),k0(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=P0)}},[y,v,t,p]),S.useEffect(()=>()=>{y&&(p.layers.delete(y),p.layersWithOutsidePointerEventsDisabled.delete(y),k0())},[y,p]),S.useEffect(()=>{const P=()=>C({});return document.addEventListener(Qm,P),()=>document.removeEventListener(Qm,P)},[]),g.jsx(Et.div,{...f,ref:R,style:{pointerEvents:F?$?"auto":"none":void 0,...n.style},onFocusCapture:gt(n.onFocusCapture,q.onFocusCapture),onBlurCapture:gt(n.onBlurCapture,q.onBlurCapture),onPointerDownCapture:gt(n.onPointerDownCapture,H.onPointerDownCapture)})});OE.displayName=DA;var LA="DismissableLayerBranch",ME=S.forwardRef((n,e)=>{const t=S.useContext(DE),r=S.useRef(null),i=Gt(e,r);return S.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),g.jsx(Et.div,{...n,ref:i})});ME.displayName=LA;function jA(n,e=globalThis==null?void 0:globalThis.document){const t=qn(n),r=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const a=u=>{if(u.target&&!r.current){let f=function(){LE(OA,t,p,{discrete:!0})};const p={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function VA(n,e=globalThis==null?void 0:globalThis.document){const t=qn(n),r=S.useRef(!1);return S.useEffect(()=>{const i=a=>{a.target&&!r.current&&LE(MA,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function k0(){const n=new CustomEvent(Qm);document.dispatchEvent(n)}function LE(n,e,t,{discrete:r}){const i=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?qg(i,a):i.dispatchEvent(a)}var FA=OE,UA=ME,ir=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},zA="Portal",jE=S.forwardRef((n,e)=>{var u;const{container:t,...r}=n,[i,a]=S.useState(!1);ir(()=>a(!0),[]);const l=t||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?Hg.createPortal(g.jsx(Et.div,{...r,ref:e}),l):null});jE.displayName=zA;function $A(n,e){return S.useReducer((t,r)=>e[t][r]??t,n)}var VE=n=>{const{present:e,children:t}=n,r=BA(e),i=typeof t=="function"?t({present:r.isPresent}):S.Children.only(t),a=Gt(r.ref,WA(i));return typeof t=="function"||r.isPresent?S.cloneElement(i,{ref:a}):null};VE.displayName="Presence";function BA(n){const[e,t]=S.useState(),r=S.useRef({}),i=S.useRef(n),a=S.useRef("none"),l=n?"mounted":"unmounted",[u,f]=$A(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const p=Md(r.current);a.current=u==="mounted"?p:"none"},[u]),ir(()=>{const p=r.current,y=i.current;if(y!==n){const v=a.current,C=Md(p);n?f("MOUNT"):C==="none"||(p==null?void 0:p.display)==="none"?f("UNMOUNT"):f(y&&v!==C?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,f]),ir(()=>{if(e){const p=w=>{const C=Md(r.current).includes(w.animationName);w.target===e&&C&&Tl.flushSync(()=>f("ANIMATION_END"))},y=w=>{w.target===e&&(a.current=Md(r.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:S.useCallback(p=>{p&&(r.current=getComputedStyle(p)),t(p)},[])}}function Md(n){return(n==null?void 0:n.animationName)||"none"}function WA(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function Gg({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=HA({defaultProp:e,onChange:t}),a=n!==void 0,l=a?n:r,u=qn(t),f=S.useCallback(p=>{if(a){const w=typeof p=="function"?p(n):p;w!==n&&u(w)}else i(p)},[a,n,i,u]);return[l,f]}function HA({defaultProp:n,onChange:e}){const t=S.useState(n),[r]=t,i=S.useRef(r),a=qn(e);return S.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),t}var qA="VisuallyHidden",qh=S.forwardRef((n,e)=>g.jsx(Et.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));qh.displayName=qA;var GA=qh,Kg="ToastProvider",[Qg,KA,QA]=kA("Toast"),[FE,P9]=Hh("Toast",[QA]),[YA,Gh]=FE(Kg),UE=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:l}=n,[u,f]=S.useState(null),[p,y]=S.useState(0),w=S.useRef(!1),v=S.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${Kg}\`. Expected non-empty \`string\`.`),g.jsx(Qg.Provider,{scope:e,children:g.jsx(YA,{scope:e,label:t,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:p,viewport:u,onViewportChange:f,onToastAdd:S.useCallback(()=>y(C=>C+1),[]),onToastRemove:S.useCallback(()=>y(C=>C-1),[]),isFocusedToastEscapeKeyDownRef:w,isClosePausedRef:v,children:l})})};UE.displayName=Kg;var zE="ToastViewport",XA=["F8"],Ym="toast.viewportPause",Xm="toast.viewportResume",$E=S.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=XA,label:i="Notifications ({hotkey})",...a}=n,l=Gh(zE,t),u=KA(t),f=S.useRef(null),p=S.useRef(null),y=S.useRef(null),w=S.useRef(null),v=Gt(e,w,l.onViewportChange),C=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=l.toastCount>0;S.useEffect(()=>{const T=L=>{var F;r.every($=>L[$]||L.code===$)&&((F=w.current)==null||F.focus())};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[r]),S.useEffect(()=>{const T=f.current,L=w.current;if(R&&T&&L){const j=()=>{if(!l.isClosePausedRef.current){const q=new CustomEvent(Ym);L.dispatchEvent(q),l.isClosePausedRef.current=!0}},F=()=>{if(l.isClosePausedRef.current){const q=new CustomEvent(Xm);L.dispatchEvent(q),l.isClosePausedRef.current=!1}},$=q=>{!T.contains(q.relatedTarget)&&F()},H=()=>{T.contains(document.activeElement)||F()};return T.addEventListener("focusin",j),T.addEventListener("focusout",$),T.addEventListener("pointermove",j),T.addEventListener("pointerleave",H),window.addEventListener("blur",j),window.addEventListener("focus",F),()=>{T.removeEventListener("focusin",j),T.removeEventListener("focusout",$),T.removeEventListener("pointermove",j),T.removeEventListener("pointerleave",H),window.removeEventListener("blur",j),window.removeEventListener("focus",F)}}},[R,l.isClosePausedRef]);const b=S.useCallback(({tabbingDirection:T})=>{const j=u().map(F=>{const $=F.ref.current,H=[$,...uR($)];return T==="forwards"?H:H.reverse()});return(T==="forwards"?j.reverse():j).flat()},[u]);return S.useEffect(()=>{const T=w.current;if(T){const L=j=>{var H,q,P;const F=j.altKey||j.ctrlKey||j.metaKey;if(j.key==="Tab"&&!F){const A=document.activeElement,N=j.shiftKey;if(j.target===T&&N){(H=p.current)==null||H.focus();return}const M=b({tabbingDirection:N?"backwards":"forwards"}),D=M.findIndex(ee=>ee===A);hm(M.slice(D+1))?j.preventDefault():N?(q=p.current)==null||q.focus():(P=y.current)==null||P.focus()}};return T.addEventListener("keydown",L),()=>T.removeEventListener("keydown",L)}},[u,b]),g.jsxs(UA,{ref:f,role:"region","aria-label":i.replace("{hotkey}",C),tabIndex:-1,style:{pointerEvents:R?void 0:"none"},children:[R&&g.jsx(Jm,{ref:p,onFocusFromOutsideViewport:()=>{const T=b({tabbingDirection:"forwards"});hm(T)}}),g.jsx(Qg.Slot,{scope:t,children:g.jsx(Et.ol,{tabIndex:-1,...a,ref:v})}),R&&g.jsx(Jm,{ref:y,onFocusFromOutsideViewport:()=>{const T=b({tabbingDirection:"backwards"});hm(T)}})]})});$E.displayName=zE;var BE="ToastFocusProxy",Jm=S.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...i}=n,a=Gh(BE,t);return g.jsx(qh,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:l=>{var p;const u=l.relatedTarget;!((p=a.viewport)!=null&&p.contains(u))&&r()}})});Jm.displayName=BE;var Kh="Toast",JA="toast.swipeStart",ZA="toast.swipeMove",eR="toast.swipeCancel",tR="toast.swipeEnd",WE=S.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:i,onOpenChange:a,...l}=n,[u=!0,f]=Gg({prop:r,defaultProp:i,onChange:a});return g.jsx(VE,{present:t||u,children:g.jsx(sR,{open:u,...l,ref:e,onClose:()=>f(!1),onPause:qn(n.onPause),onResume:qn(n.onResume),onSwipeStart:gt(n.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:gt(n.onSwipeMove,p=>{const{x:y,y:w}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${y}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${w}px`)}),onSwipeCancel:gt(n.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:gt(n.onSwipeEnd,p=>{const{x:y,y:w}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${y}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${w}px`),f(!1)})})})});WE.displayName=Kh;var[nR,rR]=FE(Kh,{onClose(){}}),sR=S.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:i,open:a,onClose:l,onEscapeKeyDown:u,onPause:f,onResume:p,onSwipeStart:y,onSwipeMove:w,onSwipeCancel:v,onSwipeEnd:C,...R}=n,b=Gh(Kh,t),[T,L]=S.useState(null),j=Gt(e,ee=>L(ee)),F=S.useRef(null),$=S.useRef(null),H=i||b.duration,q=S.useRef(0),P=S.useRef(H),A=S.useRef(0),{onToastAdd:N,onToastRemove:O}=b,V=qn(()=>{var be;(T==null?void 0:T.contains(document.activeElement))&&((be=b.viewport)==null||be.focus()),l()}),M=S.useCallback(ee=>{!ee||ee===1/0||(window.clearTimeout(A.current),q.current=new Date().getTime(),A.current=window.setTimeout(V,ee))},[V]);S.useEffect(()=>{const ee=b.viewport;if(ee){const be=()=>{M(P.current),p==null||p()},ge=()=>{const fe=new Date().getTime()-q.current;P.current=P.current-fe,window.clearTimeout(A.current),f==null||f()};return ee.addEventListener(Ym,ge),ee.addEventListener(Xm,be),()=>{ee.removeEventListener(Ym,ge),ee.removeEventListener(Xm,be)}}},[b.viewport,H,f,p,M]),S.useEffect(()=>{a&&!b.isClosePausedRef.current&&M(H)},[a,H,b.isClosePausedRef,M]),S.useEffect(()=>(N(),()=>O()),[N,O]);const D=S.useMemo(()=>T?XE(T):null,[T]);return b.viewport?g.jsxs(g.Fragment,{children:[D&&g.jsx(iR,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),g.jsx(nR,{scope:t,onClose:V,children:Tl.createPortal(g.jsx(Qg.ItemSlot,{scope:t,children:g.jsx(FA,{asChild:!0,onEscapeKeyDown:gt(u,()=>{b.isFocusedToastEscapeKeyDownRef.current||V(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:g.jsx(Et.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":b.swipeDirection,...R,ref:j,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:gt(n.onKeyDown,ee=>{ee.key==="Escape"&&(u==null||u(ee.nativeEvent),ee.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,V()))}),onPointerDown:gt(n.onPointerDown,ee=>{ee.button===0&&(F.current={x:ee.clientX,y:ee.clientY})}),onPointerMove:gt(n.onPointerMove,ee=>{if(!F.current)return;const be=ee.clientX-F.current.x,ge=ee.clientY-F.current.y,fe=!!$.current,Q=["left","right"].includes(b.swipeDirection),ae=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,le=Q?ae(0,be):0,U=Q?0:ae(0,ge),X=ee.pointerType==="touch"?10:2,re={x:le,y:U},ye={originalEvent:ee,delta:re};fe?($.current=re,Ld(ZA,w,ye,{discrete:!1})):N0(re,b.swipeDirection,X)?($.current=re,Ld(JA,y,ye,{discrete:!1}),ee.target.setPointerCapture(ee.pointerId)):(Math.abs(be)>X||Math.abs(ge)>X)&&(F.current=null)}),onPointerUp:gt(n.onPointerUp,ee=>{const be=$.current,ge=ee.target;if(ge.hasPointerCapture(ee.pointerId)&&ge.releasePointerCapture(ee.pointerId),$.current=null,F.current=null,be){const fe=ee.currentTarget,Q={originalEvent:ee,delta:be};N0(be,b.swipeDirection,b.swipeThreshold)?Ld(tR,C,Q,{discrete:!0}):Ld(eR,v,Q,{discrete:!0}),fe.addEventListener("click",ae=>ae.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),iR=n=>{const{__scopeToast:e,children:t,...r}=n,i=Gh(Kh,e),[a,l]=S.useState(!1),[u,f]=S.useState(!1);return lR(()=>l(!0)),S.useEffect(()=>{const p=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(p)},[]),u?null:g.jsx(jE,{asChild:!0,children:g.jsx(qh,{...r,children:a&&g.jsxs(g.Fragment,{children:[i.label," ",t]})})})},oR="ToastTitle",HE=S.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return g.jsx(Et.div,{...r,ref:e})});HE.displayName=oR;var aR="ToastDescription",qE=S.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return g.jsx(Et.div,{...r,ref:e})});qE.displayName=aR;var GE="ToastAction",KE=S.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?g.jsx(YE,{altText:t,asChild:!0,children:g.jsx(Yg,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${GE}\`. Expected non-empty \`string\`.`),null)});KE.displayName=GE;var QE="ToastClose",Yg=S.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,i=rR(QE,t);return g.jsx(YE,{asChild:!0,children:g.jsx(Et.button,{type:"button",...r,ref:e,onClick:gt(n.onClick,i.onClose)})})});Yg.displayName=QE;var YE=S.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...i}=n;return g.jsx(Et.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function XE(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),cR(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const l=r.dataset.radixToastAnnounceAlt;l&&e.push(l)}else e.push(...XE(r))}}),e}function Ld(n,e,t,{discrete:r}){const i=t.originalEvent.currentTarget,a=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?qg(i,a):i.dispatchEvent(a)}var N0=(n,e,t=0)=>{const r=Math.abs(n.x),i=Math.abs(n.y),a=r>i;return e==="left"||e==="right"?a&&r>t:!a&&i>t};function lR(n=()=>{}){const e=qn(n);ir(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function cR(n){return n.nodeType===n.ELEMENT_NODE}function uR(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function hm(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var dR=UE,JE=$E,ZE=WE,e1=HE,t1=qE,n1=KE,r1=Yg;function s1(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=s1(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function i1(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=s1(n))&&(r&&(r+=" "),r+=e);return r}const D0=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,O0=i1,Xg=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return O0(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:a}=e,l=Object.keys(i).map(p=>{const y=t==null?void 0:t[p],w=a==null?void 0:a[p];if(y===null)return null;const v=D0(y)||D0(w);return i[p][v]}),u=t&&Object.entries(t).reduce((p,y)=>{let[w,v]=y;return v===void 0||(p[w]=v),p},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,y)=>{let{class:w,className:v,...C}=y;return Object.entries(C).every(R=>{let[b,T]=R;return Array.isArray(T)?T.includes({...a,...u}[b]):{...a,...u}[b]===T})?[...p,w,v]:p},[]);return O0(n,l,f,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o1=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=S.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...u},f)=>S.createElement("svg",{ref:f,...fR,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:o1("lucide",i),...u},[...l.map(([p,y])=>S.createElement(p,y)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=(n,e)=>{const t=S.forwardRef(({className:r,...i},a)=>S.createElement(pR,{ref:a,iconNode:e,className:o1(`lucide-${hR(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=Xo("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=Xo("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=Xo("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=Xo("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=Xo("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=Xo("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=Xo("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Jg="-",vR=n=>{const e=_R(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{const u=l.split(Jg);return u[0]===""&&u.length!==1&&u.shift(),a1(u,e)||wR(l)},getConflictingClassGroupIds:(l,u)=>{const f=t[l]||[];return u&&r[l]?[...f,...r[l]]:f}}},a1=(n,e)=>{var l;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?a1(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=n.join(Jg);return(l=e.validators.find(({validator:u})=>u(a)))==null?void 0:l.classGroupId},V0=/^\[(.+)\]$/,wR=n=>{if(V0.test(n)){const e=V0.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},_R=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return ER(Object.entries(n.classGroups),t).forEach(([a,l])=>{Zm(l,r,a,e)}),r},Zm=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const a=i===""?e:F0(e,i);a.classGroupId=t;return}if(typeof i=="function"){if(xR(i)){Zm(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([a,l])=>{Zm(l,F0(e,a),t,r)})})},F0=(n,e)=>{let t=n;return e.split(Jg).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},xR=n=>n.isThemeGetter,ER=(n,e)=>e?n.map(([t,r])=>{const i=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([l,u])=>[e+l,u])):a);return[t,i]}):n,bR=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(a,l)=>{t.set(a,l),e++,e>n&&(e=0,r=t,t=new Map)};return{get(a){let l=t.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return i(a,l),l},set(a,l){t.has(a)?t.set(a,l):i(a,l)}}},l1="!",TR=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,i=e[0],a=e.length,l=u=>{const f=[];let p=0,y=0,w;for(let T=0;T<u.length;T++){let L=u[T];if(p===0){if(L===i&&(r||u.slice(T,T+a)===e)){f.push(u.slice(y,T)),y=T+a;continue}if(L==="/"){w=T;continue}}L==="["?p++:L==="]"&&p--}const v=f.length===0?u:u.substring(y),C=v.startsWith(l1),R=C?v.substring(1):v,b=w&&w>y?w-y:void 0;return{modifiers:f,hasImportantModifier:C,baseClassName:R,maybePostfixModifierPosition:b}};return t?u=>t({className:u,parseClassName:l}):l},SR=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},CR=n=>({cache:bR(n.cacheSize),parseClassName:TR(n),...vR(n)}),IR=/\s+/,AR=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i}=e,a=[],l=n.trim().split(IR);let u="";for(let f=l.length-1;f>=0;f-=1){const p=l[f],{modifiers:y,hasImportantModifier:w,baseClassName:v,maybePostfixModifierPosition:C}=t(p);let R=!!C,b=r(R?v.substring(0,C):v);if(!b){if(!R){u=p+(u.length>0?" "+u:u);continue}if(b=r(v),!b){u=p+(u.length>0?" "+u:u);continue}R=!1}const T=SR(y).join(":"),L=w?T+l1:T,j=L+b;if(a.includes(j))continue;a.push(j);const F=i(b,R);for(let $=0;$<F.length;++$){const H=F[$];a.push(L+H)}u=p+(u.length>0?" "+u:u)}return u};function RR(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=c1(e))&&(r&&(r+=" "),r+=t);return r}const c1=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=c1(n[r]))&&(t&&(t+=" "),t+=e);return t};function PR(n,...e){let t,r,i,a=l;function l(f){const p=e.reduce((y,w)=>w(y),n());return t=CR(p),r=t.cache.get,i=t.cache.set,a=u,u(f)}function u(f){const p=r(f);if(p)return p;const y=AR(f,t);return i(f,y),y}return function(){return a(RR.apply(null,arguments))}}const Ct=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},u1=/^\[(?:([a-z-]+):)?(.+)\]$/i,kR=/^\d+\/\d+$/,NR=new Set(["px","full","screen"]),DR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,OR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,MR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,LR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,jR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,js=n=>Ya(n)||NR.has(n)||kR.test(n),Si=n=>Sl(n,"length",HR),Ya=n=>!!n&&!Number.isNaN(Number(n)),fm=n=>Sl(n,"number",Ya),_c=n=>!!n&&Number.isInteger(Number(n)),VR=n=>n.endsWith("%")&&Ya(n.slice(0,-1)),ze=n=>u1.test(n),Ci=n=>DR.test(n),FR=new Set(["length","size","percentage"]),UR=n=>Sl(n,FR,d1),zR=n=>Sl(n,"position",d1),$R=new Set(["image","url"]),BR=n=>Sl(n,$R,GR),WR=n=>Sl(n,"",qR),xc=()=>!0,Sl=(n,e,t)=>{const r=u1.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},HR=n=>OR.test(n)&&!MR.test(n),d1=()=>!1,qR=n=>LR.test(n),GR=n=>jR.test(n),KR=()=>{const n=Ct("colors"),e=Ct("spacing"),t=Ct("blur"),r=Ct("brightness"),i=Ct("borderColor"),a=Ct("borderRadius"),l=Ct("borderSpacing"),u=Ct("borderWidth"),f=Ct("contrast"),p=Ct("grayscale"),y=Ct("hueRotate"),w=Ct("invert"),v=Ct("gap"),C=Ct("gradientColorStops"),R=Ct("gradientColorStopPositions"),b=Ct("inset"),T=Ct("margin"),L=Ct("opacity"),j=Ct("padding"),F=Ct("saturate"),$=Ct("scale"),H=Ct("sepia"),q=Ct("skew"),P=Ct("space"),A=Ct("translate"),N=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",ze,e],M=()=>[ze,e],D=()=>["",js,Si],ee=()=>["auto",Ya,ze],be=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ge=()=>["solid","dashed","dotted","double","none"],fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>["start","end","center","between","around","evenly","stretch"],ae=()=>["","0",ze],le=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[Ya,ze];return{cacheSize:500,separator:":",theme:{colors:[xc],spacing:[js,Si],blur:["none","",Ci,ze],brightness:U(),borderColor:[n],borderRadius:["none","","full",Ci,ze],borderSpacing:M(),borderWidth:D(),contrast:U(),grayscale:ae(),hueRotate:U(),invert:ae(),gap:M(),gradientColorStops:[n],gradientColorStopPositions:[VR,Si],inset:V(),margin:V(),opacity:U(),padding:M(),saturate:U(),scale:U(),sepia:ae(),skew:U(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",ze]}],container:["container"],columns:[{columns:[Ci]}],"break-after":[{"break-after":le()}],"break-before":[{"break-before":le()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...be(),ze]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_c,ze]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ze]}],grow:[{grow:ae()}],shrink:[{shrink:ae()}],order:[{order:["first","last","none",_c,ze]}],"grid-cols":[{"grid-cols":[xc]}],"col-start-end":[{col:["auto",{span:["full",_c,ze]},ze]}],"col-start":[{"col-start":ee()}],"col-end":[{"col-end":ee()}],"grid-rows":[{"grid-rows":[xc]}],"row-start-end":[{row:["auto",{span:[_c,ze]},ze]}],"row-start":[{"row-start":ee()}],"row-end":[{"row-end":ee()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ze]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ze]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal",...Q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[j]}],px:[{px:[j]}],py:[{py:[j]}],ps:[{ps:[j]}],pe:[{pe:[j]}],pt:[{pt:[j]}],pr:[{pr:[j]}],pb:[{pb:[j]}],pl:[{pl:[j]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ze,e]}],"min-w":[{"min-w":[ze,e,"min","max","fit"]}],"max-w":[{"max-w":[ze,e,"none","full","min","max","fit","prose",{screen:[Ci]},Ci]}],h:[{h:[ze,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ze,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ze,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ze,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ci,Si]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",fm]}],"font-family":[{font:[xc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ze]}],"line-clamp":[{"line-clamp":["none",Ya,fm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",js,ze]}],"list-image":[{"list-image":["none",ze]}],"list-style-type":[{list:["none","disc","decimal",ze]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[L]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[L]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ge(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",js,Si]}],"underline-offset":[{"underline-offset":["auto",js,ze]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[L]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...be(),zR]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",UR]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},BR]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[R]}],"gradient-via-pos":[{via:[R]}],"gradient-to-pos":[{to:[R]}],"gradient-from":[{from:[C]}],"gradient-via":[{via:[C]}],"gradient-to":[{to:[C]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[L]}],"border-style":[{border:[...ge(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[L]}],"divide-style":[{divide:ge()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ge()]}],"outline-offset":[{"outline-offset":[js,ze]}],"outline-w":[{outline:[js,Si]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[L]}],"ring-offset-w":[{"ring-offset":[js,Si]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Ci,WR]}],"shadow-color":[{shadow:[xc]}],opacity:[{opacity:[L]}],"mix-blend":[{"mix-blend":[...fe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":fe()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",Ci,ze]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[w]}],saturate:[{saturate:[F]}],sepia:[{sepia:[H]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[w]}],"backdrop-opacity":[{"backdrop-opacity":[L]}],"backdrop-saturate":[{"backdrop-saturate":[F]}],"backdrop-sepia":[{"backdrop-sepia":[H]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ze]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",ze]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",ze]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[$]}],"scale-x":[{"scale-x":[$]}],"scale-y":[{"scale-y":[$]}],rotate:[{rotate:[_c,ze]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[q]}],"skew-y":[{"skew-y":[q]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ze]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ze]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ze]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[js,Si,fm]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},QR=PR(KR);function jt(...n){return QR(i1(n))}const YR=dR,h1=S.forwardRef(({className:n,...e},t)=>g.jsx(JE,{ref:t,className:jt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));h1.displayName=JE.displayName;const XR=Xg("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),f1=S.forwardRef(({className:n,variant:e,...t},r)=>g.jsx(ZE,{ref:r,className:jt(XR({variant:e}),n),...t}));f1.displayName=ZE.displayName;const JR=S.forwardRef(({className:n,...e},t)=>g.jsx(n1,{ref:t,className:jt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));JR.displayName=n1.displayName;const p1=S.forwardRef(({className:n,...e},t)=>g.jsx(r1,{ref:t,className:jt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:g.jsx(mh,{className:"h-4 w-4"})}));p1.displayName=r1.displayName;const m1=S.forwardRef(({className:n,...e},t)=>g.jsx(e1,{ref:t,className:jt("text-sm font-semibold",n),...e}));m1.displayName=e1.displayName;const g1=S.forwardRef(({className:n,...e},t)=>g.jsx(t1,{ref:t,className:jt("text-sm opacity-90",n),...e}));g1.displayName=t1.displayName;function ZR(){const{toasts:n}=EA();return g.jsxs(YR,{children:[n.map(function({id:e,title:t,description:r,action:i,...a}){return g.jsxs(f1,{...a,children:[g.jsxs("div",{className:"grid gap-1",children:[t&&g.jsx(m1,{children:t}),r&&g.jsx(g1,{children:r})]}),i,g.jsx(p1,{})]},e)}),g.jsx(h1,{})]})}var jd={},U0;function eP(){if(U0)return jd;U0=1;var n=RE();return jd.createRoot=n.createRoot,jd.hydrateRoot=n.hydrateRoot,jd}var tP=eP(),z0=["light","dark"],nP="(prefers-color-scheme: dark)",rP=S.createContext(void 0),sP={setTheme:n=>{},themes:[]},iP=()=>{var n;return(n=S.useContext(rP))!=null?n:sP};S.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:i,defaultTheme:a,value:l,attrs:u,nonce:f})=>{let p=a==="system",y=t==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${u.map(R=>`'${R}'`).join(",")})`};`:`var d=document.documentElement,n='${t}',s='setAttribute';`,w=i?z0.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",v=(R,b=!1,T=!0)=>{let L=l?l[R]:R,j=b?R+"|| ''":`'${L}'`,F="";return i&&T&&!b&&z0.includes(R)&&(F+=`d.style.colorScheme = '${R}';`),t==="class"?b||L?F+=`c.add(${j})`:F+="null":L&&(F+=`d[s](n,${j})`),F},C=n?`!function(){${y}${v(n)}}()`:r?`!function(){try{${y}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${p})){var t='${nP}',m=window.matchMedia(t);if(m.media!==t||m.matches){${v("dark")}}else{${v("light")}}}else if(e){${l?`var x=${JSON.stringify(l)};`:""}${v(l?"x[e]":"e",!0)}}${p?"":"else{"+v(a,!1,!1)+"}"}${w}}catch(e){}}()`:`!function(){try{${y}var e=localStorage.getItem('${e}');if(e){${l?`var x=${JSON.stringify(l)};`:""}${v(l?"x[e]":"e",!0)}}else{${v(a,!1,!1)};}${w}}catch(t){}}();`;return S.createElement("script",{nonce:f,dangerouslySetInnerHTML:{__html:C}})});var oP=n=>{switch(n){case"success":return cP;case"info":return dP;case"warning":return uP;case"error":return hP;default:return null}},aP=Array(12).fill(0),lP=({visible:n})=>me.createElement("div",{className:"sonner-loading-wrapper","data-visible":n},me.createElement("div",{className:"sonner-spinner"},aP.map((e,t)=>me.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`})))),cP=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),uP=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),dP=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),hP=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),fP=()=>{let[n,e]=me.useState(document.hidden);return me.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},eg=1,pP=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...i}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:eg++,l=this.toasts.find(f=>f.id===a),u=e.dismissible===void 0?!0:e.dismissible;return l?this.toasts=this.toasts.map(f=>f.id===a?(this.publish({...f,...e,id:a,title:r}),{...f,...e,id:a,dismissible:u,title:r}):f):this.addToast({title:r,...i,dismissible:u,id:a}),a},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let i=e instanceof Promise?e:e(),a=r!==void 0;return i.then(async l=>{if(gP(l)&&!l.ok){a=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${l.status}`):t.error,f=typeof t.description=="function"?await t.description(`HTTP error! status: ${l.status}`):t.description;this.create({id:r,type:"error",message:u,description:f})}else if(t.success!==void 0){a=!1;let u=typeof t.success=="function"?await t.success(l):t.success,f=typeof t.description=="function"?await t.description(l):t.description;this.create({id:r,type:"success",message:u,description:f})}}).catch(async l=>{if(t.error!==void 0){a=!1;let u=typeof t.error=="function"?await t.error(l):t.error,f=typeof t.description=="function"?await t.description(l):t.description;this.create({id:r,type:"error",message:u,description:f})}}).finally(()=>{var l;a&&(this.dismiss(r),r=void 0),(l=t.finally)==null||l.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||eg++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},tr=new pP,mP=(n,e)=>{let t=(e==null?void 0:e.id)||eg++;return tr.addToast({title:n,...e,id:t}),t},gP=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",yP=mP,vP=()=>tr.toasts;Object.assign(yP,{success:tr.success,info:tr.info,warning:tr.warning,error:tr.error,custom:tr.custom,message:tr.message,promise:tr.promise,dismiss:tr.dismiss,loading:tr.loading},{getHistory:vP});function wP(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}wP(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Vd(n){return n.label!==void 0}var _P=3,xP="32px",EP=4e3,bP=356,TP=14,SP=20,CP=200;function IP(...n){return n.filter(Boolean).join(" ")}var AP=n=>{var e,t,r,i,a,l,u,f,p,y;let{invert:w,toast:v,unstyled:C,interacting:R,setHeights:b,visibleToasts:T,heights:L,index:j,toasts:F,expanded:$,removeToast:H,defaultRichColors:q,closeButton:P,style:A,cancelButtonStyle:N,actionButtonStyle:O,className:V="",descriptionClassName:M="",duration:D,position:ee,gap:be,loadingIcon:ge,expandByDefault:fe,classNames:Q,icons:ae,closeButtonAriaLabel:le="Close toast",pauseWhenPageIsHidden:U,cn:X}=n,[re,ye]=me.useState(!1),[Ie,_e]=me.useState(!1),[Ue,Ve]=me.useState(!1),[ue,pe]=me.useState(!1),[qe,Ze]=me.useState(0),[Ye,st]=me.useState(0),Oe=me.useRef(null),ht=me.useRef(null),en=j===0,lt=j+1<=T,$e=v.type,ft=v.dismissible!==!1,bt=v.className||"",Ot=v.descriptionClassName||"",ct=me.useMemo(()=>L.findIndex(ke=>ke.toastId===v.id)||0,[L,v.id]),at=me.useMemo(()=>{var ke;return(ke=v.closeButton)!=null?ke:P},[v.closeButton,P]),He=me.useMemo(()=>v.duration||D||EP,[v.duration,D]),Xe=me.useRef(0),mt=me.useRef(0),On=me.useRef(0),or=me.useRef(null),[_r,xs]=ee.split("-"),Qr=me.useMemo(()=>L.reduce((ke,it,nt)=>nt>=ct?ke:ke+it.height,0),[L,ct]),ti=fP(),so=v.invert||w,Es=$e==="loading";mt.current=me.useMemo(()=>ct*be+Qr,[ct,Qr]),me.useEffect(()=>{ye(!0)},[]),me.useLayoutEffect(()=>{if(!re)return;let ke=ht.current,it=ke.style.height;ke.style.height="auto";let nt=ke.getBoundingClientRect().height;ke.style.height=it,st(nt),b(Rt=>Rt.find(Vt=>Vt.toastId===v.id)?Rt.map(Vt=>Vt.toastId===v.id?{...Vt,height:nt}:Vt):[{toastId:v.id,height:nt,position:v.position},...Rt])},[re,v.title,v.description,b,v.id]);let Mn=me.useCallback(()=>{_e(!0),Ze(mt.current),b(ke=>ke.filter(it=>it.toastId!==v.id)),setTimeout(()=>{H(v)},CP)},[v,H,b,mt]);me.useEffect(()=>{if(v.promise&&$e==="loading"||v.duration===1/0||v.type==="loading")return;let ke,it=He;return $||R||U&&ti?(()=>{if(On.current<Xe.current){let nt=new Date().getTime()-Xe.current;it=it-nt}On.current=new Date().getTime()})():it!==1/0&&(Xe.current=new Date().getTime(),ke=setTimeout(()=>{var nt;(nt=v.onAutoClose)==null||nt.call(v,v),Mn()},it)),()=>clearTimeout(ke)},[$,R,fe,v,He,Mn,v.promise,$e,U,ti]),me.useEffect(()=>{let ke=ht.current;if(ke){let it=ke.getBoundingClientRect().height;return st(it),b(nt=>[{toastId:v.id,height:it,position:v.position},...nt]),()=>b(nt=>nt.filter(Rt=>Rt.toastId!==v.id))}},[b,v.id]),me.useEffect(()=>{v.delete&&Mn()},[Mn,v.delete]);function io(){return ae!=null&&ae.loading?me.createElement("div",{className:"sonner-loader","data-visible":$e==="loading"},ae.loading):ge?me.createElement("div",{className:"sonner-loader","data-visible":$e==="loading"},ge):me.createElement(lP,{visible:$e==="loading"})}return me.createElement("li",{"aria-live":v.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:ht,className:X(V,bt,Q==null?void 0:Q.toast,(e=v==null?void 0:v.classNames)==null?void 0:e.toast,Q==null?void 0:Q.default,Q==null?void 0:Q[$e],(t=v==null?void 0:v.classNames)==null?void 0:t[$e]),"data-sonner-toast":"","data-rich-colors":(r=v.richColors)!=null?r:q,"data-styled":!(v.jsx||v.unstyled||C),"data-mounted":re,"data-promise":!!v.promise,"data-removed":Ie,"data-visible":lt,"data-y-position":_r,"data-x-position":xs,"data-index":j,"data-front":en,"data-swiping":Ue,"data-dismissible":ft,"data-type":$e,"data-invert":so,"data-swipe-out":ue,"data-expanded":!!($||fe&&re),style:{"--index":j,"--toasts-before":j,"--z-index":F.length-j,"--offset":`${Ie?qe:mt.current}px`,"--initial-height":fe?"auto":`${Ye}px`,...A,...v.style},onPointerDown:ke=>{Es||!ft||(Oe.current=new Date,Ze(mt.current),ke.target.setPointerCapture(ke.pointerId),ke.target.tagName!=="BUTTON"&&(Ve(!0),or.current={x:ke.clientX,y:ke.clientY}))},onPointerUp:()=>{var ke,it,nt,Rt;if(ue||!ft)return;or.current=null;let Vt=Number(((ke=ht.current)==null?void 0:ke.style.getPropertyValue("--swipe-amount").replace("px",""))||0),xr=new Date().getTime()-((it=Oe.current)==null?void 0:it.getTime()),ar=Math.abs(Vt)/xr;if(Math.abs(Vt)>=SP||ar>.11){Ze(mt.current),(nt=v.onDismiss)==null||nt.call(v,v),Mn(),pe(!0);return}(Rt=ht.current)==null||Rt.style.setProperty("--swipe-amount","0px"),Ve(!1)},onPointerMove:ke=>{var it;if(!or.current||!ft)return;let nt=ke.clientY-or.current.y,Rt=ke.clientX-or.current.x,Vt=(_r==="top"?Math.min:Math.max)(0,nt),xr=ke.pointerType==="touch"?10:2;Math.abs(Vt)>xr?(it=ht.current)==null||it.style.setProperty("--swipe-amount",`${nt}px`):Math.abs(Rt)>xr&&(or.current=null)}},at&&!v.jsx?me.createElement("button",{"aria-label":le,"data-disabled":Es,"data-close-button":!0,onClick:Es||!ft?()=>{}:()=>{var ke;Mn(),(ke=v.onDismiss)==null||ke.call(v,v)},className:X(Q==null?void 0:Q.closeButton,(i=v==null?void 0:v.classNames)==null?void 0:i.closeButton)},me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},me.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),me.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,v.jsx||me.isValidElement(v.title)?v.jsx||v.title:me.createElement(me.Fragment,null,$e||v.icon||v.promise?me.createElement("div",{"data-icon":"",className:X(Q==null?void 0:Q.icon,(a=v==null?void 0:v.classNames)==null?void 0:a.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||io():null,v.type!=="loading"?v.icon||(ae==null?void 0:ae[$e])||oP($e):null):null,me.createElement("div",{"data-content":"",className:X(Q==null?void 0:Q.content,(l=v==null?void 0:v.classNames)==null?void 0:l.content)},me.createElement("div",{"data-title":"",className:X(Q==null?void 0:Q.title,(u=v==null?void 0:v.classNames)==null?void 0:u.title)},v.title),v.description?me.createElement("div",{"data-description":"",className:X(M,Ot,Q==null?void 0:Q.description,(f=v==null?void 0:v.classNames)==null?void 0:f.description)},v.description):null),me.isValidElement(v.cancel)?v.cancel:v.cancel&&Vd(v.cancel)?me.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||N,onClick:ke=>{var it,nt;Vd(v.cancel)&&ft&&((nt=(it=v.cancel).onClick)==null||nt.call(it,ke),Mn())},className:X(Q==null?void 0:Q.cancelButton,(p=v==null?void 0:v.classNames)==null?void 0:p.cancelButton)},v.cancel.label):null,me.isValidElement(v.action)?v.action:v.action&&Vd(v.action)?me.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||O,onClick:ke=>{var it,nt;Vd(v.action)&&(ke.defaultPrevented||((nt=(it=v.action).onClick)==null||nt.call(it,ke),Mn()))},className:X(Q==null?void 0:Q.actionButton,(y=v==null?void 0:v.classNames)==null?void 0:y.actionButton)},v.action.label):null))};function $0(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}var RP=n=>{let{invert:e,position:t="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:a,className:l,offset:u,theme:f="light",richColors:p,duration:y,style:w,visibleToasts:v=_P,toastOptions:C,dir:R=$0(),gap:b=TP,loadingIcon:T,icons:L,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:F,cn:$=IP}=n,[H,q]=me.useState([]),P=me.useMemo(()=>Array.from(new Set([t].concat(H.filter(U=>U.position).map(U=>U.position)))),[H,t]),[A,N]=me.useState([]),[O,V]=me.useState(!1),[M,D]=me.useState(!1),[ee,be]=me.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ge=me.useRef(null),fe=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),Q=me.useRef(null),ae=me.useRef(!1),le=me.useCallback(U=>{var X;(X=H.find(re=>re.id===U.id))!=null&&X.delete||tr.dismiss(U.id),q(re=>re.filter(({id:ye})=>ye!==U.id))},[H]);return me.useEffect(()=>tr.subscribe(U=>{if(U.dismiss){q(X=>X.map(re=>re.id===U.id?{...re,delete:!0}:re));return}setTimeout(()=>{Hg.flushSync(()=>{q(X=>{let re=X.findIndex(ye=>ye.id===U.id);return re!==-1?[...X.slice(0,re),{...X[re],...U},...X.slice(re+1)]:[U,...X]})})})}),[]),me.useEffect(()=>{if(f!=="system"){be(f);return}f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?be("dark"):be("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:U})=>{be(U?"dark":"light")})},[f]),me.useEffect(()=>{H.length<=1&&V(!1)},[H]),me.useEffect(()=>{let U=X=>{var re,ye;r.every(Ie=>X[Ie]||X.code===Ie)&&(V(!0),(re=ge.current)==null||re.focus()),X.code==="Escape"&&(document.activeElement===ge.current||(ye=ge.current)!=null&&ye.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[r]),me.useEffect(()=>{if(ge.current)return()=>{Q.current&&(Q.current.focus({preventScroll:!0}),Q.current=null,ae.current=!1)}},[ge.current]),H.length?me.createElement("section",{"aria-label":`${j} ${fe}`,tabIndex:-1},P.map((U,X)=>{var re;let[ye,Ie]=U.split("-");return me.createElement("ol",{key:U,dir:R==="auto"?$0():R,tabIndex:-1,ref:ge,className:l,"data-sonner-toaster":!0,"data-theme":ee,"data-y-position":ye,"data-x-position":Ie,style:{"--front-toast-height":`${((re=A[0])==null?void 0:re.height)||0}px`,"--offset":typeof u=="number"?`${u}px`:u||xP,"--width":`${bP}px`,"--gap":`${b}px`,...w},onBlur:_e=>{ae.current&&!_e.currentTarget.contains(_e.relatedTarget)&&(ae.current=!1,Q.current&&(Q.current.focus({preventScroll:!0}),Q.current=null))},onFocus:_e=>{_e.target instanceof HTMLElement&&_e.target.dataset.dismissible==="false"||ae.current||(ae.current=!0,Q.current=_e.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{M||V(!1)},onPointerDown:_e=>{_e.target instanceof HTMLElement&&_e.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},H.filter(_e=>!_e.position&&X===0||_e.position===U).map((_e,Ue)=>{var Ve,ue;return me.createElement(AP,{key:_e.id,icons:L,index:Ue,toast:_e,defaultRichColors:p,duration:(Ve=C==null?void 0:C.duration)!=null?Ve:y,className:C==null?void 0:C.className,descriptionClassName:C==null?void 0:C.descriptionClassName,invert:e,visibleToasts:v,closeButton:(ue=C==null?void 0:C.closeButton)!=null?ue:a,interacting:M,position:U,style:C==null?void 0:C.style,unstyled:C==null?void 0:C.unstyled,classNames:C==null?void 0:C.classNames,cancelButtonStyle:C==null?void 0:C.cancelButtonStyle,actionButtonStyle:C==null?void 0:C.actionButtonStyle,removeToast:le,toasts:H.filter(pe=>pe.position==_e.position),heights:A.filter(pe=>pe.position==_e.position),setHeights:N,expandByDefault:i,gap:b,loadingIcon:T,expanded:O,pauseWhenPageIsHidden:F,cn:$})}))})):null};const PP=({...n})=>{const{theme:e="system"}=iP();return g.jsx(RP,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})};function kP(n,e=[]){let t=[];function r(a,l){const u=S.createContext(l),f=t.length;t=[...t,l];const p=w=>{var L;const{scope:v,children:C,...R}=w,b=((L=v==null?void 0:v[n])==null?void 0:L[f])||u,T=S.useMemo(()=>R,Object.values(R));return g.jsx(b.Provider,{value:T,children:C})};p.displayName=a+"Provider";function y(w,v){var b;const C=((b=v==null?void 0:v[n])==null?void 0:b[f])||u,R=S.useContext(C);if(R)return R;if(l!==void 0)return l;throw new Error(`\`${w}\` must be used within \`${a}\``)}return[p,y]}const i=()=>{const a=t.map(l=>S.createContext(l));return function(u){const f=(u==null?void 0:u[n])||a;return S.useMemo(()=>({[`__scope${n}`]:{...u,[n]:f}}),[u,f])}};return i.scopeName=n,[r,NP(i,...e)]}function NP(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=r.reduce((u,{useScope:f,scopeName:p})=>{const w=f(a)[`__scope${p}`];return{...u,...w}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}var DP="DismissableLayer",tg="dismissableLayer.update",OP="dismissableLayer.pointerDownOutside",MP="dismissableLayer.focusOutside",B0,y1=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Zg=S.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:l,onDismiss:u,...f}=n,p=S.useContext(y1),[y,w]=S.useState(null),v=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,C]=S.useState({}),R=Gt(e,P=>w(P)),b=Array.from(p.layers),[T]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),L=b.indexOf(T),j=y?b.indexOf(y):-1,F=p.layersWithOutsidePointerEventsDisabled.size>0,$=j>=L,H=VP(P=>{const A=P.target,N=[...p.branches].some(O=>O.contains(A));!$||N||(i==null||i(P),l==null||l(P),P.defaultPrevented||u==null||u())},v),q=FP(P=>{const A=P.target;[...p.branches].some(O=>O.contains(A))||(a==null||a(P),l==null||l(P),P.defaultPrevented||u==null||u())},v);return NE(P=>{j===p.layers.size-1&&(r==null||r(P),!P.defaultPrevented&&u&&(P.preventDefault(),u()))},v),S.useEffect(()=>{if(y)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(B0=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(y)),p.layers.add(y),W0(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=B0)}},[y,v,t,p]),S.useEffect(()=>()=>{y&&(p.layers.delete(y),p.layersWithOutsidePointerEventsDisabled.delete(y),W0())},[y,p]),S.useEffect(()=>{const P=()=>C({});return document.addEventListener(tg,P),()=>document.removeEventListener(tg,P)},[]),g.jsx(Et.div,{...f,ref:R,style:{pointerEvents:F?$?"auto":"none":void 0,...n.style},onFocusCapture:gt(n.onFocusCapture,q.onFocusCapture),onBlurCapture:gt(n.onBlurCapture,q.onBlurCapture),onPointerDownCapture:gt(n.onPointerDownCapture,H.onPointerDownCapture)})});Zg.displayName=DP;var LP="DismissableLayerBranch",jP=S.forwardRef((n,e)=>{const t=S.useContext(y1),r=S.useRef(null),i=Gt(e,r);return S.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),g.jsx(Et.div,{...n,ref:i})});jP.displayName=LP;function VP(n,e=globalThis==null?void 0:globalThis.document){const t=qn(n),r=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const a=u=>{if(u.target&&!r.current){let f=function(){v1(OP,t,p,{discrete:!0})};const p={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function FP(n,e=globalThis==null?void 0:globalThis.document){const t=qn(n),r=S.useRef(!1);return S.useEffect(()=>{const i=a=>{a.target&&!r.current&&v1(MP,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function W0(){const n=new CustomEvent(tg);document.dispatchEvent(n)}function v1(n,e,t,{discrete:r}){const i=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?qg(i,a):i.dispatchEvent(a)}var UP=AE.useId||(()=>{}),zP=0;function pm(n){const[e,t]=S.useState(UP());return ir(()=>{t(r=>r??String(zP++))},[n]),n||(e?`radix-${e}`:"")}const $P=["top","right","bottom","left"],Gi=Math.min,nr=Math.max,gh=Math.round,Fd=Math.floor,Ki=n=>({x:n,y:n}),BP={left:"right",right:"left",bottom:"top",top:"bottom"},WP={start:"end",end:"start"};function ng(n,e,t){return nr(n,Gi(e,t))}function Gs(n,e){return typeof n=="function"?n(e):n}function Ks(n){return n.split("-")[0]}function Cl(n){return n.split("-")[1]}function ey(n){return n==="x"?"y":"x"}function ty(n){return n==="y"?"height":"width"}function Qi(n){return["top","bottom"].includes(Ks(n))?"y":"x"}function ny(n){return ey(Qi(n))}function HP(n,e,t){t===void 0&&(t=!1);const r=Cl(n),i=ny(n),a=ty(i);let l=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=yh(l)),[l,yh(l)]}function qP(n){const e=yh(n);return[rg(n),e,rg(e)]}function rg(n){return n.replace(/start|end/g,e=>WP[e])}function GP(n,e,t){const r=["left","right"],i=["right","left"],a=["top","bottom"],l=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?a:l;default:return[]}}function KP(n,e,t,r){const i=Cl(n);let a=GP(Ks(n),t==="start",r);return i&&(a=a.map(l=>l+"-"+i),e&&(a=a.concat(a.map(rg)))),a}function yh(n){return n.replace(/left|right|bottom|top/g,e=>BP[e])}function QP(n){return{top:0,right:0,bottom:0,left:0,...n}}function w1(n){return typeof n!="number"?QP(n):{top:n,right:n,bottom:n,left:n}}function vh(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function H0(n,e,t){let{reference:r,floating:i}=n;const a=Qi(e),l=ny(e),u=ty(l),f=Ks(e),p=a==="y",y=r.x+r.width/2-i.width/2,w=r.y+r.height/2-i.height/2,v=r[u]/2-i[u]/2;let C;switch(f){case"top":C={x:y,y:r.y-i.height};break;case"bottom":C={x:y,y:r.y+r.height};break;case"right":C={x:r.x+r.width,y:w};break;case"left":C={x:r.x-i.width,y:w};break;default:C={x:r.x,y:r.y}}switch(Cl(e)){case"start":C[l]-=v*(t&&p?-1:1);break;case"end":C[l]+=v*(t&&p?-1:1);break}return C}const YP=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:l}=t,u=a.filter(Boolean),f=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:n,floating:e,strategy:i}),{x:y,y:w}=H0(p,r,f),v=r,C={},R=0;for(let b=0;b<u.length;b++){const{name:T,fn:L}=u[b],{x:j,y:F,data:$,reset:H}=await L({x:y,y:w,initialPlacement:r,placement:v,strategy:i,middlewareData:C,rects:p,platform:l,elements:{reference:n,floating:e}});y=j??y,w=F??w,C={...C,[T]:{...C[T],...$}},H&&R<=50&&(R++,typeof H=="object"&&(H.placement&&(v=H.placement),H.rects&&(p=H.rects===!0?await l.getElementRects({reference:n,floating:e,strategy:i}):H.rects),{x:y,y:w}=H0(p,v,f)),b=-1)}return{x:y,y:w,placement:v,strategy:i,middlewareData:C}};async function Bc(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:l,elements:u,strategy:f}=n,{boundary:p="clippingAncestors",rootBoundary:y="viewport",elementContext:w="floating",altBoundary:v=!1,padding:C=0}=Gs(e,n),R=w1(C),T=u[v?w==="floating"?"reference":"floating":w],L=vh(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(T)))==null||t?T:T.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:p,rootBoundary:y,strategy:f})),j=w==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,F=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),$=await(a.isElement==null?void 0:a.isElement(F))?await(a.getScale==null?void 0:a.getScale(F))||{x:1,y:1}:{x:1,y:1},H=vh(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:j,offsetParent:F,strategy:f}):j);return{top:(L.top-H.top+R.top)/$.y,bottom:(H.bottom-L.bottom+R.bottom)/$.y,left:(L.left-H.left+R.left)/$.x,right:(H.right-L.right+R.right)/$.x}}const XP=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:a,platform:l,elements:u,middlewareData:f}=e,{element:p,padding:y=0}=Gs(n,e)||{};if(p==null)return{};const w=w1(y),v={x:t,y:r},C=ny(i),R=ty(C),b=await l.getDimensions(p),T=C==="y",L=T?"top":"left",j=T?"bottom":"right",F=T?"clientHeight":"clientWidth",$=a.reference[R]+a.reference[C]-v[C]-a.floating[R],H=v[C]-a.reference[C],q=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let P=q?q[F]:0;(!P||!await(l.isElement==null?void 0:l.isElement(q)))&&(P=u.floating[F]||a.floating[R]);const A=$/2-H/2,N=P/2-b[R]/2-1,O=Gi(w[L],N),V=Gi(w[j],N),M=O,D=P-b[R]-V,ee=P/2-b[R]/2+A,be=ng(M,ee,D),ge=!f.arrow&&Cl(i)!=null&&ee!==be&&a.reference[R]/2-(ee<M?O:V)-b[R]/2<0,fe=ge?ee<M?ee-M:ee-D:0;return{[C]:v[C]+fe,data:{[C]:be,centerOffset:ee-be-fe,...ge&&{alignmentOffset:fe}},reset:ge}}}),JP=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:a,rects:l,initialPlacement:u,platform:f,elements:p}=e,{mainAxis:y=!0,crossAxis:w=!0,fallbackPlacements:v,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:R="none",flipAlignment:b=!0,...T}=Gs(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const L=Ks(i),j=Qi(u),F=Ks(u)===u,$=await(f.isRTL==null?void 0:f.isRTL(p.floating)),H=v||(F||!b?[yh(u)]:qP(u)),q=R!=="none";!v&&q&&H.push(...KP(u,b,R,$));const P=[u,...H],A=await Bc(e,T),N=[];let O=((r=a.flip)==null?void 0:r.overflows)||[];if(y&&N.push(A[L]),w){const ee=HP(i,l,$);N.push(A[ee[0]],A[ee[1]])}if(O=[...O,{placement:i,overflows:N}],!N.every(ee=>ee<=0)){var V,M;const ee=(((V=a.flip)==null?void 0:V.index)||0)+1,be=P[ee];if(be)return{data:{index:ee,overflows:O},reset:{placement:be}};let ge=(M=O.filter(fe=>fe.overflows[0]<=0).sort((fe,Q)=>fe.overflows[1]-Q.overflows[1])[0])==null?void 0:M.placement;if(!ge)switch(C){case"bestFit":{var D;const fe=(D=O.filter(Q=>{if(q){const ae=Qi(Q.placement);return ae===j||ae==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(ae=>ae>0).reduce((ae,le)=>ae+le,0)]).sort((Q,ae)=>Q[1]-ae[1])[0])==null?void 0:D[0];fe&&(ge=fe);break}case"initialPlacement":ge=u;break}if(i!==ge)return{reset:{placement:ge}}}return{}}}};function q0(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function G0(n){return $P.some(e=>n[e]>=0)}const ZP=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=Gs(n,e);switch(r){case"referenceHidden":{const a=await Bc(e,{...i,elementContext:"reference"}),l=q0(a,t.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:G0(l)}}}case"escaped":{const a=await Bc(e,{...i,altBoundary:!0}),l=q0(a,t.floating);return{data:{escapedOffsets:l,escaped:G0(l)}}}default:return{}}}}};async function ek(n,e){const{placement:t,platform:r,elements:i}=n,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=Ks(t),u=Cl(t),f=Qi(t)==="y",p=["left","top"].includes(l)?-1:1,y=a&&f?-1:1,w=Gs(e,n);let{mainAxis:v,crossAxis:C,alignmentAxis:R}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return u&&typeof R=="number"&&(C=u==="end"?R*-1:R),f?{x:C*y,y:v*p}:{x:v*p,y:C*y}}const tk=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:a,placement:l,middlewareData:u}=e,f=await ek(e,n);return l===((t=u.offset)==null?void 0:t.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+f.x,y:a+f.y,data:{...f,placement:l}}}}},nk=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:u={fn:T=>{let{x:L,y:j}=T;return{x:L,y:j}}},...f}=Gs(n,e),p={x:t,y:r},y=await Bc(e,f),w=Qi(Ks(i)),v=ey(w);let C=p[v],R=p[w];if(a){const T=v==="y"?"top":"left",L=v==="y"?"bottom":"right",j=C+y[T],F=C-y[L];C=ng(j,C,F)}if(l){const T=w==="y"?"top":"left",L=w==="y"?"bottom":"right",j=R+y[T],F=R-y[L];R=ng(j,R,F)}const b=u.fn({...e,[v]:C,[w]:R});return{...b,data:{x:b.x-t,y:b.y-r,enabled:{[v]:a,[w]:l}}}}}},rk=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:a,middlewareData:l}=e,{offset:u=0,mainAxis:f=!0,crossAxis:p=!0}=Gs(n,e),y={x:t,y:r},w=Qi(i),v=ey(w);let C=y[v],R=y[w];const b=Gs(u,e),T=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(f){const F=v==="y"?"height":"width",$=a.reference[v]-a.floating[F]+T.mainAxis,H=a.reference[v]+a.reference[F]-T.mainAxis;C<$?C=$:C>H&&(C=H)}if(p){var L,j;const F=v==="y"?"width":"height",$=["top","left"].includes(Ks(i)),H=a.reference[w]-a.floating[F]+($&&((L=l.offset)==null?void 0:L[w])||0)+($?0:T.crossAxis),q=a.reference[w]+a.reference[F]+($?0:((j=l.offset)==null?void 0:j[w])||0)-($?T.crossAxis:0);R<H?R=H:R>q&&(R=q)}return{[v]:C,[w]:R}}}},sk=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:a,platform:l,elements:u}=e,{apply:f=()=>{},...p}=Gs(n,e),y=await Bc(e,p),w=Ks(i),v=Cl(i),C=Qi(i)==="y",{width:R,height:b}=a.floating;let T,L;w==="top"||w==="bottom"?(T=w,L=v===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(L=w,T=v==="end"?"top":"bottom");const j=b-y.top-y.bottom,F=R-y.left-y.right,$=Gi(b-y[T],j),H=Gi(R-y[L],F),q=!e.middlewareData.shift;let P=$,A=H;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(A=F),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(P=j),q&&!v){const O=nr(y.left,0),V=nr(y.right,0),M=nr(y.top,0),D=nr(y.bottom,0);C?A=R-2*(O!==0||V!==0?O+V:nr(y.left,y.right)):P=b-2*(M!==0||D!==0?M+D:nr(y.top,y.bottom))}await f({...e,availableWidth:A,availableHeight:P});const N=await l.getDimensions(u.floating);return R!==N.width||b!==N.height?{reset:{rects:!0}}:{}}}};function Qh(){return typeof window<"u"}function Il(n){return _1(n)?(n.nodeName||"").toLowerCase():"#document"}function sr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function vs(n){var e;return(e=(_1(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function _1(n){return Qh()?n instanceof Node||n instanceof sr(n).Node:!1}function Hr(n){return Qh()?n instanceof Element||n instanceof sr(n).Element:!1}function ps(n){return Qh()?n instanceof HTMLElement||n instanceof sr(n).HTMLElement:!1}function K0(n){return!Qh()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof sr(n).ShadowRoot}function iu(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=qr(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function ik(n){return["table","td","th"].includes(Il(n))}function Yh(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function ry(n){const e=sy(),t=Hr(n)?qr(n):n;return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function ok(n){let e=Yi(n);for(;ps(e)&&!fl(e);){if(ry(e))return e;if(Yh(e))return null;e=Yi(e)}return null}function sy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function fl(n){return["html","body","#document"].includes(Il(n))}function qr(n){return sr(n).getComputedStyle(n)}function Xh(n){return Hr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Yi(n){if(Il(n)==="html")return n;const e=n.assignedSlot||n.parentNode||K0(n)&&n.host||vs(n);return K0(e)?e.host:e}function x1(n){const e=Yi(n);return fl(e)?n.ownerDocument?n.ownerDocument.body:n.body:ps(e)&&iu(e)?e:x1(e)}function Wc(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=x1(n),a=i===((r=n.ownerDocument)==null?void 0:r.body),l=sr(i);if(a){const u=sg(l);return e.concat(l,l.visualViewport||[],iu(i)?i:[],u&&t?Wc(u):[])}return e.concat(i,Wc(i,[],t))}function sg(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function E1(n){const e=qr(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ps(n),a=i?n.offsetWidth:t,l=i?n.offsetHeight:r,u=gh(t)!==a||gh(r)!==l;return u&&(t=a,r=l),{width:t,height:r,$:u}}function iy(n){return Hr(n)?n:n.contextElement}function Xa(n){const e=iy(n);if(!ps(e))return Ki(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:a}=E1(e);let l=(a?gh(t.width):t.width)/r,u=(a?gh(t.height):t.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const ak=Ki(0);function b1(n){const e=sr(n);return!sy()||!e.visualViewport?ak:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function lk(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==sr(n)?!1:e}function zo(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),a=iy(n);let l=Ki(1);e&&(r?Hr(r)&&(l=Xa(r)):l=Xa(n));const u=lk(a,t,r)?b1(a):Ki(0);let f=(i.left+u.x)/l.x,p=(i.top+u.y)/l.y,y=i.width/l.x,w=i.height/l.y;if(a){const v=sr(a),C=r&&Hr(r)?sr(r):r;let R=v,b=sg(R);for(;b&&r&&C!==R;){const T=Xa(b),L=b.getBoundingClientRect(),j=qr(b),F=L.left+(b.clientLeft+parseFloat(j.paddingLeft))*T.x,$=L.top+(b.clientTop+parseFloat(j.paddingTop))*T.y;f*=T.x,p*=T.y,y*=T.x,w*=T.y,f+=F,p+=$,R=sr(b),b=sg(R)}}return vh({width:y,height:w,x:f,y:p})}function ck(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const a=i==="fixed",l=vs(r),u=e?Yh(e.floating):!1;if(r===l||u&&a)return t;let f={scrollLeft:0,scrollTop:0},p=Ki(1);const y=Ki(0),w=ps(r);if((w||!w&&!a)&&((Il(r)!=="body"||iu(l))&&(f=Xh(r)),ps(r))){const v=zo(r);p=Xa(r),y.x=v.x+r.clientLeft,y.y=v.y+r.clientTop}return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-f.scrollLeft*p.x+y.x,y:t.y*p.y-f.scrollTop*p.y+y.y}}function uk(n){return Array.from(n.getClientRects())}function ig(n,e){const t=Xh(n).scrollLeft;return e?e.left+t:zo(vs(n)).left+t}function dk(n){const e=vs(n),t=Xh(n),r=n.ownerDocument.body,i=nr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=nr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-t.scrollLeft+ig(n);const u=-t.scrollTop;return qr(r).direction==="rtl"&&(l+=nr(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:l,y:u}}function hk(n,e){const t=sr(n),r=vs(n),i=t.visualViewport;let a=r.clientWidth,l=r.clientHeight,u=0,f=0;if(i){a=i.width,l=i.height;const p=sy();(!p||p&&e==="fixed")&&(u=i.offsetLeft,f=i.offsetTop)}return{width:a,height:l,x:u,y:f}}function fk(n,e){const t=zo(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,a=ps(n)?Xa(n):Ki(1),l=n.clientWidth*a.x,u=n.clientHeight*a.y,f=i*a.x,p=r*a.y;return{width:l,height:u,x:f,y:p}}function Q0(n,e,t){let r;if(e==="viewport")r=hk(n,t);else if(e==="document")r=dk(vs(n));else if(Hr(e))r=fk(e,t);else{const i=b1(n);r={...e,x:e.x-i.x,y:e.y-i.y}}return vh(r)}function T1(n,e){const t=Yi(n);return t===e||!Hr(t)||fl(t)?!1:qr(t).position==="fixed"||T1(t,e)}function pk(n,e){const t=e.get(n);if(t)return t;let r=Wc(n,[],!1).filter(u=>Hr(u)&&Il(u)!=="body"),i=null;const a=qr(n).position==="fixed";let l=a?Yi(n):n;for(;Hr(l)&&!fl(l);){const u=qr(l),f=ry(l);!f&&u.position==="fixed"&&(i=null),(a?!f&&!i:!f&&u.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||iu(l)&&!f&&T1(n,l))?r=r.filter(y=>y!==l):i=u,l=Yi(l)}return e.set(n,r),r}function mk(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const l=[...t==="clippingAncestors"?Yh(e)?[]:pk(e,this._c):[].concat(t),r],u=l[0],f=l.reduce((p,y)=>{const w=Q0(e,y,i);return p.top=nr(w.top,p.top),p.right=Gi(w.right,p.right),p.bottom=Gi(w.bottom,p.bottom),p.left=nr(w.left,p.left),p},Q0(e,u,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function gk(n){const{width:e,height:t}=E1(n);return{width:e,height:t}}function yk(n,e,t){const r=ps(e),i=vs(e),a=t==="fixed",l=zo(n,!0,a,e);let u={scrollLeft:0,scrollTop:0};const f=Ki(0);if(r||!r&&!a)if((Il(e)!=="body"||iu(i))&&(u=Xh(e)),r){const C=zo(e,!0,a,e);f.x=C.x+e.clientLeft,f.y=C.y+e.clientTop}else i&&(f.x=ig(i));let p=0,y=0;if(i&&!r&&!a){const C=i.getBoundingClientRect();y=C.top+u.scrollTop,p=C.left+u.scrollLeft-ig(i,C)}const w=l.left+u.scrollLeft-f.x-p,v=l.top+u.scrollTop-f.y-y;return{x:w,y:v,width:l.width,height:l.height}}function mm(n){return qr(n).position==="static"}function Y0(n,e){if(!ps(n)||qr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return vs(n)===t&&(t=t.ownerDocument.body),t}function S1(n,e){const t=sr(n);if(Yh(n))return t;if(!ps(n)){let i=Yi(n);for(;i&&!fl(i);){if(Hr(i)&&!mm(i))return i;i=Yi(i)}return t}let r=Y0(n,e);for(;r&&ik(r)&&mm(r);)r=Y0(r,e);return r&&fl(r)&&mm(r)&&!ry(r)?t:r||ok(n)||t}const vk=async function(n){const e=this.getOffsetParent||S1,t=this.getDimensions,r=await t(n.floating);return{reference:yk(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function wk(n){return qr(n).direction==="rtl"}const _k={convertOffsetParentRelativeRectToViewportRelativeRect:ck,getDocumentElement:vs,getClippingRect:mk,getOffsetParent:S1,getElementRects:vk,getClientRects:uk,getDimensions:gk,getScale:Xa,isElement:Hr,isRTL:wk};function xk(n,e){let t=null,r;const i=vs(n);function a(){var u;clearTimeout(r),(u=t)==null||u.disconnect(),t=null}function l(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),a();const{left:p,top:y,width:w,height:v}=n.getBoundingClientRect();if(u||e(),!w||!v)return;const C=Fd(y),R=Fd(i.clientWidth-(p+w)),b=Fd(i.clientHeight-(y+v)),T=Fd(p),j={rootMargin:-C+"px "+-R+"px "+-b+"px "+-T+"px",threshold:nr(0,Gi(1,f))||1};let F=!0;function $(H){const q=H[0].intersectionRatio;if(q!==f){if(!F)return l();q?l(!1,q):r=setTimeout(()=>{l(!1,1e-7)},1e3)}F=!1}try{t=new IntersectionObserver($,{...j,root:i.ownerDocument})}catch{t=new IntersectionObserver($,j)}t.observe(n)}return l(!0),a}function Ek(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,p=iy(n),y=i||a?[...p?Wc(p):[],...Wc(e)]:[];y.forEach(L=>{i&&L.addEventListener("scroll",t,{passive:!0}),a&&L.addEventListener("resize",t)});const w=p&&u?xk(p,t):null;let v=-1,C=null;l&&(C=new ResizeObserver(L=>{let[j]=L;j&&j.target===p&&C&&(C.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var F;(F=C)==null||F.observe(e)})),t()}),p&&!f&&C.observe(p),C.observe(e));let R,b=f?zo(n):null;f&&T();function T(){const L=zo(n);b&&(L.x!==b.x||L.y!==b.y||L.width!==b.width||L.height!==b.height)&&t(),b=L,R=requestAnimationFrame(T)}return t(),()=>{var L;y.forEach(j=>{i&&j.removeEventListener("scroll",t),a&&j.removeEventListener("resize",t)}),w==null||w(),(L=C)==null||L.disconnect(),C=null,f&&cancelAnimationFrame(R)}}const bk=tk,Tk=nk,Sk=JP,Ck=sk,Ik=ZP,X0=XP,Ak=rk,Rk=(n,e,t)=>{const r=new Map,i={platform:_k,...t},a={...i.platform,_c:r};return YP(n,e,{...i,platform:a})};var rh=typeof document<"u"?S.useLayoutEffect:S.useEffect;function wh(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!wh(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const a=i[r];if(!(a==="_owner"&&n.$$typeof)&&!wh(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function C1(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function J0(n,e){const t=C1(n);return Math.round(e*t)/t}function gm(n){const e=S.useRef(n);return rh(()=>{e.current=n}),e}function Pk(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:l}={},transform:u=!0,whileElementsMounted:f,open:p}=n,[y,w]=S.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[v,C]=S.useState(r);wh(v,r)||C(r);const[R,b]=S.useState(null),[T,L]=S.useState(null),j=S.useCallback(Q=>{Q!==q.current&&(q.current=Q,b(Q))},[]),F=S.useCallback(Q=>{Q!==P.current&&(P.current=Q,L(Q))},[]),$=a||R,H=l||T,q=S.useRef(null),P=S.useRef(null),A=S.useRef(y),N=f!=null,O=gm(f),V=gm(i),M=gm(p),D=S.useCallback(()=>{if(!q.current||!P.current)return;const Q={placement:e,strategy:t,middleware:v};V.current&&(Q.platform=V.current),Rk(q.current,P.current,Q).then(ae=>{const le={...ae,isPositioned:M.current!==!1};ee.current&&!wh(A.current,le)&&(A.current=le,Tl.flushSync(()=>{w(le)}))})},[v,e,t,V,M]);rh(()=>{p===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,w(Q=>({...Q,isPositioned:!1})))},[p]);const ee=S.useRef(!1);rh(()=>(ee.current=!0,()=>{ee.current=!1}),[]),rh(()=>{if($&&(q.current=$),H&&(P.current=H),$&&H){if(O.current)return O.current($,H,D);D()}},[$,H,D,O,N]);const be=S.useMemo(()=>({reference:q,floating:P,setReference:j,setFloating:F}),[j,F]),ge=S.useMemo(()=>({reference:$,floating:H}),[$,H]),fe=S.useMemo(()=>{const Q={position:t,left:0,top:0};if(!ge.floating)return Q;const ae=J0(ge.floating,y.x),le=J0(ge.floating,y.y);return u?{...Q,transform:"translate("+ae+"px, "+le+"px)",...C1(ge.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ae,top:le}},[t,u,ge.floating,y.x,y.y]);return S.useMemo(()=>({...y,update:D,refs:be,elements:ge,floatingStyles:fe}),[y,D,be,ge,fe])}const kk=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?X0({element:r.current,padding:i}).fn(t):{}:r?X0({element:r,padding:i}).fn(t):{}}}},Nk=(n,e)=>({...bk(n),options:[n,e]}),Dk=(n,e)=>({...Tk(n),options:[n,e]}),Ok=(n,e)=>({...Ak(n),options:[n,e]}),Mk=(n,e)=>({...Sk(n),options:[n,e]}),Lk=(n,e)=>({...Ck(n),options:[n,e]}),jk=(n,e)=>({...Ik(n),options:[n,e]}),Vk=(n,e)=>({...kk(n),options:[n,e]});var Fk="Arrow",I1=S.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...a}=n;return g.jsx(Et.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});I1.displayName=Fk;var Uk=I1;function A1(n){const[e,t]=S.useState(void 0);return ir(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let l,u;if("borderBoxSize"in a){const f=a.borderBoxSize,p=Array.isArray(f)?f[0]:f;l=p.inlineSize,u=p.blockSize}else l=n.offsetWidth,u=n.offsetHeight;t({width:l,height:u})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var R1="Popper",[P1,k1]=Hh(R1),[N9,N1]=P1(R1),D1="PopperAnchor",O1=S.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,a=N1(D1,t),l=S.useRef(null),u=Gt(e,l);return S.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:g.jsx(Et.div,{...i,ref:u})});O1.displayName=D1;var oy="PopperContent",[zk,$k]=P1(oy),M1=S.forwardRef((n,e)=>{var Ue,Ve,ue,pe,qe,Ze;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:f=!0,collisionBoundary:p=[],collisionPadding:y=0,sticky:w="partial",hideWhenDetached:v=!1,updatePositionStrategy:C="optimized",onPlaced:R,...b}=n,T=N1(oy,t),[L,j]=S.useState(null),F=Gt(e,Ye=>j(Ye)),[$,H]=S.useState(null),q=A1($),P=(q==null?void 0:q.width)??0,A=(q==null?void 0:q.height)??0,N=r+(a!=="center"?"-"+a:""),O=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},V=Array.isArray(p)?p:[p],M=V.length>0,D={padding:O,boundary:V.filter(Wk),altBoundary:M},{refs:ee,floatingStyles:be,placement:ge,isPositioned:fe,middlewareData:Q}=Pk({strategy:"fixed",placement:N,whileElementsMounted:(...Ye)=>Ek(...Ye,{animationFrame:C==="always"}),elements:{reference:T.anchor},middleware:[Nk({mainAxis:i+A,alignmentAxis:l}),f&&Dk({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?Ok():void 0,...D}),f&&Mk({...D}),Lk({...D,apply:({elements:Ye,rects:st,availableWidth:Oe,availableHeight:ht})=>{const{width:en,height:lt}=st.reference,$e=Ye.floating.style;$e.setProperty("--radix-popper-available-width",`${Oe}px`),$e.setProperty("--radix-popper-available-height",`${ht}px`),$e.setProperty("--radix-popper-anchor-width",`${en}px`),$e.setProperty("--radix-popper-anchor-height",`${lt}px`)}}),$&&Vk({element:$,padding:u}),Hk({arrowWidth:P,arrowHeight:A}),v&&jk({strategy:"referenceHidden",...D})]}),[ae,le]=V1(ge),U=qn(R);ir(()=>{fe&&(U==null||U())},[fe,U]);const X=(Ue=Q.arrow)==null?void 0:Ue.x,re=(Ve=Q.arrow)==null?void 0:Ve.y,ye=((ue=Q.arrow)==null?void 0:ue.centerOffset)!==0,[Ie,_e]=S.useState();return ir(()=>{L&&_e(window.getComputedStyle(L).zIndex)},[L]),g.jsx("div",{ref:ee.setFloating,"data-radix-popper-content-wrapper":"",style:{...be,transform:fe?be.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ie,"--radix-popper-transform-origin":[(pe=Q.transformOrigin)==null?void 0:pe.x,(qe=Q.transformOrigin)==null?void 0:qe.y].join(" "),...((Ze=Q.hide)==null?void 0:Ze.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:g.jsx(zk,{scope:t,placedSide:ae,onArrowChange:H,arrowX:X,arrowY:re,shouldHideArrow:ye,children:g.jsx(Et.div,{"data-side":ae,"data-align":le,...b,ref:F,style:{...b.style,animation:fe?void 0:"none"}})})})});M1.displayName=oy;var L1="PopperArrow",Bk={top:"bottom",right:"left",bottom:"top",left:"right"},j1=S.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,a=$k(L1,r),l=Bk[a.placedSide];return g.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:g.jsx(Uk,{...i,ref:t,style:{...i.style,display:"block"}})})});j1.displayName=L1;function Wk(n){return n!==null}var Hk=n=>({name:"transformOrigin",options:n,fn(e){var T,L,j;const{placement:t,rects:r,middlewareData:i}=e,l=((T=i.arrow)==null?void 0:T.centerOffset)!==0,u=l?0:n.arrowWidth,f=l?0:n.arrowHeight,[p,y]=V1(t),w={start:"0%",center:"50%",end:"100%"}[y],v=(((L=i.arrow)==null?void 0:L.x)??0)+u/2,C=(((j=i.arrow)==null?void 0:j.y)??0)+f/2;let R="",b="";return p==="bottom"?(R=l?w:`${v}px`,b=`${-f}px`):p==="top"?(R=l?w:`${v}px`,b=`${r.floating.height+f}px`):p==="right"?(R=`${-f}px`,b=l?w:`${C}px`):p==="left"&&(R=`${r.floating.width+f}px`,b=l?w:`${C}px`),{data:{x:R,y:b}}}});function V1(n){const[e,t="center"]=n.split("-");return[e,t]}var qk=O1,Gk=M1,Kk=j1,Qk="Portal",F1=S.forwardRef((n,e)=>{var u;const{container:t,...r}=n,[i,a]=S.useState(!1);ir(()=>a(!0),[]);const l=t||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?Hg.createPortal(g.jsx(Et.div,{...r,ref:e}),l):null});F1.displayName=Qk;function Yk(n,e){return S.useReducer((t,r)=>e[t][r]??t,n)}var U1=n=>{const{present:e,children:t}=n,r=Xk(e),i=typeof t=="function"?t({present:r.isPresent}):S.Children.only(t),a=Gt(r.ref,Jk(i));return typeof t=="function"||r.isPresent?S.cloneElement(i,{ref:a}):null};U1.displayName="Presence";function Xk(n){const[e,t]=S.useState(),r=S.useRef({}),i=S.useRef(n),a=S.useRef("none"),l=n?"mounted":"unmounted",[u,f]=Yk(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const p=Ud(r.current);a.current=u==="mounted"?p:"none"},[u]),ir(()=>{const p=r.current,y=i.current;if(y!==n){const v=a.current,C=Ud(p);n?f("MOUNT"):C==="none"||(p==null?void 0:p.display)==="none"?f("UNMOUNT"):f(y&&v!==C?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,f]),ir(()=>{if(e){let p;const y=e.ownerDocument.defaultView??window,w=C=>{const b=Ud(r.current).includes(C.animationName);if(C.target===e&&b&&(f("ANIMATION_END"),!i.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",p=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},v=C=>{C.target===e&&(a.current=Ud(r.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",w),e.addEventListener("animationend",w),()=>{y.clearTimeout(p),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",w),e.removeEventListener("animationend",w)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:S.useCallback(p=>{p&&(r.current=getComputedStyle(p)),t(p)},[])}}function Ud(n){return(n==null?void 0:n.animationName)||"none"}function Jk(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var[Jh,D9]=kP("Tooltip",[k1]),ay=k1(),z1="TooltipProvider",Zk=700,Z0="tooltip.open",[e2,$1]=Jh(z1),B1=n=>{const{__scopeTooltip:e,delayDuration:t=Zk,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=n,[l,u]=S.useState(!0),f=S.useRef(!1),p=S.useRef(0);return S.useEffect(()=>{const y=p.current;return()=>window.clearTimeout(y)},[]),g.jsx(e2,{scope:e,isOpenDelayed:l,delayDuration:t,onOpen:S.useCallback(()=>{window.clearTimeout(p.current),u(!1)},[]),onClose:S.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>u(!0),r)},[r]),isPointerInTransitRef:f,onPointerInTransitChange:S.useCallback(y=>{f.current=y},[]),disableHoverableContent:i,children:a})};B1.displayName=z1;var W1="Tooltip",[O9,Zh]=Jh(W1),og="TooltipTrigger",t2=S.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=Zh(og,t),a=$1(og,t),l=ay(t),u=S.useRef(null),f=Gt(e,u,i.onTriggerChange),p=S.useRef(!1),y=S.useRef(!1),w=S.useCallback(()=>p.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",w),[w]),g.jsx(qk,{asChild:!0,...l,children:g.jsx(Et.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:f,onPointerMove:gt(n.onPointerMove,v=>{v.pointerType!=="touch"&&!y.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),y.current=!0)}),onPointerLeave:gt(n.onPointerLeave,()=>{i.onTriggerLeave(),y.current=!1}),onPointerDown:gt(n.onPointerDown,()=>{p.current=!0,document.addEventListener("pointerup",w,{once:!0})}),onFocus:gt(n.onFocus,()=>{p.current||i.onOpen()}),onBlur:gt(n.onBlur,i.onClose),onClick:gt(n.onClick,i.onClose)})})});t2.displayName=og;var n2="TooltipPortal",[M9,r2]=Jh(n2,{forceMount:void 0}),pl="TooltipContent",H1=S.forwardRef((n,e)=>{const t=r2(pl,n.__scopeTooltip),{forceMount:r=t.forceMount,side:i="top",...a}=n,l=Zh(pl,n.__scopeTooltip);return g.jsx(U1,{present:r||l.open,children:l.disableHoverableContent?g.jsx(q1,{side:i,...a,ref:e}):g.jsx(s2,{side:i,...a,ref:e})})}),s2=S.forwardRef((n,e)=>{const t=Zh(pl,n.__scopeTooltip),r=$1(pl,n.__scopeTooltip),i=S.useRef(null),a=Gt(e,i),[l,u]=S.useState(null),{trigger:f,onClose:p}=t,y=i.current,{onPointerInTransitChange:w}=r,v=S.useCallback(()=>{u(null),w(!1)},[w]),C=S.useCallback((R,b)=>{const T=R.currentTarget,L={x:R.clientX,y:R.clientY},j=l2(L,T.getBoundingClientRect()),F=c2(L,j),$=u2(b.getBoundingClientRect()),H=h2([...F,...$]);u(H),w(!0)},[w]);return S.useEffect(()=>()=>v(),[v]),S.useEffect(()=>{if(f&&y){const R=T=>C(T,y),b=T=>C(T,f);return f.addEventListener("pointerleave",R),y.addEventListener("pointerleave",b),()=>{f.removeEventListener("pointerleave",R),y.removeEventListener("pointerleave",b)}}},[f,y,C,v]),S.useEffect(()=>{if(l){const R=b=>{const T=b.target,L={x:b.clientX,y:b.clientY},j=(f==null?void 0:f.contains(T))||(y==null?void 0:y.contains(T)),F=!d2(L,l);j?v():F&&(v(),p())};return document.addEventListener("pointermove",R),()=>document.removeEventListener("pointermove",R)}},[f,y,l,p,v]),g.jsx(q1,{...n,ref:a})}),[i2,o2]=Jh(W1,{isInside:!1}),q1=S.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:l,...u}=n,f=Zh(pl,t),p=ay(t),{onClose:y}=f;return S.useEffect(()=>(document.addEventListener(Z0,y),()=>document.removeEventListener(Z0,y)),[y]),S.useEffect(()=>{if(f.trigger){const w=v=>{const C=v.target;C!=null&&C.contains(f.trigger)&&y()};return window.addEventListener("scroll",w,{capture:!0}),()=>window.removeEventListener("scroll",w,{capture:!0})}},[f.trigger,y]),g.jsx(Zg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:w=>w.preventDefault(),onDismiss:y,children:g.jsxs(Gk,{"data-state":f.stateAttribute,...p,...u,ref:e,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[g.jsx(kE,{children:r}),g.jsx(i2,{scope:t,isInside:!0,children:g.jsx(GA,{id:f.contentId,role:"tooltip",children:i||r})})]})})});H1.displayName=pl;var G1="TooltipArrow",a2=S.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=ay(t);return o2(G1,t).isInside?null:g.jsx(Kk,{...i,...r,ref:e})});a2.displayName=G1;function l2(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),a=Math.abs(e.left-n.x);switch(Math.min(t,r,i,a)){case a:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function c2(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function u2(n){const{top:e,right:t,bottom:r,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function d2(n,e){const{x:t,y:r}=n;let i=!1;for(let a=0,l=e.length-1;a<e.length;l=a++){const u=e[a].x,f=e[a].y,p=e[l].x,y=e[l].y;f>r!=y>r&&t<(p-u)*(r-f)/(y-f)+u&&(i=!i)}return i}function h2(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),f2(e)}function f2(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const i=n[r];for(;e.length>=2;){const a=e[e.length-1],l=e[e.length-2];if((a.x-l.x)*(i.y-l.y)>=(a.y-l.y)*(i.x-l.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;t.length>=2;){const a=t[t.length-1],l=t[t.length-2];if((a.x-l.x)*(i.y-l.y)>=(a.y-l.y)*(i.x-l.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var p2=B1,K1=H1;const m2=p2,g2=S.forwardRef(({className:n,sideOffset:e=4,...t},r)=>g.jsx(K1,{ref:r,sideOffset:e,className:jt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));g2.displayName=K1.displayName;var ef=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},tf=typeof window>"u"||"Deno"in globalThis;function jr(){}function y2(n,e){return typeof n=="function"?n(e):n}function v2(n){return typeof n=="number"&&n>=0&&n!==1/0}function w2(n,e){return Math.max(n+(e||0)-Date.now(),0)}function e_(n,e){return typeof n=="function"?n(e):n}function _2(n,e){return typeof n=="function"?n(e):n}function t_(n,e){const{type:t="all",exact:r,fetchStatus:i,predicate:a,queryKey:l,stale:u}=n;if(l){if(r){if(e.queryHash!==ly(l,e.options))return!1}else if(!qc(e.queryKey,l))return!1}if(t!=="all"){const f=e.isActive();if(t==="active"&&!f||t==="inactive"&&f)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||i&&i!==e.state.fetchStatus||a&&!a(e))}function n_(n,e){const{exact:t,status:r,predicate:i,mutationKey:a}=n;if(a){if(!e.options.mutationKey)return!1;if(t){if(Hc(e.options.mutationKey)!==Hc(a))return!1}else if(!qc(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function ly(n,e){return((e==null?void 0:e.queryKeyHashFn)||Hc)(n)}function Hc(n){return JSON.stringify(n,(e,t)=>ag(t)?Object.keys(t).sort().reduce((r,i)=>(r[i]=t[i],r),{}):t)}function qc(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!qc(n[t],e[t])):!1}function Q1(n,e){if(n===e)return n;const t=r_(n)&&r_(e);if(t||ag(n)&&ag(e)){const r=t?n:Object.keys(n),i=r.length,a=t?e:Object.keys(e),l=a.length,u=t?[]:{};let f=0;for(let p=0;p<l;p++){const y=t?p:a[p];(!t&&r.includes(y)||t)&&n[y]===void 0&&e[y]===void 0?(u[y]=void 0,f++):(u[y]=Q1(n[y],e[y]),u[y]===n[y]&&n[y]!==void 0&&f++)}return i===l&&f===i?n:u}return e}function r_(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function ag(n){if(!s_(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!s_(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function s_(n){return Object.prototype.toString.call(n)==="[object Object]"}function x2(n){return new Promise(e=>{setTimeout(e,n)})}function E2(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?Q1(n,e):e}function b2(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function T2(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var Y1=Symbol();function X1(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===Y1?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var Oo,Mi,rl,_E,S2=(_E=class extends ef{constructor(){super();ut(this,Oo);ut(this,Mi);ut(this,rl);Be(this,rl,e=>{if(!tf&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){ne(this,Mi)||this.setEventListener(ne(this,rl))}onUnsubscribe(){var e;this.hasListeners()||((e=ne(this,Mi))==null||e.call(this),Be(this,Mi,void 0))}setEventListener(e){var t;Be(this,rl,e),(t=ne(this,Mi))==null||t.call(this),Be(this,Mi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){ne(this,Oo)!==e&&(Be(this,Oo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof ne(this,Oo)=="boolean"?ne(this,Oo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Oo=new WeakMap,Mi=new WeakMap,rl=new WeakMap,_E),J1=new S2,sl,Li,il,xE,C2=(xE=class extends ef{constructor(){super();ut(this,sl,!0);ut(this,Li);ut(this,il);Be(this,il,e=>{if(!tf&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){ne(this,Li)||this.setEventListener(ne(this,il))}onUnsubscribe(){var e;this.hasListeners()||((e=ne(this,Li))==null||e.call(this),Be(this,Li,void 0))}setEventListener(e){var t;Be(this,il,e),(t=ne(this,Li))==null||t.call(this),Be(this,Li,e(this.setOnline.bind(this)))}setOnline(e){ne(this,sl)!==e&&(Be(this,sl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return ne(this,sl)}},sl=new WeakMap,Li=new WeakMap,il=new WeakMap,xE),_h=new C2;function I2(n){return Math.min(1e3*2**n,3e4)}function Z1(n){return(n??"online")==="online"?_h.isOnline():!0}var eb=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function ym(n){return n instanceof eb}function tb(n){let e=!1,t=0,r=!1,i,a,l;const u=new Promise((L,j)=>{a=L,l=j}),f=L=>{var j;r||(R(new eb(L)),(j=n.abort)==null||j.call(n))},p=()=>{e=!0},y=()=>{e=!1},w=()=>J1.isFocused()&&(n.networkMode==="always"||_h.isOnline())&&n.canRun(),v=()=>Z1(n.networkMode)&&n.canRun(),C=L=>{var j;r||(r=!0,(j=n.onSuccess)==null||j.call(n,L),i==null||i(),a(L))},R=L=>{var j;r||(r=!0,(j=n.onError)==null||j.call(n,L),i==null||i(),l(L))},b=()=>new Promise(L=>{var j;i=F=>{(r||w())&&L(F)},(j=n.onPause)==null||j.call(n)}).then(()=>{var L;i=void 0,r||(L=n.onContinue)==null||L.call(n)}),T=()=>{if(r)return;let L;const j=t===0?n.initialPromise:void 0;try{L=j??n.fn()}catch(F){L=Promise.reject(F)}Promise.resolve(L).then(C).catch(F=>{var A;if(r)return;const $=n.retry??(tf?0:3),H=n.retryDelay??I2,q=typeof H=="function"?H(t,F):H,P=$===!0||typeof $=="number"&&t<$||typeof $=="function"&&$(t,F);if(e||!P){R(F);return}t++,(A=n.onFail)==null||A.call(n,t,F),x2(q).then(()=>w()?void 0:b()).then(()=>{e?R(F):T()})})};return{promise:u,cancel:f,continue:()=>(i==null||i(),u),cancelRetry:p,continueRetry:y,canStart:v,start:()=>(v()?T():b().then(T),u)}}function A2(){let n=[],e=0,t=u=>{u()},r=u=>{u()},i=u=>setTimeout(u,0);const a=u=>{e?n.push(u):i(()=>{t(u)})},l=()=>{const u=n;n=[],u.length&&i(()=>{r(()=>{u.forEach(f=>{t(f)})})})};return{batch:u=>{let f;e++;try{f=u()}finally{e--,e||l()}return f},batchCalls:u=>(...f)=>{a(()=>{u(...f)})},schedule:a,setNotifyFunction:u=>{t=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{i=u}}}var Nn=A2(),Mo,EE,nb=(EE=class{constructor(){ut(this,Mo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),v2(this.gcTime)&&Be(this,Mo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(tf?1/0:5*60*1e3))}clearGcTimeout(){ne(this,Mo)&&(clearTimeout(ne(this,Mo)),Be(this,Mo,void 0))}},Mo=new WeakMap,EE),ol,al,yr,En,ru,Lo,Vr,Vs,bE,R2=(bE=class extends nb{constructor(t){super();ut(this,Vr);ut(this,ol);ut(this,al);ut(this,yr);ut(this,En);ut(this,ru);ut(this,Lo);Be(this,Lo,!1),Be(this,ru,t.defaultOptions),this.setOptions(t.options),this.observers=[],Be(this,yr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Be(this,ol,k2(this.options)),this.state=t.state??ne(this,ol),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ne(this,En))==null?void 0:t.promise}setOptions(t){this.options={...ne(this,ru),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ne(this,yr).remove(this)}setData(t,r){const i=E2(this.state.data,t,this.options);return _n(this,Vr,Vs).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(t,r){_n(this,Vr,Vs).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var i,a;const r=(i=ne(this,En))==null?void 0:i.promise;return(a=ne(this,En))==null||a.cancel(t),r?r.then(jr).catch(jr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ne(this,ol))}isActive(){return this.observers.some(t=>_2(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!w2(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(i=>i.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=ne(this,En))==null||r.continue()}onOnline(){var r;const t=this.observers.find(i=>i.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=ne(this,En))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ne(this,yr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(ne(this,En)&&(ne(this,Lo)?ne(this,En).cancel({revert:!0}):ne(this,En).cancelRetry()),this.scheduleGc()),ne(this,yr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||_n(this,Vr,Vs).call(this,{type:"invalidate"})}fetch(t,r){var p,y,w;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ne(this,En))return ne(this,En).continueRetry(),ne(this,En).promise}if(t&&this.setOptions(t),!this.options.queryFn){const v=this.observers.find(C=>C.options.queryFn);v&&this.setOptions(v.options)}const i=new AbortController,a=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(Be(this,Lo,!0),i.signal)})},l=()=>{const v=X1(this.options,r),C={queryKey:this.queryKey,meta:this.meta};return a(C),Be(this,Lo,!1),this.options.persister?this.options.persister(v,C,this):v(C)},u={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:l};a(u),(p=this.options.behavior)==null||p.onFetch(u,this),Be(this,al,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((y=u.fetchOptions)==null?void 0:y.meta))&&_n(this,Vr,Vs).call(this,{type:"fetch",meta:(w=u.fetchOptions)==null?void 0:w.meta});const f=v=>{var C,R,b,T;ym(v)&&v.silent||_n(this,Vr,Vs).call(this,{type:"error",error:v}),ym(v)||((R=(C=ne(this,yr).config).onError)==null||R.call(C,v,this),(T=(b=ne(this,yr).config).onSettled)==null||T.call(b,this.state.data,v,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return Be(this,En,tb({initialPromise:r==null?void 0:r.initialPromise,fn:u.fetchFn,abort:i.abort.bind(i),onSuccess:v=>{var C,R,b,T;if(v===void 0){f(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(v)}catch(L){f(L);return}(R=(C=ne(this,yr).config).onSuccess)==null||R.call(C,v,this),(T=(b=ne(this,yr).config).onSettled)==null||T.call(b,v,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:f,onFail:(v,C)=>{_n(this,Vr,Vs).call(this,{type:"failed",failureCount:v,error:C})},onPause:()=>{_n(this,Vr,Vs).call(this,{type:"pause"})},onContinue:()=>{_n(this,Vr,Vs).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),ne(this,En).start()}},ol=new WeakMap,al=new WeakMap,yr=new WeakMap,En=new WeakMap,ru=new WeakMap,Lo=new WeakMap,Vr=new WeakSet,Vs=function(t){const r=i=>{switch(t.type){case"failed":return{...i,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...P2(i.data,this.options),fetchMeta:t.meta??null};case"success":return{...i,data:t.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return ym(a)&&a.revert&&ne(this,al)?{...ne(this,al),fetchStatus:"idle"}:{...i,error:a,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...t.state}}};this.state=r(this.state),Nn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),ne(this,yr).notify({query:this,type:"updated",action:t})})},bE);function P2(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Z1(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function k2(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var os,TE,N2=(TE=class extends ef{constructor(e={}){super();ut(this,os);this.config=e,Be(this,os,new Map)}build(e,t,r){const i=t.queryKey,a=t.queryHash??ly(i,t);let l=this.get(a);return l||(l=new R2({cache:this,queryKey:i,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(l)),l}add(e){ne(this,os).has(e.queryHash)||(ne(this,os).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=ne(this,os).get(e.queryHash);t&&(e.destroy(),t===e&&ne(this,os).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Nn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ne(this,os).get(e)}getAll(){return[...ne(this,os).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>t_(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>t_(e,r)):t}notify(e){Nn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Nn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Nn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},os=new WeakMap,TE),as,kn,jo,ls,Ai,SE,D2=(SE=class extends nb{constructor(t){super();ut(this,ls);ut(this,as);ut(this,kn);ut(this,jo);this.mutationId=t.mutationId,Be(this,kn,t.mutationCache),Be(this,as,[]),this.state=t.state||O2(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ne(this,as).includes(t)||(ne(this,as).push(t),this.clearGcTimeout(),ne(this,kn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Be(this,as,ne(this,as).filter(r=>r!==t)),this.scheduleGc(),ne(this,kn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ne(this,as).length||(this.state.status==="pending"?this.scheduleGc():ne(this,kn).remove(this))}continue(){var t;return((t=ne(this,jo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,l,u,f,p,y,w,v,C,R,b,T,L,j,F,$,H,q,P,A;Be(this,jo,tb({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(N,O)=>{_n(this,ls,Ai).call(this,{type:"failed",failureCount:N,error:O})},onPause:()=>{_n(this,ls,Ai).call(this,{type:"pause"})},onContinue:()=>{_n(this,ls,Ai).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ne(this,kn).canRun(this)}));const r=this.state.status==="pending",i=!ne(this,jo).canStart();try{if(!r){_n(this,ls,Ai).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(a=ne(this,kn).config).onMutate)==null?void 0:l.call(a,t,this));const O=await((f=(u=this.options).onMutate)==null?void 0:f.call(u,t));O!==this.state.context&&_n(this,ls,Ai).call(this,{type:"pending",context:O,variables:t,isPaused:i})}const N=await ne(this,jo).start();return await((y=(p=ne(this,kn).config).onSuccess)==null?void 0:y.call(p,N,t,this.state.context,this)),await((v=(w=this.options).onSuccess)==null?void 0:v.call(w,N,t,this.state.context)),await((R=(C=ne(this,kn).config).onSettled)==null?void 0:R.call(C,N,null,this.state.variables,this.state.context,this)),await((T=(b=this.options).onSettled)==null?void 0:T.call(b,N,null,t,this.state.context)),_n(this,ls,Ai).call(this,{type:"success",data:N}),N}catch(N){try{throw await((j=(L=ne(this,kn).config).onError)==null?void 0:j.call(L,N,t,this.state.context,this)),await(($=(F=this.options).onError)==null?void 0:$.call(F,N,t,this.state.context)),await((q=(H=ne(this,kn).config).onSettled)==null?void 0:q.call(H,void 0,N,this.state.variables,this.state.context,this)),await((A=(P=this.options).onSettled)==null?void 0:A.call(P,void 0,N,t,this.state.context)),N}finally{_n(this,ls,Ai).call(this,{type:"error",error:N})}}finally{ne(this,kn).runNext(this)}}},as=new WeakMap,kn=new WeakMap,jo=new WeakMap,ls=new WeakSet,Ai=function(t){const r=i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Nn.batch(()=>{ne(this,as).forEach(i=>{i.onMutationUpdate(t)}),ne(this,kn).notify({mutation:this,type:"updated",action:t})})},SE);function O2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var er,su,CE,M2=(CE=class extends ef{constructor(e={}){super();ut(this,er);ut(this,su);this.config=e,Be(this,er,new Map),Be(this,su,Date.now())}build(e,t,r){const i=new D2({mutationCache:this,mutationId:++Od(this,su)._,options:e.defaultMutationOptions(t),state:r});return this.add(i),i}add(e){const t=zd(e),r=ne(this,er).get(t)??[];r.push(e),ne(this,er).set(t,r),this.notify({type:"added",mutation:e})}remove(e){var r;const t=zd(e);if(ne(this,er).has(t)){const i=(r=ne(this,er).get(t))==null?void 0:r.filter(a=>a!==e);i&&(i.length===0?ne(this,er).delete(t):ne(this,er).set(t,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const t=(r=ne(this,er).get(zd(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!t||t===e}runNext(e){var r;const t=(r=ne(this,er).get(zd(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(t==null?void 0:t.continue())??Promise.resolve()}clear(){Nn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...ne(this,er).values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(r=>n_(t,r))}findAll(e={}){return this.getAll().filter(t=>n_(e,t))}notify(e){Nn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Nn.batch(()=>Promise.all(e.map(t=>t.continue().catch(jr))))}},er=new WeakMap,su=new WeakMap,CE);function zd(n){var e;return((e=n.options.scope)==null?void 0:e.id)??String(n.mutationId)}function i_(n){return{onFetch:(e,t)=>{var y,w,v,C,R;const r=e.options,i=(v=(w=(y=e.fetchOptions)==null?void 0:y.meta)==null?void 0:w.fetchMore)==null?void 0:v.direction,a=((C=e.state.data)==null?void 0:C.pages)||[],l=((R=e.state.data)==null?void 0:R.pageParams)||[];let u={pages:[],pageParams:[]},f=0;const p=async()=>{let b=!1;const T=F=>{Object.defineProperty(F,"signal",{enumerable:!0,get:()=>(e.signal.aborted?b=!0:e.signal.addEventListener("abort",()=>{b=!0}),e.signal)})},L=X1(e.options,e.fetchOptions),j=async(F,$,H)=>{if(b)return Promise.reject();if($==null&&F.pages.length)return Promise.resolve(F);const q={queryKey:e.queryKey,pageParam:$,direction:H?"backward":"forward",meta:e.options.meta};T(q);const P=await L(q),{maxPages:A}=e.options,N=H?T2:b2;return{pages:N(F.pages,P,A),pageParams:N(F.pageParams,$,A)}};if(i&&a.length){const F=i==="backward",$=F?L2:o_,H={pages:a,pageParams:l},q=$(r,H);u=await j(H,q,F)}else{const F=n??a.length;do{const $=f===0?l[0]??r.initialPageParam:o_(r,u);if(f>0&&$==null)break;u=await j(u,$),f++}while(f<F)}return u};e.options.persister?e.fetchFn=()=>{var b,T;return(T=(b=e.options).persister)==null?void 0:T.call(b,p,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=p}}}function o_(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function L2(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}var Lt,ji,Vi,ll,cl,Fi,ul,dl,IE,j2=(IE=class{constructor(n={}){ut(this,Lt);ut(this,ji);ut(this,Vi);ut(this,ll);ut(this,cl);ut(this,Fi);ut(this,ul);ut(this,dl);Be(this,Lt,n.queryCache||new N2),Be(this,ji,n.mutationCache||new M2),Be(this,Vi,n.defaultOptions||{}),Be(this,ll,new Map),Be(this,cl,new Map),Be(this,Fi,0)}mount(){Od(this,Fi)._++,ne(this,Fi)===1&&(Be(this,ul,J1.subscribe(async n=>{n&&(await this.resumePausedMutations(),ne(this,Lt).onFocus())})),Be(this,dl,_h.subscribe(async n=>{n&&(await this.resumePausedMutations(),ne(this,Lt).onOnline())})))}unmount(){var n,e;Od(this,Fi)._--,ne(this,Fi)===0&&((n=ne(this,ul))==null||n.call(this),Be(this,ul,void 0),(e=ne(this,dl))==null||e.call(this),Be(this,dl,void 0))}isFetching(n){return ne(this,Lt).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return ne(this,ji).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=ne(this,Lt).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.getQueryData(n.queryKey);if(e===void 0)return this.fetchQuery(n);{const t=this.defaultQueryOptions(n),r=ne(this,Lt).build(this,t);return n.revalidateIfStale&&r.isStaleByTime(e_(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(e)}}getQueriesData(n){return ne(this,Lt).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),i=ne(this,Lt).get(r.queryHash),a=i==null?void 0:i.state.data,l=y2(e,a);if(l!==void 0)return ne(this,Lt).build(this,r).setData(l,{...t,manual:!0})}setQueriesData(n,e,t){return Nn.batch(()=>ne(this,Lt).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=ne(this,Lt).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=ne(this,Lt);Nn.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=ne(this,Lt),r={type:"active",...n};return Nn.batch(()=>(t.findAll(n).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(n={},e={}){const t={revert:!0,...e},r=Nn.batch(()=>ne(this,Lt).findAll(n).map(i=>i.cancel(t)));return Promise.all(r).then(jr).catch(jr)}invalidateQueries(n={},e={}){return Nn.batch(()=>{if(ne(this,Lt).findAll(n).forEach(r=>{r.invalidate()}),n.refetchType==="none")return Promise.resolve();const t={...n,type:n.refetchType??n.type??"active"};return this.refetchQueries(t,e)})}refetchQueries(n={},e){const t={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Nn.batch(()=>ne(this,Lt).findAll(n).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,t);return t.throwOnError||(a=a.catch(jr)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(jr)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=ne(this,Lt).build(this,e);return t.isStaleByTime(e_(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(jr).catch(jr)}fetchInfiniteQuery(n){return n.behavior=i_(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(jr).catch(jr)}ensureInfiniteQueryData(n){return n.behavior=i_(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return _h.isOnline()?ne(this,ji).resumePausedMutations():Promise.resolve()}getQueryCache(){return ne(this,Lt)}getMutationCache(){return ne(this,ji)}getDefaultOptions(){return ne(this,Vi)}setDefaultOptions(n){Be(this,Vi,n)}setQueryDefaults(n,e){ne(this,ll).set(Hc(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...ne(this,ll).values()];let t={};return e.forEach(r=>{qc(n,r.queryKey)&&(t={...t,...r.defaultOptions})}),t}setMutationDefaults(n,e){ne(this,cl).set(Hc(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...ne(this,cl).values()];let t={};return e.forEach(r=>{qc(n,r.mutationKey)&&(t={...t,...r.defaultOptions})}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...ne(this,Vi).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=ly(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Y1&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...ne(this,Vi).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){ne(this,Lt).clear(),ne(this,ji).clear()}},Lt=new WeakMap,ji=new WeakMap,Vi=new WeakMap,ll=new WeakMap,cl=new WeakMap,Fi=new WeakMap,ul=new WeakMap,dl=new WeakMap,IE),V2=S.createContext(void 0),F2=({client:n,children:e})=>(S.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),g.jsx(V2.Provider,{value:n,children:e}));/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gc(){return Gc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Gc.apply(this,arguments)}var Ui;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ui||(Ui={}));const a_="popstate";function U2(n){n===void 0&&(n={});function e(r,i){let{pathname:a,search:l,hash:u}=r.location;return lg("",{pathname:a,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:sb(i)}return $2(e,t,null,n)}function Jt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function rb(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function z2(){return Math.random().toString(36).substr(2,8)}function l_(n,e){return{usr:n.state,key:n.key,idx:e}}function lg(n,e,t,r){return t===void 0&&(t=null),Gc({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Al(e):e,{state:t,key:e&&e.key||r||z2()})}function sb(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Al(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function $2(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,u=Ui.Pop,f=null,p=y();p==null&&(p=0,l.replaceState(Gc({},l.state,{idx:p}),""));function y(){return(l.state||{idx:null}).idx}function w(){u=Ui.Pop;let T=y(),L=T==null?null:T-p;p=T,f&&f({action:u,location:b.location,delta:L})}function v(T,L){u=Ui.Push;let j=lg(b.location,T,L);p=y()+1;let F=l_(j,p),$=b.createHref(j);try{l.pushState(F,"",$)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;i.location.assign($)}a&&f&&f({action:u,location:b.location,delta:1})}function C(T,L){u=Ui.Replace;let j=lg(b.location,T,L);p=y();let F=l_(j,p),$=b.createHref(j);l.replaceState(F,"",$),a&&f&&f({action:u,location:b.location,delta:0})}function R(T){let L=i.location.origin!=="null"?i.location.origin:i.location.href,j=typeof T=="string"?T:sb(T);return j=j.replace(/ $/,"%20"),Jt(L,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,L)}let b={get action(){return u},get location(){return n(i,l)},listen(T){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(a_,w),f=T,()=>{i.removeEventListener(a_,w),f=null}},createHref(T){return e(i,T)},createURL:R,encodeLocation(T){let L=R(T);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:v,replace:C,go(T){return l.go(T)}};return b}var c_;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(c_||(c_={}));function B2(n,e,t){return t===void 0&&(t="/"),W2(n,e,t)}function W2(n,e,t,r){let i=typeof e=="string"?Al(e):e,a=ab(i.pathname||"/",t);if(a==null)return null;let l=ib(n);H2(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let p=rN(a);u=eN(l[f],p)}return u}function ib(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(a,l,u)=>{let f={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};f.relativePath.startsWith("/")&&(Jt(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let p=Vo([r,f.relativePath]),y=t.concat(f);a.children&&a.children.length>0&&(Jt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),ib(a.children,e,y,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:J2(p,a.index),routesMeta:y})};return n.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,l);else for(let f of ob(a.path))i(a,l,f)}),e}function ob(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=ob(r.join("/")),u=[];return u.push(...l.map(f=>f===""?a:[a,f].join("/"))),i&&u.push(...l),u.map(f=>n.startsWith("/")&&f===""?"/":f)}function H2(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Z2(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const q2=/^:[\w-]+$/,G2=3,K2=2,Q2=1,Y2=10,X2=-2,u_=n=>n==="*";function J2(n,e){let t=n.split("/"),r=t.length;return t.some(u_)&&(r+=X2),e&&(r+=K2),t.filter(i=>!u_(i)).reduce((i,a)=>i+(q2.test(a)?G2:a===""?Q2:Y2),r)}function Z2(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function eN(n,e,t){let{routesMeta:r}=n,i={},a="/",l=[];for(let u=0;u<r.length;++u){let f=r[u],p=u===r.length-1,y=a==="/"?e:e.slice(a.length)||"/",w=tN({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},y),v=f.route;if(!w)return null;Object.assign(i,w.params),l.push({params:i,pathname:Vo([a,w.pathname]),pathnameBase:cN(Vo([a,w.pathnameBase])),route:v}),w.pathnameBase!=="/"&&(a=Vo([a,w.pathnameBase]))}return l}function tN(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=nN(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((p,y,w)=>{let{paramName:v,isOptional:C}=y;if(v==="*"){let b=u[w]||"";l=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const R=u[w];return C&&!R?p[v]=void 0:p[v]=(R||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:n}}function nN(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),rb(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function rN(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rb(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function ab(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function sN(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Al(n):n;return{pathname:t?t.startsWith("/")?t:iN(t,e):e,search:uN(r),hash:dN(i)}}function iN(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function vm(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function oN(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function aN(n,e){let t=oN(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function lN(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=Al(n):(i=Gc({},n),Jt(!i.pathname||!i.pathname.includes("?"),vm("?","pathname","search",i)),Jt(!i.pathname||!i.pathname.includes("#"),vm("#","pathname","hash",i)),Jt(!i.search||!i.search.includes("#"),vm("#","search","hash",i)));let a=n===""||i.pathname==="",l=a?"/":i.pathname,u;if(l==null)u=t;else{let w=e.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),w-=1;i.pathname=v.join("/")}u=w>=0?e[w]:"/"}let f=sN(i,u),p=l&&l!=="/"&&l.endsWith("/"),y=(a||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||y)&&(f.pathname+="/"),f}const Vo=n=>n.join("/").replace(/\/\/+/g,"/"),cN=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),uN=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,dN=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function hN(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const lb=["post","put","patch","delete"];new Set(lb);const fN=["get",...lb];new Set(fN);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kc(){return Kc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Kc.apply(this,arguments)}const cy=S.createContext(null),pN=S.createContext(null),nf=S.createContext(null),rf=S.createContext(null),Rl=S.createContext({outlet:null,matches:[],isDataRoute:!1}),cb=S.createContext(null);function sf(){return S.useContext(rf)!=null}function uy(){return sf()||Jt(!1),S.useContext(rf).location}function ub(n){S.useContext(nf).static||S.useLayoutEffect(n)}function dy(){let{isDataRoute:n}=S.useContext(Rl);return n?IN():mN()}function mN(){sf()||Jt(!1);let n=S.useContext(cy),{basename:e,future:t,navigator:r}=S.useContext(nf),{matches:i}=S.useContext(Rl),{pathname:a}=uy(),l=JSON.stringify(aN(i,t.v7_relativeSplatPath)),u=S.useRef(!1);return ub(()=>{u.current=!0}),S.useCallback(function(p,y){if(y===void 0&&(y={}),!u.current)return;if(typeof p=="number"){r.go(p);return}let w=lN(p,JSON.parse(l),a,y.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Vo([e,w.pathname])),(y.replace?r.replace:r.push)(w,y.state,y)},[e,r,l,a,n])}function gN(n,e){return yN(n,e)}function yN(n,e,t,r){sf()||Jt(!1);let{navigator:i}=S.useContext(nf),{matches:a}=S.useContext(Rl),l=a[a.length-1],u=l?l.params:{};l&&l.pathname;let f=l?l.pathnameBase:"/";l&&l.route;let p=uy(),y;if(e){var w;let T=typeof e=="string"?Al(e):e;f==="/"||(w=T.pathname)!=null&&w.startsWith(f)||Jt(!1),y=T}else y=p;let v=y.pathname||"/",C=v;if(f!=="/"){let T=f.replace(/^\//,"").split("/");C="/"+v.replace(/^\//,"").split("/").slice(T.length).join("/")}let R=B2(n,{pathname:C}),b=EN(R&&R.map(T=>Object.assign({},T,{params:Object.assign({},u,T.params),pathname:Vo([f,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?f:Vo([f,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),a,t,r);return e&&b?S.createElement(rf.Provider,{value:{location:Kc({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Ui.Pop}},b):b}function vN(){let n=CN(),e=hN(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),t?S.createElement("pre",{style:i},t):null,null)}const wN=S.createElement(vN,null);class _N extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?S.createElement(Rl.Provider,{value:this.props.routeContext},S.createElement(cb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xN(n){let{routeContext:e,match:t,children:r}=n,i=S.useContext(cy);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement(Rl.Provider,{value:e},r)}function EN(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,u=(i=t)==null?void 0:i.errors;if(u!=null){let y=l.findIndex(w=>w.route.id&&(u==null?void 0:u[w.route.id])!==void 0);y>=0||Jt(!1),l=l.slice(0,Math.min(l.length,y+1))}let f=!1,p=-1;if(t&&r&&r.v7_partialHydration)for(let y=0;y<l.length;y++){let w=l[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(p=y),w.route.id){let{loaderData:v,errors:C}=t,R=w.route.loader&&v[w.route.id]===void 0&&(!C||C[w.route.id]===void 0);if(w.route.lazy||R){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((y,w,v)=>{let C,R=!1,b=null,T=null;t&&(C=u&&w.route.id?u[w.route.id]:void 0,b=w.route.errorElement||wN,f&&(p<0&&v===0?(AN("route-fallback"),R=!0,T=null):p===v&&(R=!0,T=w.route.hydrateFallbackElement||null)));let L=e.concat(l.slice(0,v+1)),j=()=>{let F;return C?F=b:R?F=T:w.route.Component?F=S.createElement(w.route.Component,null):w.route.element?F=w.route.element:F=y,S.createElement(xN,{match:w,routeContext:{outlet:y,matches:L,isDataRoute:t!=null},children:F})};return t&&(w.route.ErrorBoundary||w.route.errorElement||v===0)?S.createElement(_N,{location:t.location,revalidation:t.revalidation,component:b,error:C,children:j(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):j()},null)}var db=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(db||{}),hb=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(hb||{});function bN(n){let e=S.useContext(cy);return e||Jt(!1),e}function TN(n){let e=S.useContext(pN);return e||Jt(!1),e}function SN(n){let e=S.useContext(Rl);return e||Jt(!1),e}function fb(n){let e=SN(),t=e.matches[e.matches.length-1];return t.route.id||Jt(!1),t.route.id}function CN(){var n;let e=S.useContext(cb),t=TN(),r=fb();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function IN(){let{router:n}=bN(db.UseNavigateStable),e=fb(hb.UseNavigateStable),t=S.useRef(!1);return ub(()=>{t.current=!0}),S.useCallback(function(i,a){a===void 0&&(a={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,Kc({fromRouteId:e},a)))},[n,e])}const d_={};function AN(n,e,t){d_[n]||(d_[n]=!0)}function Sc(n){Jt(!1)}function RN(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Ui.Pop,navigator:a,static:l=!1,future:u}=n;sf()&&Jt(!1);let f=e.replace(/^\/*/,"/"),p=S.useMemo(()=>({basename:f,navigator:a,static:l,future:Kc({v7_relativeSplatPath:!1},u)}),[f,u,a,l]);typeof r=="string"&&(r=Al(r));let{pathname:y="/",search:w="",hash:v="",state:C=null,key:R="default"}=r,b=S.useMemo(()=>{let T=ab(y,f);return T==null?null:{location:{pathname:T,search:w,hash:v,state:C,key:R},navigationType:i}},[f,y,w,v,C,R,i]);return b==null?null:S.createElement(nf.Provider,{value:p},S.createElement(rf.Provider,{children:t,value:b}))}function PN(n){let{children:e,location:t}=n;return gN(cg(e),t)}new Promise(()=>{});function cg(n,e){e===void 0&&(e=[]);let t=[];return S.Children.forEach(n,(r,i)=>{if(!S.isValidElement(r))return;let a=[...e,i];if(r.type===S.Fragment){t.push.apply(t,cg(r.props.children,a));return}r.type!==Sc&&Jt(!1),!r.props.index||!r.props.children||Jt(!1);let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=cg(r.props.children,a)),t.push(l)}),t}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const kN="6";try{window.__reactRouterVersion=kN}catch{}const NN="startTransition",h_=AE[NN];function DN(n){let{basename:e,children:t,future:r,window:i}=n,a=S.useRef();a.current==null&&(a.current=U2({window:i,v5Compat:!0}));let l=a.current,[u,f]=S.useState({action:l.action,location:l.location}),{v7_startTransition:p}=r||{},y=S.useCallback(w=>{p&&h_?h_(()=>f(w)):f(w)},[f,p]);return S.useLayoutEffect(()=>l.listen(y),[l,y]),S.createElement(RN,{basename:e,children:t,location:u.location,navigationType:u.action,navigator:l,future:r})}var f_;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(f_||(f_={}));var p_;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(p_||(p_={}));const pb=S.createContext(void 0),mb=()=>{const n=S.useContext(pb);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n},ON=({children:n})=>{const[e,t]=S.useState({isLoggedIn:!1,isNewUser:!1,isDarkMode:!1});S.useEffect(()=>{const l=localStorage.getItem("companion-auth");if(l)try{const u=JSON.parse(l);t(u)}catch(u){console.error("Failed to parse auth state:",u)}},[]),S.useEffect(()=>{localStorage.setItem("companion-auth",JSON.stringify(e))},[e]);const r=(l=!1)=>{t(u=>({...u,isLoggedIn:!0,isNewUser:l}))},i=()=>{t(l=>({...l,isLoggedIn:!1,isNewUser:!1}))},a=()=>{t(l=>({...l,isDarkMode:!l.isDarkMode}))};return g.jsx(pb.Provider,{value:{auth:e,login:r,logout:i,toggleDarkMode:a},children:n})},gb=S.createContext(void 0),MN=({children:n})=>{const[e,t]=S.useState(()=>window.localStorage.getItem("darkMode")==="true");S.useEffect(()=>{window.localStorage.setItem("darkMode",e?"true":"false")},[e]);const r=()=>t(a=>!a),i=a=>t(a);return g.jsx(gb.Provider,{value:{isDarkMode:e,toggleDarkMode:r,setDarkMode:i},children:n})},hy=()=>{const n=S.useContext(gb);if(!n)throw new Error("useDarkMode must be used within DarkModeProvider");return n},LN=()=>{};var m_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},jN=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],l=n[t++],u=n[t++],f=((i&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},vb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],l=i+1<n.length,u=l?n[i+1]:0,f=i+2<n.length,p=f?n[i+2]:0,y=a>>2,w=(a&3)<<4|u>>4;let v=(u&15)<<2|p>>6,C=p&63;f||(C=64,l||(v=64)),r.push(t[y],t[w],t[v],t[C])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(yb(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):jN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const w=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||u==null||p==null||w==null)throw new VN;const v=a<<2|u>>4;if(r.push(v),p!==64){const C=u<<4&240|p>>2;if(r.push(C),w!==64){const R=p<<6&192|w;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class VN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FN=function(n){const e=yb(n);return vb.encodeByteArray(e,!0)},xh=function(n){return FN(n).replace(/\./g,"")},wb=function(n){try{return vb.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=()=>UN().__FIREBASE_DEFAULTS__,$N=()=>{if(typeof process>"u"||typeof m_>"u")return;const n=m_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},BN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&wb(n[1]);return e&&JSON.parse(e)},of=()=>{try{return LN()||zN()||$N()||BN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},_b=n=>{var e,t;return(t=(e=of())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},xb=n=>{const e=_b(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Eb=()=>{var n;return(n=of())==null?void 0:n.config},bb=n=>{var e;return(e=of())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fy(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[xh(JSON.stringify(t)),xh(JSON.stringify(l)),""].join(".")}const Oc={};function HN(){const n={prod:[],emulator:[]};for(const e of Object.keys(Oc))Oc[e]?n.emulator.push(e):n.prod.push(e);return n}function qN(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let g_=!1;function py(n,e){if(typeof window>"u"||typeof document>"u"||!Jo(window.location.host)||Oc[n]===e||Oc[n]||g_)return;Oc[n]=e;function t(v){return`__firebase__banner__${v}`}const r="__firebase__banner",a=HN().prod.length>0;function l(){const v=document.getElementById(r);v&&v.remove()}function u(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,C){v.setAttribute("width","24"),v.setAttribute("id",C),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function p(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{g_=!0,l()},v}function y(v,C){v.setAttribute("id",C),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function w(){const v=qN(r),C=t("text"),R=document.getElementById(C)||document.createElement("span"),b=t("learnmore"),T=document.getElementById(b)||document.createElement("a"),L=t("preprendIcon"),j=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const F=v.element;u(F),y(T,b);const $=p();f(j,L),F.append(j,R,T,$),document.body.appendChild(F)}a?(R.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())}function KN(){var e;const n=(e=of())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function XN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JN(){const n=Cn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function ZN(){return!KN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eD(){try{return typeof indexedDB=="object"}catch{return!1}}function tD(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD="FirebaseError";class ws extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=nD,Object.setPrototypeOf(this,ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ou.prototype.create)}}class ou{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?rD(a,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new ws(i,u,r)}}function rD(n,e){return n.replace(sD,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const sD=/\{\$([^}]+)}/g;function iD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function $o(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],l=e[i];if(y_(a)&&y_(l)){if(!$o(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function y_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Cc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Ic(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function oD(n,e){const t=new aD(n,e);return t.subscribe.bind(t)}class aD{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");lD(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=wm),i.error===void 0&&(i.error=wm),i.complete===void 0&&(i.complete=wm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lD(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function wm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(n){return n&&n._delegate?n._delegate:n}class Xi{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new WN;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dD(e))try{this.getOrInitializeService({instanceIdentifier:ko})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=ko){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ko){return this.instances.has(e)}getOptions(e=ko){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(i)}return i}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uD(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ko){return this.component?this.component.multipleInstances?e:ko:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uD(n){return n===ko?void 0:n}function dD(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new cD(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ge||(Ge={}));const fD={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},pD=Ge.INFO,mD={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},gD=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=mD[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class my{constructor(e){this.name=e,this._logLevel=pD,this._logHandler=gD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const yD=(n,e)=>e.some(t=>n instanceof t);let v_,w_;function vD(){return v_||(v_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wD(){return w_||(w_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Sb=new WeakMap,ug=new WeakMap,Cb=new WeakMap,_m=new WeakMap,gy=new WeakMap;function _D(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t($i(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&Sb.set(t,n)}).catch(()=>{}),gy.set(e,n),e}function xD(n){if(ug.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});ug.set(n,e)}let dg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ug.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Cb.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return $i(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function ED(n){dg=n(dg)}function bD(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(xm(this),e,...t);return Cb.set(r,e.sort?e.sort():[e]),$i(r)}:wD().includes(n)?function(...e){return n.apply(xm(this),e),$i(Sb.get(this))}:function(...e){return $i(n.apply(xm(this),e))}}function TD(n){return typeof n=="function"?bD(n):(n instanceof IDBTransaction&&xD(n),yD(n,vD())?new Proxy(n,dg):n)}function $i(n){if(n instanceof IDBRequest)return _D(n);if(_m.has(n))return _m.get(n);const e=TD(n);return e!==n&&(_m.set(n,e),gy.set(e,n)),e}const xm=n=>gy.get(n);function SD(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(n,e),u=$i(l);return r&&l.addEventListener("upgradeneeded",f=>{r($i(l.result),f.oldVersion,f.newVersion,$i(l.transaction),f)}),t&&l.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),u.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const CD=["get","getKey","getAll","getAllKeys","count"],ID=["put","add","delete","clear"],Em=new Map;function __(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Em.get(e))return Em.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=ID.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||CD.includes(t)))return;const a=async function(l,...u){const f=this.transaction(l,i?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(u.shift())),(await Promise.all([p[t](...u),i&&f.done]))[0]};return Em.set(e,a),a}ED(n=>({...n,get:(e,t,r)=>__(e,t)||n.get(e,t,r),has:(e,t)=>!!__(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(RD(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function RD(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hg="@firebase/app",x_="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=new my("@firebase/app"),PD="@firebase/app-compat",kD="@firebase/analytics-compat",ND="@firebase/analytics",DD="@firebase/app-check-compat",OD="@firebase/app-check",MD="@firebase/auth",LD="@firebase/auth-compat",jD="@firebase/database",VD="@firebase/data-connect",FD="@firebase/database-compat",UD="@firebase/functions",zD="@firebase/functions-compat",$D="@firebase/installations",BD="@firebase/installations-compat",WD="@firebase/messaging",HD="@firebase/messaging-compat",qD="@firebase/performance",GD="@firebase/performance-compat",KD="@firebase/remote-config",QD="@firebase/remote-config-compat",YD="@firebase/storage",XD="@firebase/storage-compat",JD="@firebase/firestore",ZD="@firebase/ai",eO="@firebase/firestore-compat",tO="firebase",nO="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="[DEFAULT]",rO={[hg]:"fire-core",[PD]:"fire-core-compat",[ND]:"fire-analytics",[kD]:"fire-analytics-compat",[OD]:"fire-app-check",[DD]:"fire-app-check-compat",[MD]:"fire-auth",[LD]:"fire-auth-compat",[jD]:"fire-rtdb",[VD]:"fire-data-connect",[FD]:"fire-rtdb-compat",[UD]:"fire-fn",[zD]:"fire-fn-compat",[$D]:"fire-iid",[BD]:"fire-iid-compat",[WD]:"fire-fcm",[HD]:"fire-fcm-compat",[qD]:"fire-perf",[GD]:"fire-perf-compat",[KD]:"fire-rc",[QD]:"fire-rc-compat",[YD]:"fire-gcs",[XD]:"fire-gcs-compat",[JD]:"fire-fst",[eO]:"fire-fst-compat",[ZD]:"fire-vertex","fire-js":"fire-js",[tO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=new Map,sO=new Map,pg=new Map;function E_(n,e){try{n.container.addComponent(e)}catch(t){Qs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Bo(n){const e=n.name;if(pg.has(e))return Qs.debug(`There were multiple attempts to register component ${e}.`),!1;pg.set(e,n);for(const t of Eh.values())E_(t,n);for(const t of sO.values())E_(t,n);return!0}function af(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Dn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bi=new ou("app","Firebase",iO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo=nO;function Ib(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:fg,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Bi.create("bad-app-name",{appName:String(i)});if(t||(t=Eb()),!t)throw Bi.create("no-options");const a=Eh.get(i);if(a){if($o(t,a.options)&&$o(r,a.config))return a;throw Bi.create("duplicate-app",{appName:i})}const l=new hD(i);for(const f of pg.values())l.addComponent(f);const u=new oO(t,r,l);return Eh.set(i,u),u}function yy(n=fg){const e=Eh.get(n);if(!e&&n===fg&&Eb())return Ib();if(!e)throw Bi.create("no-app",{appName:n});return e}function cs(n,e,t){let r=rO[n]??n;t&&(r+=`-${t}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qs.warn(l.join(" "));return}Bo(new Xi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO="firebase-heartbeat-database",lO=1,Qc="firebase-heartbeat-store";let bm=null;function Ab(){return bm||(bm=SD(aO,lO,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Qc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Bi.create("idb-open",{originalErrorMessage:n.message})})),bm}async function cO(n){try{const t=(await Ab()).transaction(Qc),r=await t.objectStore(Qc).get(Rb(n));return await t.done,r}catch(e){if(e instanceof ws)Qs.warn(e.message);else{const t=Bi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qs.warn(t.message)}}}async function b_(n,e){try{const r=(await Ab()).transaction(Qc,"readwrite");await r.objectStore(Qc).put(e,Rb(n)),await r.done}catch(t){if(t instanceof ws)Qs.warn(t.message);else{const r=Bi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Qs.warn(r.message)}}}function Rb(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=1024,dO=30;class hO{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new pO(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=T_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>dO){const l=mO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Qs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=T_(),{heartbeatsToSend:r,unsentEntries:i}=fO(this._heartbeatsCache.heartbeats),a=xh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Qs.warn(t),""}}}function T_(){return new Date().toISOString().substring(0,10)}function fO(n,e=uO){const t=[];let r=n.slice();for(const i of n){const a=t.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),S_(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),S_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class pO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eD()?tD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await cO(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return b_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return b_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function S_(n){return xh(JSON.stringify({version:2,heartbeats:n})).length}function mO(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(n){Bo(new Xi("platform-logger",e=>new AD(e),"PRIVATE")),Bo(new Xi("heartbeat",e=>new hO(e),"PRIVATE")),cs(hg,x_,n),cs(hg,x_,"esm2020"),cs("fire-js","")}gO("");var yO="firebase",vO="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cs(yO,vO,"app");function Pb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wO=Pb,kb=new ou("auth","Firebase",Pb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new my("@firebase/auth");function _O(n,...e){bh.logLevel<=Ge.WARN&&bh.warn(`Auth (${Zo}): ${n}`,...e)}function sh(n,...e){bh.logLevel<=Ge.ERROR&&bh.error(`Auth (${Zo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(n,...e){throw wy(n,...e)}function $r(n,...e){return wy(n,...e)}function vy(n,e,t){const r={...wO(),[e]:t};return new ou("auth","Firebase",r).create(e,{appName:n.name})}function us(n){return vy(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xO(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&wr(n,"argument-error"),vy(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wy(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return kb.create(n,...e)}function Ne(n,e,...t){if(!n)throw wy(e,...t)}function Bs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw sh(e),new Error(e)}function Ys(n,e){n||Bs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function EO(){return C_()==="http:"||C_()==="https:"}function C_(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EO()||YN()||"connection"in navigator)?navigator.onLine:!0}function TO(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ys(t>e,"Short delay should be less than long delay!"),this.isMobile=GN()||XN()}get(){return bO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(n,e){Ys(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],IO=new lu(3e4,6e4);function Zs(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Gr(n,e,t,r,i={}){return Db(n,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const u=au({key:n.config.apiKey,...l}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:f,...a};return QN()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Jo(n.emulatorConfig.host)&&(p.credentials="include"),Nb.fetch()(await Ob(n,n.config.apiHost,t,u),p)})}async function Db(n,e,t){n._canInitEmulator=!1;const r={...SO,...e};try{const i=new RO(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw $d(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[f,p]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw $d(n,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw $d(n,"email-already-in-use",l);if(f==="USER_DISABLED")throw $d(n,"user-disabled",l);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw vy(n,y,p);wr(n,y)}}catch(i){if(i instanceof ws)throw i;wr(n,"network-request-failed",{message:String(i)})}}async function cu(n,e,t,r,i={}){const a=await Gr(n,e,t,r,i);return"mfaPendingCredential"in a&&wr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function Ob(n,e,t,r){const i=`${e}${t}?${r}`,a=n,l=a.config.emulator?_y(n.config,i):`${n.config.apiScheme}://${i}`;return CO.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function AO(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class RO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r($r(this.auth,"network-request-failed")),IO.get())})}}function $d(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=$r(n,e,r);return i.customData._tokenResponse=t,i}function I_(n){return n!==void 0&&n.enterprise!==void 0}class PO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return AO(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kO(n,e){return Gr(n,"GET","/v2/recaptchaConfig",Zs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NO(n,e){return Gr(n,"POST","/v1/accounts:delete",e)}async function Th(n,e){return Gr(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function DO(n,e=!1){const t=mn(n),r=await t.getIdToken(e),i=xy(r);Ne(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Mc(Tm(i.auth_time)),issuedAtTime:Mc(Tm(i.iat)),expirationTime:Mc(Tm(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Tm(n){return Number(n)*1e3}function xy(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return sh("JWT malformed, contained fewer than 3 sections"),null;try{const i=wb(t);return i?JSON.parse(i):(sh("Failed to decode base64 JWT payload"),null)}catch(i){return sh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function A_(n){const e=xy(n);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wo(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ws&&OO(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function OO({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mc(this.lastLoginAt),this.creationTime=Mc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sh(n){var w;const e=n.auth,t=await n.getIdToken(),r=await Wo(n,Th(e,{idToken:t}));Ne(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const a=(w=i.providerUserInfo)!=null&&w.length?Mb(i.providerUserInfo):[],l=jO(n.providerData,a),u=n.isAnonymous,f=!(n.email&&i.passwordHash)&&!(l!=null&&l.length),p=u?f:!1,y={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new gg(i.createdAt,i.lastLoginAt),isAnonymous:p};Object.assign(n,y)}async function LO(n){const e=mn(n);await Sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jO(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Mb(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VO(n,e){const t=await Db(n,{},async()=>{const r=au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,l=await Ob(n,i,"/v1/token",`key=${a}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:r};return n.emulatorConfig&&Jo(n.emulatorConfig.host)&&(f.credentials="include"),Nb.fetch()(l,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function FO(n,e){return Gr(n,"POST","/v2/accounts:revokeToken",Zs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):A_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const t=A_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await VO(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,l=new Ja;return r&&(Ne(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ne(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Ne(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ja,this.toJSON())}_performRefresh(){return Bs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(n,e){Ne(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Fr{constructor({uid:e,auth:t,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new MO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new gg(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Wo(this,this.stsTokenManager.getToken(this.auth,e));return Ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return DO(this,e)}reload(){return LO(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Fr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Sh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dn(this.auth.app))return Promise.reject(us(this.auth));const e=await this.getIdToken();return await Wo(this,NO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,i=t.email??void 0,a=t.phoneNumber??void 0,l=t.photoURL??void 0,u=t.tenantId??void 0,f=t._redirectEventId??void 0,p=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:w,emailVerified:v,isAnonymous:C,providerData:R,stsTokenManager:b}=t;Ne(w&&b,e,"internal-error");const T=Ja.fromJSON(this.name,b);Ne(typeof w=="string",e,"internal-error"),Ii(r,e.name),Ii(i,e.name),Ne(typeof v=="boolean",e,"internal-error"),Ne(typeof C=="boolean",e,"internal-error"),Ii(a,e.name),Ii(l,e.name),Ii(u,e.name),Ii(f,e.name),Ii(p,e.name),Ii(y,e.name);const L=new Fr({uid:w,auth:e,email:i,emailVerified:v,displayName:r,isAnonymous:C,photoURL:l,phoneNumber:a,tenantId:u,stsTokenManager:T,createdAt:p,lastLoginAt:y});return R&&Array.isArray(R)&&(L.providerData=R.map(j=>({...j}))),f&&(L._redirectEventId=f),L}static async _fromIdTokenResponse(e,t,r=!1){const i=new Ja;i.updateFromServerResponse(t);const a=new Fr({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Sh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ne(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?Mb(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),u=new Ja;u.updateFromIdToken(r);const f=new Fr({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new gg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=new Map;function Ws(n){Ys(n instanceof Function,"Expected a class definition");let e=R_.get(n);return e?(Ys(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,R_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Lb.type="NONE";const P_=Lb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(n,e,t){return`firebase:${n}:${e}:${t}`}class Za{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=ih(this.userKey,i.apiKey,a),this.fullPersistenceKey=ih("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Th(this.auth,{idToken:e}).catch(()=>{});return t?Fr._fromGetAccountInfoResponse(this.auth,t,e):null}return Fr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Za(Ws(P_),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||Ws(P_);const l=ih(r,e.config.apiKey,e.name);let u=null;for(const p of t)try{const y=await p._get(l);if(y){let w;if(typeof y=="string"){const v=await Th(e,{idToken:y}).catch(()=>{});if(!v)break;w=await Fr._fromGetAccountInfoResponse(e,v,y)}else w=Fr._fromJSON(e,y);p!==a&&(u=w),a=p;break}}catch{}const f=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Za(a,e,r):(a=f[0],u&&await a._set(l,u.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new Za(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ub(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($b(e))return"Blackberry";if(Bb(e))return"Webos";if(Vb(e))return"Safari";if((e.includes("chrome/")||Fb(e))&&!e.includes("edge/"))return"Chrome";if(zb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function jb(n=Cn()){return/firefox\//i.test(n)}function Vb(n=Cn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Fb(n=Cn()){return/crios\//i.test(n)}function Ub(n=Cn()){return/iemobile/i.test(n)}function zb(n=Cn()){return/android/i.test(n)}function $b(n=Cn()){return/blackberry/i.test(n)}function Bb(n=Cn()){return/webos/i.test(n)}function Ey(n=Cn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function UO(n=Cn()){var e;return Ey(n)&&!!((e=window.navigator)!=null&&e.standalone)}function zO(){return JN()&&document.documentMode===10}function Wb(n=Cn()){return Ey(n)||zb(n)||Bb(n)||$b(n)||/windows phone/i.test(n)||Ub(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(n,e=[]){let t;switch(n){case"Browser":t=k_(Cn());break;case"Worker":t=`${k_(Cn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Zo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,u)=>{try{const f=e(a);l(f)}catch(f){u(f)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BO(n,e={}){return Gr(n,"GET","/v2/passwordPolicy",Zs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=6;class HO{constructor(e){var r;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??WO,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new N_(this),this.idTokenSubscription=new N_(this),this.beforeStateQueue=new $O(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ws(t)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Za.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Th(this,{idToken:e}),r=await Fr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Dn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(a=this.redirectUser)==null?void 0:a._redirectEventId,u=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&(f!=null&&f.user)&&(r=f.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Sh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dn(this.app))return Promise.reject(us(this));const t=e?mn(e):null;return t&&Ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dn(this.app)?Promise.reject(us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dn(this.app)?Promise.reject(us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ws(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await BO(this),t=new HO(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ou("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await FO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ws(e)||this._popupRedirectResolver;Ne(t,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[Ws(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(t);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Hb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(Dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&_O(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ei(n){return mn(n)}class N_{constructor(e){this.auth=e,this.observer=null,this.addObserver=oD(t=>this.observer=t)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GO(n){lf=n}function qb(n){return lf.loadJS(n)}function KO(){return lf.recaptchaEnterpriseScript}function QO(){return lf.gapiScript}function YO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class XO{constructor(){this.enterprise=new JO}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class JO{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const ZO="recaptcha-enterprise",Gb="NO_RECAPTCHA";class e4{constructor(e){this.type=ZO,this.auth=ei(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{kO(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const p=new PO(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(f=>{u(f)})})}function i(a,l,u){const f=window.grecaptcha;I_(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(Gb)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new XO().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(u=>{if(!t&&I_(window.grecaptcha))i(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=KO();f.length!==0&&(f+=u),qb(f).then(()=>{i(u,a,l)}).catch(p=>{l(p)})}}).catch(u=>{l(u)})})}}async function D_(n,e,t,r=!1,i=!1){const a=new e4(n);let l;if(i)l=Gb;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const u={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,p=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Ch(n,e,t,r,i){var a;if((a=n._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await D_(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await D_(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(n,e){const t=af(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if($o(a,e??{}))return i;wr(i,"already-initialized")}return t.initialize({options:e})}function n4(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ws);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function r4(n,e,t){const r=ei(n);Ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=Kb(e),{host:l,port:u}=s4(e),f=u===null?"":`:${u}`,p={url:`${a}//${l}${f}/`},y=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ne($o(p,r.config.emulator)&&$o(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Jo(l)?(fy(`${a}//${l}${f}`),py("Auth",!0)):i4()}function Kb(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function s4(n){const e=Kb(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:O_(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:O_(l)}}}function O_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function i4(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Bs("not implemented")}_getIdTokenResponse(e){return Bs("not implemented")}_linkToIdToken(e,t){return Bs("not implemented")}_getReauthenticationResolver(e){return Bs("not implemented")}}async function o4(n,e){return Gr(n,"POST","/v1/accounts:update",e)}async function a4(n,e){return Gr(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l4(n,e){return cu(n,"POST","/v1/accounts:signInWithPassword",Zs(n,e))}async function c4(n,e){return Gr(n,"POST","/v1/accounts:sendOobCode",Zs(n,e))}async function u4(n,e){return c4(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d4(n,e){return cu(n,"POST","/v1/accounts:signInWithEmailLink",Zs(n,e))}async function h4(n,e){return cu(n,"POST","/v1/accounts:signInWithEmailLink",Zs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc extends by{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Yc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Yc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ch(e,t,"signInWithPassword",l4);case"emailLink":return d4(e,{email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ch(e,r,"signUpPassword",a4);case"emailLink":return h4(e,{idToken:t,email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(n,e){return cu(n,"POST","/v1/accounts:signInWithIdp",Zs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4="http://localhost";class Ho extends by{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ho(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):wr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=t;if(!r||!i)return null;const l=new Ho(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return el(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,el(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,el(e,t)}buildRequest(){const e={requestUri:f4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=au(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function m4(n){const e=Cc(Ic(n)).link,t=e?Cc(Ic(e)).deep_link_id:null,r=Cc(Ic(n)).deep_link_id;return(r?Cc(Ic(r)).link:null)||r||t||e||n}class Ty{constructor(e){const t=Cc(Ic(e)),r=t.apiKey??null,i=t.oobCode??null,a=p4(t.mode??null);Ne(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=m4(e);try{return new Ty(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(){this.providerId=Pl.PROVIDER_ID}static credential(e,t){return Yc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Ty.parseLink(t);return Ne(r,"argument-error"),Yc._fromEmailAndCode(e,r.code,r.tenantId)}}Pl.PROVIDER_ID="password";Pl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends Sy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends uu{constructor(){super("facebook.com")}static credential(e){return Ho._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ni.credential(e.oauthAccessToken)}catch{return null}}}Ni.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ni.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ho._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return zs.credential(t,r)}catch{return null}}}zs.GOOGLE_SIGN_IN_METHOD="google.com";zs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends uu{constructor(){super("github.com")}static credential(e){return Ho._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Di.credential(e.oauthAccessToken)}catch{return null}}}Di.GITHUB_SIGN_IN_METHOD="github.com";Di.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends uu{constructor(){super("twitter.com")}static credential(e,t){return Ho._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Oi.credential(t,r)}catch{return null}}}Oi.TWITTER_SIGN_IN_METHOD="twitter.com";Oi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g4(n,e){return cu(n,"POST","/v1/accounts:signUp",Zs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await Fr._fromIdTokenResponse(e,r,i),l=M_(r);return new qo({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=M_(r);return new qo({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function M_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih extends ws{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ih.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Ih(e,t,r,i)}}function Qb(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Ih._fromErrorAndOperation(n,a,e,r):a})}async function y4(n,e,t=!1){const r=await Wo(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return qo._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v4(n,e,t=!1){const{auth:r}=n;if(Dn(r.app))return Promise.reject(us(r));const i="reauthenticate";try{const a=await Wo(n,Qb(r,i,e,n),t);Ne(a.idToken,r,"internal-error");const l=xy(a.idToken);Ne(l,r,"internal-error");const{sub:u}=l;return Ne(n.uid===u,r,"user-mismatch"),qo._forOperation(n,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&wr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yb(n,e,t=!1){if(Dn(n.app))return Promise.reject(us(n));const r="signIn",i=await Qb(n,r,e),a=await qo._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}async function w4(n,e){return Yb(ei(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xb(n){const e=ei(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _4(n,e,t){const r=ei(n);await Ch(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",u4)}async function x4(n,e,t){if(Dn(n.app))return Promise.reject(us(n));const r=ei(n),l=await Ch(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",g4).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Xb(n),f}),u=await qo._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function E4(n,e,t){return Dn(n.app)?Promise.reject(us(n)):w4(mn(n),Pl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Xb(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b4(n,e){return Gr(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T4(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=mn(n),a={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await Wo(r,b4(r.auth,a));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const u=r.providerData.find(({providerId:f})=>f==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function S4(n,e){const t=mn(n);return Dn(t.auth.app)?Promise.reject(us(t.auth)):C4(t,e)}async function C4(n,e,t){const{auth:r}=n,a={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(a.email=e);const l=await Wo(n,o4(r,a));await n._updateTokensIfNecessary(l,!0)}function I4(n,e,t,r){return mn(n).onIdTokenChanged(e,t,r)}function A4(n,e,t){return mn(n).beforeAuthStateChanged(e,t)}function Cy(n,e,t,r){return mn(n).onAuthStateChanged(e,t,r)}function Jb(n){return mn(n).signOut()}const Ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ah,"1"),this.storage.removeItem(Ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=1e3,P4=10;class eT extends Zb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Wb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,f)=>{this.notifyListeners(l,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);zO()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,P4):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},R4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}eT.type="LOCAL";const k4=eT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT extends Zb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}tT.type="SESSION";const nT=tT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new cf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async p=>p(t.origin,a)),f=await N4(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((u,f)=>{const p=Iy("",20);i.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(w){const v=w;if(v.data.eventId===p)switch(v.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(v.data.response);break;default:clearTimeout(y),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(){return window}function O4(n){ds().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(){return typeof ds().WorkerGlobalScope<"u"&&typeof ds().importScripts=="function"}async function M4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function L4(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function j4(){return rT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="firebaseLocalStorageDb",V4=1,Rh="firebaseLocalStorage",iT="fbase_key";class du{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function uf(n,e){return n.transaction([Rh],e?"readwrite":"readonly").objectStore(Rh)}function F4(){const n=indexedDB.deleteDatabase(sT);return new du(n).toPromise()}function yg(){const n=indexedDB.open(sT,V4);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Rh,{keyPath:iT})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Rh)?e(r):(r.close(),await F4(),e(await yg()))})})}async function L_(n,e,t){const r=uf(n,!0).put({[iT]:e,value:t});return new du(r).toPromise()}async function U4(n,e){const t=uf(n,!1).get(e),r=await new du(t).toPromise();return r===void 0?null:r.value}function j_(n,e){const t=uf(n,!0).delete(e);return new du(t).toPromise()}const z4=800,$4=3;class oT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>$4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cf._getInstance(j4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await M4(),!this.activeServiceWorker)return;this.sender=new D4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||L4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yg();return await L_(e,Ah,"1"),await j_(e,Ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>L_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>U4(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>j_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=uf(i,!1).getAll();return new du(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),z4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oT.type="LOCAL";const B4=oT;new lu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(n,e){return e?Ws(e):(Ne(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay extends by{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return el(e,this._buildIdpRequest())}_linkToIdToken(e,t){return el(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return el(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function W4(n){return Yb(n.auth,new Ay(n),n.bypassAuthState)}function H4(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),v4(t,new Ay(n),n.bypassAuthState)}async function q4(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),y4(t,new Ay(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return W4;case"linkViaPopup":case"linkViaRedirect":return q4;case"reauthViaPopup":case"reauthViaRedirect":return H4;default:wr(this.auth,"internal-error")}}resolve(e){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4=new lu(2e3,1e4);async function K4(n,e,t){if(Dn(n.app))return Promise.reject($r(n,"operation-not-supported-in-this-environment"));const r=ei(n);xO(n,e,Sy);const i=aT(r,t);return new No(r,"signInViaPopup",e,i).executeNotNull()}class No extends lT{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,No.currentPopupAction&&No.currentPopupAction.cancel(),No.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Ys(this.filter.length===1,"Popup operations only handle one event");const e=Iy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject($r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject($r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,No.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if((r=(t=this.authWindow)==null?void 0:t.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,G4.get())};e()}}No.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4="pendingRedirect",oh=new Map;class Y4 extends lT{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=oh.get(this.auth._key());if(!e){try{const r=await X4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}oh.set(this.auth._key(),e)}return this.bypassAuthState||oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function X4(n,e){const t=e5(e),r=Z4(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function J4(n,e){oh.set(n._key(),e)}function Z4(n){return Ws(n._redirectPersistence)}function e5(n){return ih(Q4,n.config.apiKey,n.name)}async function t5(n,e,t=!1){if(Dn(n.app))return Promise.reject(us(n));const r=ei(n),i=aT(r,e),l=await new Y4(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5=10*60*1e3;class r5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!s5(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!cT(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";t.onError($r(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=n5&&this.cachedEventUids.clear(),this.cachedEventUids.has(V_(e))}saveEventToCache(e){this.cachedEventUids.add(V_(e)),this.lastProcessedEventTime=Date.now()}}function V_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function cT({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function s5(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i5(n,e={}){return Gr(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a5=/^https?/;async function l5(n){if(n.config.emulator)return;const{authorizedDomains:e}=await i5(n);for(const t of e)try{if(c5(t))return}catch{}wr(n,"unauthorized-domain")}function c5(n){const e=mg(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!a5.test(t))return!1;if(o5.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5=new lu(3e4,6e4);function F_(){const n=ds().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function d5(n){return new Promise((e,t)=>{var i,a,l;function r(){F_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{F_(),t($r(n,"network-request-failed"))},timeout:u5.get()})}if((a=(i=ds().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((l=ds().gapi)!=null&&l.load)r();else{const u=YO("iframefcb");return ds()[u]=()=>{gapi.load?r():t($r(n,"network-request-failed"))},qb(`${QO()}?onload=${u}`).catch(f=>t(f))}}).catch(e=>{throw ah=null,e})}let ah=null;function h5(n){return ah=ah||d5(n),ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5=new lu(5e3,15e3),p5="__/auth/iframe",m5="emulator/auth/iframe",g5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},y5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function v5(n){const e=n.config;Ne(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?_y(e,m5):`https://${n.config.authDomain}/${p5}`,r={apiKey:e.apiKey,appName:n.name,v:Zo},i=y5.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${au(r).slice(1)}`}async function w5(n){const e=await h5(n),t=ds().gapi;return Ne(t,n,"internal-error"),e.open({where:document.body,url:v5(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:g5,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=$r(n,"network-request-failed"),u=ds().setTimeout(()=>{a(l)},f5.get());function f(){ds().clearTimeout(u),i(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},x5=500,E5=600,b5="_blank",T5="http://localhost";class U_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function S5(n,e,t,r=x5,i=E5){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const f={..._5,width:r.toString(),height:i.toString(),top:a,left:l},p=Cn().toLowerCase();t&&(u=Fb(p)?b5:t),jb(p)&&(e=e||T5,f.scrollbars="yes");const y=Object.entries(f).reduce((v,[C,R])=>`${v}${C}=${R},`,"");if(UO(p)&&u!=="_self")return C5(e||"",u),new U_(null);const w=window.open(e||"",u,y);Ne(w,n,"popup-blocked");try{w.focus()}catch{}return new U_(w)}function C5(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5="__/auth/handler",A5="emulator/auth/handler",R5=encodeURIComponent("fac");async function z_(n,e,t,r,i,a){Ne(n.config.authDomain,n,"auth-domain-config-required"),Ne(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Zo,eventId:i};if(e instanceof Sy){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",iD(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,w]of Object.entries({}))l[y]=w}if(e instanceof uu){const y=e.getScopes().filter(w=>w!=="");y.length>0&&(l.scopes=y.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const y of Object.keys(u))u[y]===void 0&&delete u[y];const f=await n._getAppCheckToken(),p=f?`#${R5}=${encodeURIComponent(f)}`:"";return`${P5(n)}?${au(u).slice(1)}${p}`}function P5({config:n}){return n.emulator?_y(n,A5):`https://${n.authDomain}/${I5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="webStorageSupport";class k5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nT,this._completeRedirectFn=t5,this._overrideRedirectResult=J4}async _openPopup(e,t,r,i){var l;Ys((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const a=await z_(e,t,r,mg(),i);return S5(e,a,Iy())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await z_(e,t,r,mg(),i);return O4(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(Ys(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await w5(e),r=new r5(e);return t.register("authEvent",i=>(Ne(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Sm,{type:Sm},i=>{var l;const a=(l=i==null?void 0:i[0])==null?void 0:l[Sm];a!==void 0&&t(!!a),wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=l5(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Wb()||Vb()||Ey()}}const N5=k5;var $_="@firebase/auth",B_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O5(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function M5(n){Bo(new Xi("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Ne(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hb(n)},p=new qO(r,i,a,f);return n4(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Bo(new Xi("auth-internal",e=>{const t=ei(e.getProvider("auth").getImmediate());return(r=>new D5(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),cs($_,B_,O5(n)),cs($_,B_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=5*60,j5=bb("authIdTokenMaxAge")||L5;let W_=null;const V5=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>j5)return;const i=t==null?void 0:t.token;W_!==i&&(W_=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function F5(n=yy()){const e=af(n,"auth");if(e.isInitialized())return e.getImmediate();const t=t4(n,{popupRedirectResolver:N5,persistence:[B4,k4,nT]}),r=bb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=V5(a.toString());A4(t,l,()=>l(t.currentUser)),I4(t,u=>l(u))}}const i=_b("auth");return i&&r4(t,`http://${i}`),t}function U5(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}GO({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=$r("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",U5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});M5("Browser");var H_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wi,uT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,A){function N(){}N.prototype=A.prototype,P.D=A.prototype,P.prototype=new N,P.prototype.constructor=P,P.C=function(O,V,M){for(var D=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)D[ee-2]=arguments[ee];return A.prototype[V].apply(O,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,A,N){N||(N=0);var O=Array(16);if(typeof A=="string")for(var V=0;16>V;++V)O[V]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(V=0;16>V;++V)O[V]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=P.g[0],N=P.g[1],V=P.g[2];var M=P.g[3],D=A+(M^N&(V^M))+O[0]+3614090360&4294967295;A=N+(D<<7&4294967295|D>>>25),D=M+(V^A&(N^V))+O[1]+3905402710&4294967295,M=A+(D<<12&4294967295|D>>>20),D=V+(N^M&(A^N))+O[2]+606105819&4294967295,V=M+(D<<17&4294967295|D>>>15),D=N+(A^V&(M^A))+O[3]+3250441966&4294967295,N=V+(D<<22&4294967295|D>>>10),D=A+(M^N&(V^M))+O[4]+4118548399&4294967295,A=N+(D<<7&4294967295|D>>>25),D=M+(V^A&(N^V))+O[5]+1200080426&4294967295,M=A+(D<<12&4294967295|D>>>20),D=V+(N^M&(A^N))+O[6]+2821735955&4294967295,V=M+(D<<17&4294967295|D>>>15),D=N+(A^V&(M^A))+O[7]+4249261313&4294967295,N=V+(D<<22&4294967295|D>>>10),D=A+(M^N&(V^M))+O[8]+1770035416&4294967295,A=N+(D<<7&4294967295|D>>>25),D=M+(V^A&(N^V))+O[9]+2336552879&4294967295,M=A+(D<<12&4294967295|D>>>20),D=V+(N^M&(A^N))+O[10]+4294925233&4294967295,V=M+(D<<17&4294967295|D>>>15),D=N+(A^V&(M^A))+O[11]+2304563134&4294967295,N=V+(D<<22&4294967295|D>>>10),D=A+(M^N&(V^M))+O[12]+1804603682&4294967295,A=N+(D<<7&4294967295|D>>>25),D=M+(V^A&(N^V))+O[13]+4254626195&4294967295,M=A+(D<<12&4294967295|D>>>20),D=V+(N^M&(A^N))+O[14]+2792965006&4294967295,V=M+(D<<17&4294967295|D>>>15),D=N+(A^V&(M^A))+O[15]+1236535329&4294967295,N=V+(D<<22&4294967295|D>>>10),D=A+(V^M&(N^V))+O[1]+4129170786&4294967295,A=N+(D<<5&4294967295|D>>>27),D=M+(N^V&(A^N))+O[6]+3225465664&4294967295,M=A+(D<<9&4294967295|D>>>23),D=V+(A^N&(M^A))+O[11]+643717713&4294967295,V=M+(D<<14&4294967295|D>>>18),D=N+(M^A&(V^M))+O[0]+3921069994&4294967295,N=V+(D<<20&4294967295|D>>>12),D=A+(V^M&(N^V))+O[5]+3593408605&4294967295,A=N+(D<<5&4294967295|D>>>27),D=M+(N^V&(A^N))+O[10]+38016083&4294967295,M=A+(D<<9&4294967295|D>>>23),D=V+(A^N&(M^A))+O[15]+3634488961&4294967295,V=M+(D<<14&4294967295|D>>>18),D=N+(M^A&(V^M))+O[4]+3889429448&4294967295,N=V+(D<<20&4294967295|D>>>12),D=A+(V^M&(N^V))+O[9]+568446438&4294967295,A=N+(D<<5&4294967295|D>>>27),D=M+(N^V&(A^N))+O[14]+3275163606&4294967295,M=A+(D<<9&4294967295|D>>>23),D=V+(A^N&(M^A))+O[3]+4107603335&4294967295,V=M+(D<<14&4294967295|D>>>18),D=N+(M^A&(V^M))+O[8]+1163531501&4294967295,N=V+(D<<20&4294967295|D>>>12),D=A+(V^M&(N^V))+O[13]+2850285829&4294967295,A=N+(D<<5&4294967295|D>>>27),D=M+(N^V&(A^N))+O[2]+4243563512&4294967295,M=A+(D<<9&4294967295|D>>>23),D=V+(A^N&(M^A))+O[7]+1735328473&4294967295,V=M+(D<<14&4294967295|D>>>18),D=N+(M^A&(V^M))+O[12]+2368359562&4294967295,N=V+(D<<20&4294967295|D>>>12),D=A+(N^V^M)+O[5]+4294588738&4294967295,A=N+(D<<4&4294967295|D>>>28),D=M+(A^N^V)+O[8]+2272392833&4294967295,M=A+(D<<11&4294967295|D>>>21),D=V+(M^A^N)+O[11]+1839030562&4294967295,V=M+(D<<16&4294967295|D>>>16),D=N+(V^M^A)+O[14]+4259657740&4294967295,N=V+(D<<23&4294967295|D>>>9),D=A+(N^V^M)+O[1]+2763975236&4294967295,A=N+(D<<4&4294967295|D>>>28),D=M+(A^N^V)+O[4]+1272893353&4294967295,M=A+(D<<11&4294967295|D>>>21),D=V+(M^A^N)+O[7]+4139469664&4294967295,V=M+(D<<16&4294967295|D>>>16),D=N+(V^M^A)+O[10]+3200236656&4294967295,N=V+(D<<23&4294967295|D>>>9),D=A+(N^V^M)+O[13]+681279174&4294967295,A=N+(D<<4&4294967295|D>>>28),D=M+(A^N^V)+O[0]+3936430074&4294967295,M=A+(D<<11&4294967295|D>>>21),D=V+(M^A^N)+O[3]+3572445317&4294967295,V=M+(D<<16&4294967295|D>>>16),D=N+(V^M^A)+O[6]+76029189&4294967295,N=V+(D<<23&4294967295|D>>>9),D=A+(N^V^M)+O[9]+3654602809&4294967295,A=N+(D<<4&4294967295|D>>>28),D=M+(A^N^V)+O[12]+3873151461&4294967295,M=A+(D<<11&4294967295|D>>>21),D=V+(M^A^N)+O[15]+530742520&4294967295,V=M+(D<<16&4294967295|D>>>16),D=N+(V^M^A)+O[2]+3299628645&4294967295,N=V+(D<<23&4294967295|D>>>9),D=A+(V^(N|~M))+O[0]+4096336452&4294967295,A=N+(D<<6&4294967295|D>>>26),D=M+(N^(A|~V))+O[7]+1126891415&4294967295,M=A+(D<<10&4294967295|D>>>22),D=V+(A^(M|~N))+O[14]+2878612391&4294967295,V=M+(D<<15&4294967295|D>>>17),D=N+(M^(V|~A))+O[5]+4237533241&4294967295,N=V+(D<<21&4294967295|D>>>11),D=A+(V^(N|~M))+O[12]+1700485571&4294967295,A=N+(D<<6&4294967295|D>>>26),D=M+(N^(A|~V))+O[3]+2399980690&4294967295,M=A+(D<<10&4294967295|D>>>22),D=V+(A^(M|~N))+O[10]+4293915773&4294967295,V=M+(D<<15&4294967295|D>>>17),D=N+(M^(V|~A))+O[1]+2240044497&4294967295,N=V+(D<<21&4294967295|D>>>11),D=A+(V^(N|~M))+O[8]+1873313359&4294967295,A=N+(D<<6&4294967295|D>>>26),D=M+(N^(A|~V))+O[15]+4264355552&4294967295,M=A+(D<<10&4294967295|D>>>22),D=V+(A^(M|~N))+O[6]+2734768916&4294967295,V=M+(D<<15&4294967295|D>>>17),D=N+(M^(V|~A))+O[13]+1309151649&4294967295,N=V+(D<<21&4294967295|D>>>11),D=A+(V^(N|~M))+O[4]+4149444226&4294967295,A=N+(D<<6&4294967295|D>>>26),D=M+(N^(A|~V))+O[11]+3174756917&4294967295,M=A+(D<<10&4294967295|D>>>22),D=V+(A^(M|~N))+O[2]+718787259&4294967295,V=M+(D<<15&4294967295|D>>>17),D=N+(M^(V|~A))+O[9]+3951481745&4294967295,P.g[0]=P.g[0]+A&4294967295,P.g[1]=P.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,P.g[2]=P.g[2]+V&4294967295,P.g[3]=P.g[3]+M&4294967295}r.prototype.u=function(P,A){A===void 0&&(A=P.length);for(var N=A-this.blockSize,O=this.B,V=this.h,M=0;M<A;){if(V==0)for(;M<=N;)i(this,P,M),M+=this.blockSize;if(typeof P=="string"){for(;M<A;)if(O[V++]=P.charCodeAt(M++),V==this.blockSize){i(this,O),V=0;break}}else for(;M<A;)if(O[V++]=P[M++],V==this.blockSize){i(this,O),V=0;break}}this.h=V,this.o+=A},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var A=1;A<P.length-8;++A)P[A]=0;var N=8*this.o;for(A=P.length-8;A<P.length;++A)P[A]=N&255,N/=256;for(this.u(P),P=Array(16),A=N=0;4>A;++A)for(var O=0;32>O;O+=8)P[N++]=this.g[A]>>>O&255;return P};function a(P,A){var N=u;return Object.prototype.hasOwnProperty.call(N,P)?N[P]:N[P]=A(P)}function l(P,A){this.h=A;for(var N=[],O=!0,V=P.length-1;0<=V;V--){var M=P[V]|0;O&&M==A||(N[V]=M,O=!1)}this.g=N}var u={};function f(P){return-128<=P&&128>P?a(P,function(A){return new l([A|0],0>A?-1:0)}):new l([P|0],0>P?-1:0)}function p(P){if(isNaN(P)||!isFinite(P))return w;if(0>P)return T(p(-P));for(var A=[],N=1,O=0;P>=N;O++)A[O]=P/N|0,N*=4294967296;return new l(A,0)}function y(P,A){if(P.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(P.charAt(0)=="-")return T(y(P.substring(1),A));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=p(Math.pow(A,8)),O=w,V=0;V<P.length;V+=8){var M=Math.min(8,P.length-V),D=parseInt(P.substring(V,V+M),A);8>M?(M=p(Math.pow(A,M)),O=O.j(M).add(p(D))):(O=O.j(N),O=O.add(p(D)))}return O}var w=f(0),v=f(1),C=f(16777216);n=l.prototype,n.m=function(){if(b(this))return-T(this).m();for(var P=0,A=1,N=0;N<this.g.length;N++){var O=this.i(N);P+=(0<=O?O:4294967296+O)*A,A*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(R(this))return"0";if(b(this))return"-"+T(this).toString(P);for(var A=p(Math.pow(P,6)),N=this,O="";;){var V=$(N,A).g;N=L(N,V.j(A));var M=((0<N.g.length?N.g[0]:N.h)>>>0).toString(P);if(N=V,R(N))return M+O;for(;6>M.length;)M="0"+M;O=M+O}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function R(P){if(P.h!=0)return!1;for(var A=0;A<P.g.length;A++)if(P.g[A]!=0)return!1;return!0}function b(P){return P.h==-1}n.l=function(P){return P=L(this,P),b(P)?-1:R(P)?0:1};function T(P){for(var A=P.g.length,N=[],O=0;O<A;O++)N[O]=~P.g[O];return new l(N,~P.h).add(v)}n.abs=function(){return b(this)?T(this):this},n.add=function(P){for(var A=Math.max(this.g.length,P.g.length),N=[],O=0,V=0;V<=A;V++){var M=O+(this.i(V)&65535)+(P.i(V)&65535),D=(M>>>16)+(this.i(V)>>>16)+(P.i(V)>>>16);O=D>>>16,M&=65535,D&=65535,N[V]=D<<16|M}return new l(N,N[N.length-1]&-2147483648?-1:0)};function L(P,A){return P.add(T(A))}n.j=function(P){if(R(this)||R(P))return w;if(b(this))return b(P)?T(this).j(T(P)):T(T(this).j(P));if(b(P))return T(this.j(T(P)));if(0>this.l(C)&&0>P.l(C))return p(this.m()*P.m());for(var A=this.g.length+P.g.length,N=[],O=0;O<2*A;O++)N[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<P.g.length;V++){var M=this.i(O)>>>16,D=this.i(O)&65535,ee=P.i(V)>>>16,be=P.i(V)&65535;N[2*O+2*V]+=D*be,j(N,2*O+2*V),N[2*O+2*V+1]+=M*be,j(N,2*O+2*V+1),N[2*O+2*V+1]+=D*ee,j(N,2*O+2*V+1),N[2*O+2*V+2]+=M*ee,j(N,2*O+2*V+2)}for(O=0;O<A;O++)N[O]=N[2*O+1]<<16|N[2*O];for(O=A;O<2*A;O++)N[O]=0;return new l(N,0)};function j(P,A){for(;(P[A]&65535)!=P[A];)P[A+1]+=P[A]>>>16,P[A]&=65535,A++}function F(P,A){this.g=P,this.h=A}function $(P,A){if(R(A))throw Error("division by zero");if(R(P))return new F(w,w);if(b(P))return A=$(T(P),A),new F(T(A.g),T(A.h));if(b(A))return A=$(P,T(A)),new F(T(A.g),A.h);if(30<P.g.length){if(b(P)||b(A))throw Error("slowDivide_ only works with positive integers.");for(var N=v,O=A;0>=O.l(P);)N=H(N),O=H(O);var V=q(N,1),M=q(O,1);for(O=q(O,2),N=q(N,2);!R(O);){var D=M.add(O);0>=D.l(P)&&(V=V.add(N),M=D),O=q(O,1),N=q(N,1)}return A=L(P,V.j(A)),new F(V,A)}for(V=w;0<=P.l(A);){for(N=Math.max(1,Math.floor(P.m()/A.m())),O=Math.ceil(Math.log(N)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),M=p(N),D=M.j(A);b(D)||0<D.l(P);)N-=O,M=p(N),D=M.j(A);R(M)&&(M=v),V=V.add(M),P=L(P,D)}return new F(V,P)}n.A=function(P){return $(this,P).h},n.and=function(P){for(var A=Math.max(this.g.length,P.g.length),N=[],O=0;O<A;O++)N[O]=this.i(O)&P.i(O);return new l(N,this.h&P.h)},n.or=function(P){for(var A=Math.max(this.g.length,P.g.length),N=[],O=0;O<A;O++)N[O]=this.i(O)|P.i(O);return new l(N,this.h|P.h)},n.xor=function(P){for(var A=Math.max(this.g.length,P.g.length),N=[],O=0;O<A;O++)N[O]=this.i(O)^P.i(O);return new l(N,this.h^P.h)};function H(P){for(var A=P.g.length+1,N=[],O=0;O<A;O++)N[O]=P.i(O)<<1|P.i(O-1)>>>31;return new l(N,P.h)}function q(P,A){var N=A>>5;A%=32;for(var O=P.g.length-N,V=[],M=0;M<O;M++)V[M]=0<A?P.i(M+N)>>>A|P.i(M+N+1)<<32-A:P.i(M+N);return new l(V,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,uT=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=y,Wi=l}).apply(typeof H_<"u"?H_:typeof self<"u"?self:typeof window<"u"?window:{});var Bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dT,Ac,hT,lh,vg,fT,pT,mT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,E){return d==Array.prototype||d==Object.prototype||(d[_]=E.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bd=="object"&&Bd];for(var _=0;_<d.length;++_){var E=d[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function i(d,_){if(_)e:{var E=r;d=d.split(".");for(var k=0;k<d.length-1;k++){var G=d[k];if(!(G in E))break e;E=E[G]}d=d[d.length-1],k=E[d],_=_(k),_!=k&&_!=null&&e(E,d,{configurable:!0,writable:!0,value:_})}}function a(d,_){d instanceof String&&(d+="");var E=0,k=!1,G={next:function(){if(!k&&E<d.length){var Z=E++;return{value:_(Z,d[Z]),done:!1}}return k=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}i("Array.prototype.values",function(d){return d||function(){return a(this,function(_,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function f(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function p(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function y(d,_,E){return d.call.apply(d.bind,arguments)}function w(d,_,E){if(!d)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,k),d.apply(_,G)}}return function(){return d.apply(_,arguments)}}function v(d,_,E){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:w,v.apply(null,arguments)}function C(d,_){var E=Array.prototype.slice.call(arguments,1);return function(){var k=E.slice();return k.push.apply(k,arguments),d.apply(this,k)}}function R(d,_){function E(){}E.prototype=_.prototype,d.aa=_.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(k,G,Z){for(var he=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)he[pt-2]=arguments[pt];return _.prototype[G].apply(k,he)}}function b(d){const _=d.length;if(0<_){const E=Array(_);for(let k=0;k<_;k++)E[k]=d[k];return E}return[]}function T(d,_){for(let E=1;E<arguments.length;E++){const k=arguments[E];if(f(k)){const G=d.length||0,Z=k.length||0;d.length=G+Z;for(let he=0;he<Z;he++)d[G+he]=k[he]}else d.push(k)}}class L{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function j(d){return/^[\s\xa0]*$/.test(d)}function F(){var d=u.navigator;return d&&(d=d.userAgent)?d:""}function $(d){return $[" "](d),d}$[" "]=function(){};var H=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function q(d,_,E){for(const k in d)_.call(E,d[k],k,d)}function P(d,_){for(const E in d)_.call(void 0,d[E],E,d)}function A(d){const _={};for(const E in d)_[E]=d[E];return _}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(d,_){let E,k;for(let G=1;G<arguments.length;G++){k=arguments[G];for(E in k)d[E]=k[E];for(let Z=0;Z<N.length;Z++)E=N[Z],Object.prototype.hasOwnProperty.call(k,E)&&(d[E]=k[E])}}function V(d){var _=1;d=d.split(":");const E=[];for(;0<_&&d.length;)E.push(d.shift()),_--;return d.length&&E.push(d.join(":")),E}function M(d){u.setTimeout(()=>{throw d},0)}function D(){var d=ae;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class ee{constructor(){this.h=this.g=null}add(_,E){const k=be.get();k.set(_,E),this.h?this.h.next=k:this.g=k,this.h=k}}var be=new L(()=>new ge,d=>d.reset());class ge{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,Q=!1,ae=new ee,le=()=>{const d=u.Promise.resolve(void 0);fe=()=>{d.then(U)}};var U=()=>{for(var d;d=D();){try{d.h.call(d.g)}catch(E){M(E)}var _=be;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}Q=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};u.addEventListener("test",E,_),u.removeEventListener("test",E,_)}catch{}return d}();function Ie(d,_){if(re.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,k=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(H){e:{try{$(_.nodeName);var G=!0;break e}catch{}G=!1}G||(_=null)}}else E=="mouseover"?_=d.fromElement:E=="mouseout"&&(_=d.toElement);this.relatedTarget=_,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:_e[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ie.aa.h.call(this)}}R(Ie,re);var _e={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),Ve=0;function ue(d,_,E,k,G){this.listener=d,this.proxy=null,this.src=_,this.type=E,this.capture=!!k,this.ha=G,this.key=++Ve,this.da=this.fa=!1}function pe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function qe(d){this.src=d,this.g={},this.h=0}qe.prototype.add=function(d,_,E,k,G){var Z=d.toString();d=this.g[Z],d||(d=this.g[Z]=[],this.h++);var he=Ye(d,_,k,G);return-1<he?(_=d[he],E||(_.fa=!1)):(_=new ue(_,this.src,Z,!!k,G),_.fa=E,d.push(_)),_};function Ze(d,_){var E=_.type;if(E in d.g){var k=d.g[E],G=Array.prototype.indexOf.call(k,_,void 0),Z;(Z=0<=G)&&Array.prototype.splice.call(k,G,1),Z&&(pe(_),d.g[E].length==0&&(delete d.g[E],d.h--))}}function Ye(d,_,E,k){for(var G=0;G<d.length;++G){var Z=d[G];if(!Z.da&&Z.listener==_&&Z.capture==!!E&&Z.ha==k)return G}return-1}var st="closure_lm_"+(1e6*Math.random()|0),Oe={};function ht(d,_,E,k,G){if(Array.isArray(_)){for(var Z=0;Z<_.length;Z++)ht(d,_[Z],E,k,G);return null}return E=He(E),d&&d[Ue]?d.K(_,E,p(k)?!!k.capture:!1,G):en(d,_,E,!1,k,G)}function en(d,_,E,k,G,Z){if(!_)throw Error("Invalid event type");var he=p(G)?!!G.capture:!!G,pt=ct(d);if(pt||(d[st]=pt=new qe(d)),E=pt.add(_,E,k,he,Z),E.proxy)return E;if(k=lt(),E.proxy=k,k.src=d,k.listener=E,d.addEventListener)ye||(G=he),G===void 0&&(G=!1),d.addEventListener(_.toString(),k,G);else if(d.attachEvent)d.attachEvent(bt(_.toString()),k);else if(d.addListener&&d.removeListener)d.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return E}function lt(){function d(E){return _.call(d.src,d.listener,E)}const _=Ot;return d}function $e(d,_,E,k,G){if(Array.isArray(_))for(var Z=0;Z<_.length;Z++)$e(d,_[Z],E,k,G);else k=p(k)?!!k.capture:!!k,E=He(E),d&&d[Ue]?(d=d.i,_=String(_).toString(),_ in d.g&&(Z=d.g[_],E=Ye(Z,E,k,G),-1<E&&(pe(Z[E]),Array.prototype.splice.call(Z,E,1),Z.length==0&&(delete d.g[_],d.h--)))):d&&(d=ct(d))&&(_=d.g[_.toString()],d=-1,_&&(d=Ye(_,E,k,G)),(E=-1<d?_[d]:null)&&ft(E))}function ft(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[Ue])Ze(_.i,d);else{var E=d.type,k=d.proxy;_.removeEventListener?_.removeEventListener(E,k,d.capture):_.detachEvent?_.detachEvent(bt(E),k):_.addListener&&_.removeListener&&_.removeListener(k),(E=ct(_))?(Ze(E,d),E.h==0&&(E.src=null,_[st]=null)):pe(d)}}}function bt(d){return d in Oe?Oe[d]:Oe[d]="on"+d}function Ot(d,_){if(d.da)d=!0;else{_=new Ie(_,this);var E=d.listener,k=d.ha||d.src;d.fa&&ft(d),d=E.call(k,_)}return d}function ct(d){return d=d[st],d instanceof qe?d:null}var at="__closure_events_fn_"+(1e9*Math.random()>>>0);function He(d){return typeof d=="function"?d:(d[at]||(d[at]=function(_){return d.handleEvent(_)}),d[at])}function Xe(){X.call(this),this.i=new qe(this),this.M=this,this.F=null}R(Xe,X),Xe.prototype[Ue]=!0,Xe.prototype.removeEventListener=function(d,_,E,k){$e(this,d,_,E,k)};function mt(d,_){var E,k=d.F;if(k)for(E=[];k;k=k.F)E.push(k);if(d=d.M,k=_.type||_,typeof _=="string")_=new re(_,d);else if(_ instanceof re)_.target=_.target||d;else{var G=_;_=new re(k,d),O(_,G)}if(G=!0,E)for(var Z=E.length-1;0<=Z;Z--){var he=_.g=E[Z];G=On(he,k,!0,_)&&G}if(he=_.g=d,G=On(he,k,!0,_)&&G,G=On(he,k,!1,_)&&G,E)for(Z=0;Z<E.length;Z++)he=_.g=E[Z],G=On(he,k,!1,_)&&G}Xe.prototype.N=function(){if(Xe.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var E=d.g[_],k=0;k<E.length;k++)pe(E[k]);delete d.g[_],d.h--}}this.F=null},Xe.prototype.K=function(d,_,E,k){return this.i.add(String(d),_,!1,E,k)},Xe.prototype.L=function(d,_,E,k){return this.i.add(String(d),_,!0,E,k)};function On(d,_,E,k){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var G=!0,Z=0;Z<_.length;++Z){var he=_[Z];if(he&&!he.da&&he.capture==E){var pt=he.listener,Kt=he.ha||he.src;he.fa&&Ze(d.i,he),G=pt.call(Kt,k)!==!1&&G}}return G&&!k.defaultPrevented}function or(d,_,E){if(typeof d=="function")E&&(d=v(d,E));else if(d&&typeof d.handleEvent=="function")d=v(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:u.setTimeout(d,_||0)}function _r(d){d.g=or(()=>{d.g=null,d.i&&(d.i=!1,_r(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class xs extends X{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:_r(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qr(d){X.call(this),this.h=d,this.g={}}R(Qr,X);var ti=[];function so(d){q(d.g,function(_,E){this.g.hasOwnProperty(E)&&ft(_)},d),d.g={}}Qr.prototype.N=function(){Qr.aa.N.call(this),so(this)},Qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Es=u.JSON.stringify,Mn=u.JSON.parse,io=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function ke(){}ke.prototype.h=null;function it(d){return d.h||(d.h=d.i())}function nt(){}var Rt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vt(){re.call(this,"d")}R(Vt,re);function xr(){re.call(this,"c")}R(xr,re);var ar={},Ml=null;function oo(){return Ml=Ml||new Xe}ar.La="serverreachability";function Ll(d){re.call(this,ar.La,d)}R(Ll,re);function bs(d){const _=oo();mt(_,new Ll(_))}ar.STAT_EVENT="statevent";function jl(d,_){re.call(this,ar.STAT_EVENT,d),this.stat=_}R(jl,re);function Ft(d){const _=oo();mt(_,new jl(_,d))}ar.Ma="timingevent";function sa(d,_){re.call(this,ar.Ma,d),this.size=_}R(sa,re);function Er(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},_)}function ao(){this.g=!0}ao.prototype.xa=function(){this.g=!1};function lo(d,_,E,k,G,Z){d.info(function(){if(d.g)if(Z)for(var he="",pt=Z.split("&"),Kt=0;Kt<pt.length;Kt++){var et=pt[Kt].split("=");if(1<et.length){var tn=et[0];et=et[1];var $t=tn.split("_");he=2<=$t.length&&$t[1]=="type"?he+(tn+"="+et+"&"):he+(tn+"=redacted&")}}else he=null;else he=Z;return"XMLHTTP REQ ("+k+") [attempt "+G+"]: "+_+`
`+E+`
`+he})}function ia(d,_,E,k,G,Z,he){d.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+G+"]: "+_+`
`+E+`
`+Z+" "+he})}function br(d,_,E,k){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+Nf(d,E)+(k?" "+k:"")})}function Vl(d,_){d.info(function(){return"TIMEOUT: "+_})}ao.prototype.info=function(){};function Nf(d,_){if(!d.g)return _;if(!_)return null;try{var E=JSON.parse(_);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var k=E[d];if(!(2>k.length)){var G=k[1];if(Array.isArray(G)&&!(1>G.length)){var Z=G[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var he=1;he<G.length;he++)G[he]=""}}}}return Es(E)}catch{return _}}var oa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Tr;function co(){}R(co,ke),co.prototype.g=function(){return new XMLHttpRequest},co.prototype.i=function(){return{}},Tr=new co;function Sr(d,_,E,k){this.j=d,this.i=_,this.l=E,this.R=k||1,this.U=new Qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _u}function _u(){this.i=null,this.g="",this.h=!1}var Fl={},aa={};function la(d,_,E){d.L=1,d.v=oi(Kn(_)),d.m=E,d.P=!0,Ul(d,null)}function Ul(d,_){d.F=Date.now(),vt(d),d.A=Kn(d.v);var E=d.A,k=d.R;Array.isArray(k)||(k=[String(k)]),li(E.i,"t",k),d.C=0,E=d.j.J,d.h=new _u,d.g=Vu(d.j,E?_:null,!d.m),0<d.O&&(d.M=new xs(v(d.Y,d,d.g),d.O)),_=d.U,E=d.g,k=d.ca;var G="readystatechange";Array.isArray(G)||(G&&(ti[0]=G.toString()),G=ti);for(var Z=0;Z<G.length;Z++){var he=ht(E,G[Z],k||_.handleEvent,!1,_.h||_);if(!he)break;_.g[he.key]=he}_=d.H?A(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),bs(),lo(d.i,d.u,d.A,d.l,d.R,d.m)}Sr.prototype.ca=function(d){d=d.target;const _=this.M;_&&jn(d)==3?_.j():this.Y(d)},Sr.prototype.Y=function(d){try{if(d==this.g)e:{const $t=jn(this.g);var _=this.g.Ba();const ur=this.g.Z();if(!(3>$t)&&($t!=3||this.g&&(this.h.h||this.g.oa()||ql(this.g)))){this.J||$t!=4||_==7||(_==8||0>=ur?bs(3):bs(2)),uo(this);var E=this.g.Z();this.X=E;t:if(xu(this)){var k=ql(this.g);d="";var G=k.length,Z=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){lr(this),ni(this);var he="";break t}this.h.i=new u.TextDecoder}for(_=0;_<G;_++)this.h.h=!0,d+=this.h.i.decode(k[_],{stream:!(Z&&_==G-1)});k.length=0,this.h.g+=d,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=E==200,ia(this.i,this.u,this.A,this.l,this.R,$t,E),this.o){if(this.T&&!this.K){t:{if(this.g){var pt,Kt=this.g;if((pt=Kt.g?Kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(pt)){var et=pt;break t}}et=null}if(E=et)br(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zl(this,E);else{this.o=!1,this.s=3,Ft(12),lr(this),ni(this);break e}}if(this.P){E=!0;let Yn;for(;!this.J&&this.C<he.length;)if(Yn=Df(this,he),Yn==aa){$t==4&&(this.s=4,Ft(14),E=!1),br(this.i,this.l,null,"[Incomplete Response]");break}else if(Yn==Fl){this.s=4,Ft(15),br(this.i,this.l,he,"[Invalid Chunk]"),E=!1;break}else br(this.i,this.l,Yn,null),zl(this,Yn);if(xu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$t!=4||he.length!=0||this.h.h||(this.s=1,Ft(16),E=!1),this.o=this.o&&E,!E)br(this.i,this.l,he,"[Invalid Chunked Response]"),lr(this),ni(this);else if(0<he.length&&!this.W){this.W=!0;var tn=this.j;tn.g==this&&tn.ba&&!tn.M&&(tn.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),Kl(tn),tn.M=!0,Ft(11))}}else br(this.i,this.l,he,null),zl(this,he);$t==4&&lr(this),this.o&&!this.J&&($t==4?wa(this.j,this):(this.o=!1,vt(this)))}else pa(this.g),E==400&&0<he.indexOf("Unknown SID")?(this.s=3,Ft(12)):(this.s=0,Ft(13)),lr(this),ni(this)}}}catch{}finally{}};function xu(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Df(d,_){var E=d.C,k=_.indexOf(`
`,E);return k==-1?aa:(E=Number(_.substring(E,k)),isNaN(E)?Fl:(k+=1,k+E>_.length?aa:(_=_.slice(k,k+E),d.C=k+E,_)))}Sr.prototype.cancel=function(){this.J=!0,lr(this)};function vt(d){d.S=Date.now()+d.I,Eu(d,d.I)}function Eu(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Er(v(d.ba,d),_)}function uo(d){d.B&&(u.clearTimeout(d.B),d.B=null)}Sr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Vl(this.i,this.A),this.L!=2&&(bs(),Ft(17)),lr(this),this.s=2,ni(this)):Eu(this,this.S-d)};function ni(d){d.j.G==0||d.J||wa(d.j,d)}function lr(d){uo(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,so(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function zl(d,_){try{var E=d.j;if(E.G!=0&&(E.g==d||In(E.h,d))){if(!d.K&&In(E.h,d)&&E.G==3){try{var k=E.Da.g.parse(_)}catch{k=null}if(Array.isArray(k)&&k.length==3){var G=k;if(G[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)va(E),Pr(E);else break e;ya(E),Ft(18)}}else E.za=G[1],0<E.za-E.T&&37500>G[2]&&E.F&&E.v==0&&!E.C&&(E.C=Er(v(E.Za,E),6e3));if(1>=Tu(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else As(E,11)}else if((d.K||E.g==d)&&va(E),!j(_))for(G=E.Da.g.parse(_),_=0;_<G.length;_++){let et=G[_];if(E.T=et[0],et=et[1],E.G==2)if(et[0]=="c"){E.K=et[1],E.ia=et[2];const tn=et[3];tn!=null&&(E.la=tn,E.j.info("VER="+E.la));const $t=et[4];$t!=null&&(E.Aa=$t,E.j.info("SVER="+E.Aa));const ur=et[5];ur!=null&&typeof ur=="number"&&0<ur&&(k=1.5*ur,E.L=k,E.j.info("backChannelRequestTimeoutMs_="+k)),k=E;const Yn=d.g;if(Yn){const vo=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vo){var Z=k.h;Z.g||vo.indexOf("spdy")==-1&&vo.indexOf("quic")==-1&&vo.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&($l(Z,Z.h),Z.h=null))}if(k.D){const xa=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;xa&&(k.ya=xa,yt(k.I,k.D,xa))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),k=E;var he=d;if(k.qa=ju(k,k.J?k.ia:null,k.W),he.K){Su(k.h,he);var pt=he,Kt=k.L;Kt&&(pt.I=Kt),pt.B&&(uo(pt),vt(pt)),k.g=he}else yo(k);0<E.i.length&&Zr(E)}else et[0]!="stop"&&et[0]!="close"||As(E,7);else E.G==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?As(E,7):un(E):et[0]!="noop"&&E.l&&E.l.ta(et),E.v=0)}}bs(4)}catch{}}var bu=class{constructor(d,_){this.g=d,this.map=_}};function ho(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gn(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Tu(d){return d.h?1:d.g?d.g.size:0}function In(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function $l(d,_){d.g?d.g.add(_):d.h=_}function Su(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}ho.prototype.cancel=function(){if(this.i=Cu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Cu(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const E of d.g.values())_=_.concat(E.D);return _}return b(d.i)}function ca(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var _=[],E=d.length,k=0;k<E;k++)_.push(d[k]);return _}_=[],E=0;for(k in d)_[E++]=d[k];return _}function ua(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var _=[];d=d.length;for(var E=0;E<d;E++)_.push(E);return _}_=[],E=0;for(const k in d)_[E++]=k;return _}}}function ri(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var E=ua(d),k=ca(d),G=k.length,Z=0;Z<G;Z++)_.call(void 0,k[Z],E&&E[Z],d)}var fo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Of(d,_){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var k=d[E].indexOf("="),G=null;if(0<=k){var Z=d[E].substring(0,k);G=d[E].substring(k+1)}else Z=d[E];_(Z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Ts(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Ts){this.h=d.h,po(this,d.j),this.o=d.o,this.g=d.g,si(this,d.s),this.l=d.l;var _=d.i,E=new Yr;E.i=_.i,_.g&&(E.g=new Map(_.g),E.h=_.h),ii(this,E),this.m=d.m}else d&&(_=String(d).match(fo))?(this.h=!1,po(this,_[1]||"",!0),this.o=Je(_[2]||""),this.g=Je(_[3]||"",!0),si(this,_[4]),this.l=Je(_[5]||"",!0),ii(this,_[6]||"",!0),this.m=Je(_[7]||"")):(this.h=!1,this.i=new Yr(null,this.h))}Ts.prototype.toString=function(){var d=[],_=this.j;_&&d.push(ai(_,da,!0),":");var E=this.g;return(E||_=="file")&&(d.push("//"),(_=this.o)&&d.push(ai(_,da,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(ai(E,E.charAt(0)=="/"?Ru:Au,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",ai(E,Bl)),d.join("")};function Kn(d){return new Ts(d)}function po(d,_,E){d.j=E?Je(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function si(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function ii(d,_,E){_ instanceof Yr?(d.i=_,Xr(d.i,d.h)):(E||(_=ai(_,Pu)),d.i=new Yr(_,d.h))}function yt(d,_,E){d.i.set(_,E)}function oi(d){return yt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Je(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ai(d,_,E){return typeof d=="string"?(d=encodeURI(d).replace(_,Iu),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Iu(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var da=/[#\/\?@]/g,Au=/[#\?:]/g,Ru=/[#\?]/g,Pu=/[#\?@]/g,Bl=/#/g;function Yr(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function cn(d){d.g||(d.g=new Map,d.h=0,d.i&&Of(d.i,function(_,E){d.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}n=Yr.prototype,n.add=function(d,_){cn(this),this.i=null,d=cr(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(_),this.h+=1,this};function Cr(d,_){cn(d),_=cr(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function Ir(d,_){return cn(d),_=cr(d,_),d.g.has(_)}n.forEach=function(d,_){cn(this),this.g.forEach(function(E,k){E.forEach(function(G){d.call(_,G,k,this)},this)},this)},n.na=function(){cn(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),E=[];for(let k=0;k<_.length;k++){const G=d[k];for(let Z=0;Z<G.length;Z++)E.push(_[k])}return E},n.V=function(d){cn(this);let _=[];if(typeof d=="string")Ir(this,d)&&(_=_.concat(this.g.get(cr(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)_=_.concat(d[E])}return _},n.set=function(d,_){return cn(this),this.i=null,d=cr(this,d),Ir(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function li(d,_,E){Cr(d,_),0<E.length&&(d.i=null,d.g.set(cr(d,_),b(E)),d.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var E=0;E<_.length;E++){var k=_[E];const Z=encodeURIComponent(String(k)),he=this.V(k);for(k=0;k<he.length;k++){var G=Z;he[k]!==""&&(G+="="+encodeURIComponent(String(he[k]))),d.push(G)}}return this.i=d.join("&")};function cr(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function Xr(d,_){_&&!d.j&&(cn(d),d.i=null,d.g.forEach(function(E,k){var G=k.toLowerCase();k!=G&&(Cr(this,k),li(this,G,E))},d)),d.j=_}function Mf(d,_){const E=new ao;if(u.Image){const k=new Image;k.onload=C(Ln,E,"TestLoadImage: loaded",!0,_,k),k.onerror=C(Ln,E,"TestLoadImage: error",!1,_,k),k.onabort=C(Ln,E,"TestLoadImage: abort",!1,_,k),k.ontimeout=C(Ln,E,"TestLoadImage: timeout",!1,_,k),u.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=d}else _(!1)}function ku(d,_){const E=new ao,k=new AbortController,G=setTimeout(()=>{k.abort(),Ln(E,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:k.signal}).then(Z=>{clearTimeout(G),Z.ok?Ln(E,"TestPingServer: ok",!0,_):Ln(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(G),Ln(E,"TestPingServer: error",!1,_)})}function Ln(d,_,E,k,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),k(E)}catch{}}function Lf(){this.g=new io}function Nu(d,_,E){const k=E||"";try{ri(d,function(G,Z){let he=G;p(G)&&(he=Es(G)),_.push(k+Z+"="+encodeURIComponent(he))})}catch(G){throw _.push(k+"type="+encodeURIComponent("_badmap")),G}}function Ss(d){this.l=d.Ub||null,this.j=d.eb||!1}R(Ss,ke),Ss.prototype.g=function(){return new mo(this.l,this.j)},Ss.prototype.i=function(d){return function(){return d}}({});function mo(d,_){Xe.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(mo,Xe),n=mo.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,Rr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||u).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ar(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Rr(this)),this.g&&(this.readyState=3,Rr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Du(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Du(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Ar(this):Rr(this),this.readyState==3&&Du(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Ar(this))},n.Qa=function(d){this.g&&(this.response=d,Ar(this))},n.ga=function(){this.g&&Ar(this)};function Ar(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Rr(d)}n.setRequestHeader=function(d,_){this.u.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=_.next();return d.join(`\r
`)};function Rr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(mo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Cs(d){let _="";return q(d,function(E,k){_+=k,_+=":",_+=E,_+=`\r
`}),_}function ci(d,_,E){e:{for(k in E){var k=!1;break e}k=!0}k||(E=Cs(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):yt(d,_,E))}function It(d){Xe.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(It,Xe);var jf=/^https?$/i,Wl=["POST","PUT"];n=It.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,_,E,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tr.g(),this.v=this.o?it(this.o):it(Tr),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(Z){go(this,Z);return}if(d=E||"",E=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var G in k)E.set(G,k[G]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const Z of k.keys())E.set(Z,k.get(Z));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(E.keys()).find(Z=>Z.toLowerCase()=="content-type"),G=u.FormData&&d instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Wl,_,void 0))||k||G||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,he]of E)this.g.setRequestHeader(Z,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fa(this),this.u=!0,this.g.send(d),this.u=!1}catch(Z){go(this,Z)}};function go(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,ha(d),Qn(d)}function ha(d){d.A||(d.A=!0,mt(d,"complete"),mt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,mt(this,"complete"),mt(this,"abort"),Qn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),It.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Hl(this):this.bb())},n.bb=function(){Hl(this)};function Hl(d){if(d.h&&typeof l<"u"&&(!d.v[1]||jn(d)!=4||d.Z()!=2)){if(d.u&&jn(d)==4)or(d.Ea,0,d);else if(mt(d,"readystatechange"),jn(d)==4){d.h=!1;try{const he=d.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var k;if(k=he===0){var G=String(d.D).match(fo)[1]||null;!G&&u.self&&u.self.location&&(G=u.self.location.protocol.slice(0,-1)),k=!jf.test(G?G.toLowerCase():"")}E=k}if(E)mt(d,"complete"),mt(d,"success");else{d.m=6;try{var Z=2<jn(d)?d.g.statusText:""}catch{Z=""}d.l=Z+" ["+d.Z()+"]",ha(d)}}finally{Qn(d)}}}}function Qn(d,_){if(d.g){fa(d);const E=d.g,k=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||mt(d,"ready");try{E.onreadystatechange=k}catch{}}}function fa(d){d.I&&(u.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function jn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),Mn(_)}};function ql(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function pa(d){const _={};d=(d.g&&2<=jn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<d.length;k++){if(j(d[k]))continue;var E=V(d[k]);const G=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Z=_[G]||[];_[G]=Z,Z.push(E)}P(_,function(k){return k.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jr(d,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||_}function Gl(d){this.Aa=0,this.i=[],this.j=new ao,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jr("baseRetryDelayMs",5e3,d),this.cb=Jr("retryDelaySeedMs",1e4,d),this.Wa=Jr("forwardChannelMaxRetries",2,d),this.wa=Jr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new ho(d&&d.concurrentRequestLimit),this.Da=new Lf,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Gl.prototype,n.la=8,n.G=1,n.connect=function(d,_,E,k){Ft(0),this.W=d,this.H=_||{},E&&k!==void 0&&(this.H.OSID=E,this.H.OAID=k),this.F=this.X,this.I=ju(this,null,this.W),Zr(this)};function un(d){if(ma(d),d.G==3){var _=d.U++,E=Kn(d.I);if(yt(E,"SID",d.K),yt(E,"RID",_),yt(E,"TYPE","terminate"),Is(d,E),_=new Sr(d,d.j,_),_.L=2,_.v=oi(Kn(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(_.v.toString(),"")}catch{}!E&&u.Image&&(new Image().src=_.v,E=!0),E||(_.g=Vu(_.j,null),_.g.ea(_.v)),_.F=Date.now(),vt(_)}Lu(d)}function Pr(d){d.g&&(Kl(d),d.g.cancel(),d.g=null)}function ma(d){Pr(d),d.u&&(u.clearTimeout(d.u),d.u=null),va(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&u.clearTimeout(d.s),d.s=null)}function Zr(d){if(!Gn(d.h)&&!d.s){d.s=!0;var _=d.Ga;fe||le(),Q||(fe(),Q=!0),ae.add(_,d),d.B=0}}function Vf(d,_){return Tu(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Er(v(d.Ga,d,_),Mu(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const G=new Sr(this,this.j,d);let Z=this.o;if(this.S&&(Z?(Z=A(Z),O(Z,this.S)):Z=this.S),this.m!==null||this.O||(G.H=Z,Z=null),this.P)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var k=this.i[E];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(_+=k,4096<_){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=ui(this,G,_),E=Kn(this.I),yt(E,"RID",d),yt(E,"CVER",22),this.D&&yt(E,"X-HTTP-Session-Id",this.D),Is(this,E),Z&&(this.O?_="headers="+encodeURIComponent(String(Cs(Z)))+"&"+_:this.m&&ci(E,this.m,Z)),$l(this.h,G),this.Ua&&yt(E,"TYPE","init"),this.P?(yt(E,"$req",_),yt(E,"SID","null"),G.T=!0,la(G,E,null)):la(G,E,_),this.G=2}}else this.G==3&&(d?ga(this,d):this.i.length==0||Gn(this.h)||ga(this))};function ga(d,_){var E;_?E=_.l:E=d.U++;const k=Kn(d.I);yt(k,"SID",d.K),yt(k,"RID",E),yt(k,"AID",d.T),Is(d,k),d.m&&d.o&&ci(k,d.m,d.o),E=new Sr(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),_&&(d.i=_.D.concat(d.i)),_=ui(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),$l(d.h,E),la(E,k,_)}function Is(d,_){d.H&&q(d.H,function(E,k){yt(_,k,E)}),d.l&&ri({},function(E,k){yt(_,k,E)})}function ui(d,_,E){E=Math.min(d.i.length,E);var k=d.l?v(d.l.Na,d.l,d):null;e:{var G=d.i;let Z=-1;for(;;){const he=["count="+E];Z==-1?0<E?(Z=G[0].g,he.push("ofs="+Z)):Z=0:he.push("ofs="+Z);let pt=!0;for(let Kt=0;Kt<E;Kt++){let et=G[Kt].g;const tn=G[Kt].map;if(et-=Z,0>et)Z=Math.max(0,G[Kt].g-100),pt=!1;else try{Nu(tn,he,"req"+et+"_")}catch{k&&k(tn)}}if(pt){k=he.join("&");break e}}}return d=d.i.splice(0,E),_.D=d,k}function yo(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;fe||le(),Q||(fe(),Q=!0),ae.add(_,d),d.v=0}}function ya(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Er(v(d.Fa,d),Mu(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Ou(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Er(v(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ft(10),Pr(this),Ou(this))};function Kl(d){d.A!=null&&(u.clearTimeout(d.A),d.A=null)}function Ou(d){d.g=new Sr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=Kn(d.qa);yt(_,"RID","rpc"),yt(_,"SID",d.K),yt(_,"AID",d.T),yt(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&yt(_,"TO",d.ja),yt(_,"TYPE","xmlhttp"),Is(d,_),d.m&&d.o&&ci(_,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=oi(Kn(_)),E.m=null,E.P=!0,Ul(E,d)}n.Za=function(){this.C!=null&&(this.C=null,Pr(this),ya(this),Ft(19))};function va(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function wa(d,_){var E=null;if(d.g==_){va(d),Kl(d),d.g=null;var k=2}else if(In(d.h,_))E=_.D,Su(d.h,_),k=1;else return;if(d.G!=0){if(_.o)if(k==1){E=_.m?_.m.length:0,_=Date.now()-_.F;var G=d.B;k=oo(),mt(k,new sa(k,E)),Zr(d)}else yo(d);else if(G=_.s,G==3||G==0&&0<_.X||!(k==1&&Vf(d,_)||k==2&&ya(d)))switch(E&&0<E.length&&(_=d.h,_.i=_.i.concat(E)),G){case 1:As(d,5);break;case 4:As(d,10);break;case 3:As(d,6);break;default:As(d,2)}}}function Mu(d,_){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*_}function As(d,_){if(d.j.info("Error code "+_),_==2){var E=v(d.fb,d),k=d.Xa;const G=!k;k=new Ts(k||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||po(k,"https"),oi(k),G?Mf(k.toString(),E):ku(k.toString(),E)}else Ft(2);d.G=0,d.l&&d.l.sa(_),Lu(d),ma(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Ft(2)):(this.j.info("Failed to ping google.com"),Ft(1))};function Lu(d){if(d.G=0,d.ka=[],d.l){const _=Cu(d.h);(_.length!=0||d.i.length!=0)&&(T(d.ka,_),T(d.ka,d.i),d.h.i.length=0,b(d.i),d.i.length=0),d.l.ra()}}function ju(d,_,E){var k=E instanceof Ts?Kn(E):new Ts(E);if(k.g!="")_&&(k.g=_+"."+k.g),si(k,k.s);else{var G=u.location;k=G.protocol,_=_?_+"."+G.hostname:G.hostname,G=+G.port;var Z=new Ts(null);k&&po(Z,k),_&&(Z.g=_),G&&si(Z,G),E&&(Z.l=E),k=Z}return E=d.D,_=d.ya,E&&_&&yt(k,E,_),yt(k,"VER",d.la),Is(d,k),k}function Vu(d,_,E){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new It(new Ss({eb:E})):new It(d.pa),_.Ha(d.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ql(){}n=Ql.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function _a(){}_a.prototype.g=function(d,_){return new An(d,_)};function An(d,_){Xe.call(this),this.g=new Gl(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!j(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!j(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new es(this)}R(An,Xe),An.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){un(this.g)},An.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=Es(d),d=E);_.i.push(new bu(_.Ya++,d)),_.G==3&&Zr(_)},An.prototype.N=function(){this.g.l=null,delete this.j,un(this.g),delete this.g,An.aa.N.call(this)};function Fu(d){Vt.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const E in _){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}R(Fu,Vt);function Uu(){xr.call(this),this.status=1}R(Uu,xr);function es(d){this.g=d}R(es,Ql),es.prototype.ua=function(){mt(this.g,"a")},es.prototype.ta=function(d){mt(this.g,new Fu(d))},es.prototype.sa=function(d){mt(this.g,new Uu)},es.prototype.ra=function(){mt(this.g,"b")},_a.prototype.createWebChannel=_a.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,mT=function(){return new _a},pT=function(){return oo()},fT=ar,vg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},oa.NO_ERROR=0,oa.TIMEOUT=8,oa.HTTP_ERROR=6,lh=oa,wu.COMPLETE="complete",hT=wu,nt.EventType=Rt,Rt.OPEN="a",Rt.CLOSE="b",Rt.ERROR="c",Rt.MESSAGE="d",Xe.prototype.listen=Xe.prototype.K,Ac=nt,It.prototype.listenOnce=It.prototype.L,It.prototype.getLastError=It.prototype.Ka,It.prototype.getLastErrorCode=It.prototype.Ba,It.prototype.getStatus=It.prototype.Z,It.prototype.getResponseJson=It.prototype.Oa,It.prototype.getResponseText=It.prototype.oa,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Ha,dT=It}).apply(typeof Bd<"u"?Bd:typeof self<"u"?self:typeof window<"u"?window:{});const q_="@firebase/firestore",G_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=new my("@firebase/firestore");function Ha(){return Go.logLevel}function we(n,...e){if(Go.logLevel<=Ge.DEBUG){const t=e.map(Ry);Go.debug(`Firestore (${kl}): ${n}`,...t)}}function Xs(n,...e){if(Go.logLevel<=Ge.ERROR){const t=e.map(Ry);Go.error(`Firestore (${kl}): ${n}`,...t)}}function Ko(n,...e){if(Go.logLevel<=Ge.WARN){const t=e.map(Ry);Go.warn(`Firestore (${kl}): ${n}`,...t)}}function Ry(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,gT(n,r,t)}function gT(n,e,t){let r=`FIRESTORE (${kl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Xs(r),new Error(r)}function dt(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||gT(e,i,r)}function Fe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends ws{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Tn.UNAUTHENTICATED))}shutdown(){}}class z5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class $5{constructor(e){this.t=e,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){dt(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new Hi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Hi,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},u=f=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(f=>u(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Hi)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(dt(typeof r.accessToken=="string",31837,{l:r}),new yT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string",2055,{h:e}),new Tn(e)}}class B5{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class W5{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new B5(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class K_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class H5{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){dt(this.o===void 0,3512);const r=a=>{a.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,we("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new K_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(dt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new K_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q5(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=q5(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function Ke(n,e){return n<e?-1:n>e?1:0}function wg(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const i=n.charAt(r),a=e.charAt(r);if(i!==a)return Cm(i)===Cm(a)?Ke(i,a):Cm(i)?1:-1}return Ke(n.length,e.length)}const G5=55296,K5=57343;function Cm(n){const e=n.charCodeAt(0);return e>=G5&&e<=K5}function ml(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="__name__";class is{constructor(e,t,r){t===void 0?t=0:t>e.length&&De(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&De(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return is.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof is?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=is.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return Ke(e.length,t.length)}static compareSegments(e,t){const r=is.isNumericId(e),i=is.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?is.extractNumericId(e).compare(is.extractNumericId(t)):wg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wi.fromString(e.substring(4,e.length-2))}}class Nt extends is{construct(e,t,r){return new Nt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ce(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Nt(t)}static emptyPath(){return new Nt([])}}const Q5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends is{construct(e,t,r){return new an(e,t,r)}static isValidIdentifier(e){return Q5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Q_}static keyField(){return new an([Q_])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Ce(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Ce(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ce(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(a(),i++)}if(a(),l)throw new Ce(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(t)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(Nt.fromString(e))}static fromName(e){return new Ae(Nt.fromString(e).popFirst(5))}static empty(){return new Ae(Nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new Nt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y5(n,e,t){if(!t)throw new Ce(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function wT(n,e,t,r){if(e===!0&&r===!0)throw new Ce(ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Y_(n){if(!Ae.isDocumentKey(n))throw new Ce(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function _T(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Py(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":De(12329,{type:typeof n})}function Hs(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ce(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Py(n);throw new Ce(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(n,e){const t={typeString:n};return e&&(t.value=e),t}function hu(n,e){if(!_T(n))throw new Ce(ie.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(i&&typeof l!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new Ce(ie.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=-62135596800,J_=1e6;class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*J_);return new xt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ce(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ce(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<X_)throw new Ce(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/J_}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hu(e,xt._jsonSchema))return new xt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-X_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xt._jsonSchemaVersion="firestore/timestamp/1.0",xt._jsonSchema={type:Ht("string",xt._jsonSchemaVersion),seconds:Ht("number"),nanoseconds:Ht("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new xt(0,0))}static max(){return new je(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=-1;function X5(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=je.fromTimestamp(r===1e9?new xt(t+1,0):new xt(t,r));return new Ji(i,Ae.empty(),e)}function J5(n){return new Ji(n.readTime,n.key,Xc)}class Ji{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ji(je.min(),Ae.empty(),Xc)}static max(){return new Ji(je.max(),Ae.empty(),Xc)}}function Z5(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ae.comparator(n.documentKey,e.documentKey),t!==0?t:Ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==eM)throw n;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,r)=>{t(e)})}static reject(e){return new te((t,r)=>{r(e)})}static waitFor(e){return new te((t,r)=>{let i=0,a=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++a,l&&a===i&&t()},f=>r(f))}),l=!0,a===i&&t()})}static or(e){let t=te.resolve(!1);for(const r of e)t=t.next(i=>i?te.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new te((r,i)=>{const a=e.length,l=new Array(a);let u=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next(y=>{l[p]=y,++u,u===a&&r(l)},y=>i(y))}})}static doWhile(e,t){return new te((r,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):r()};a()})}}function nM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Dl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky=-1;function ff(n){return n==null}function Ph(n){return n===0&&1/n==-1/0}function rM(n){return typeof n=="number"&&Number.isInteger(n)&&!Ph(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="";function sM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Z_(e)),e=iM(n.get(t),e);return Z_(e)}function iM(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case xT:t+="";break;default:t+=a}}return t}function Z_(n){return n+xT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ea(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ET(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,t){this.comparator=e,this.root=t||fn.EMPTY}insert(e,t){return new Dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new Dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wd(this.root,e,this.comparator,!0)}}class Wd{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??fn.RED,this.left=i??fn.EMPTY,this.right=a??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new fn(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return fn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,t,r,i,a){return this}insert(e,t,r){return new fn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tx(this.data.getIterator())}getIteratorFrom(e){return new tx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Zt(this.comparator);return t.data=e,t}}class tx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new Ur([])}unionWith(e){let t=new Zt(an.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ur(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ml(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new bT("Invalid base64 string: "+a):a}}(e);return new ln(t)}static fromUint8Array(e){const t=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new ln(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const oM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zi(n){if(dt(!!n,39018),typeof n=="string"){let e=0;const t=oM.exec(n);if(dt(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:zt(n.seconds),nanos:zt(n.nanos)}}function zt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function eo(n){return typeof n=="string"?ln.fromBase64String(n):ln.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="server_timestamp",ST="__type__",CT="__previous_value__",IT="__local_write_time__";function Ny(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[ST])==null?void 0:r.stringValue)===TT}function pf(n){const e=n.mapValue.fields[CT];return Ny(e)?pf(e):e}function Jc(n){const e=Zi(n.mapValue.fields[IT].timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,t,r,i,a,l,u,f,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=y}}const kh="(default)";class gl{constructor(e,t){this.projectId=e,this.database=t||kh}static empty(){return new gl("","")}get isDefaultDatabase(){return this.database===kh}isEqual(e){return e instanceof gl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="__type__",lM="__max__",Hd={mapValue:{}},RT="__vector__",Nh="value";function to(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ny(n)?4:uM(n)?9007199254740991:cM(n)?10:11:De(28295,{value:n})}function ms(n,e){if(n===e)return!0;const t=to(n);if(t!==to(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Jc(n).isEqual(Jc(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=Zi(i.timestampValue),u=Zi(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,a){return eo(i.bytesValue).isEqual(eo(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return zt(i.geoPointValue.latitude)===zt(a.geoPointValue.latitude)&&zt(i.geoPointValue.longitude)===zt(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return zt(i.integerValue)===zt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=zt(i.doubleValue),u=zt(a.doubleValue);return l===u?Ph(l)===Ph(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return ml(n.arrayValue.values||[],e.arrayValue.values||[],ms);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},u=a.mapValue.fields||{};if(ex(l)!==ex(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!ms(l[f],u[f])))return!1;return!0}(n,e);default:return De(52216,{left:n})}}function Zc(n,e){return(n.values||[]).find(t=>ms(t,e))!==void 0}function yl(n,e){if(n===e)return 0;const t=to(n),r=to(e);if(t!==r)return Ke(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ke(n.booleanValue,e.booleanValue);case 2:return function(a,l){const u=zt(a.integerValue||a.doubleValue),f=zt(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return nx(n.timestampValue,e.timestampValue);case 4:return nx(Jc(n),Jc(e));case 5:return wg(n.stringValue,e.stringValue);case 6:return function(a,l){const u=eo(a),f=eo(l);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const u=a.split("/"),f=l.split("/");for(let p=0;p<u.length&&p<f.length;p++){const y=Ke(u[p],f[p]);if(y!==0)return y}return Ke(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const u=Ke(zt(a.latitude),zt(l.latitude));return u!==0?u:Ke(zt(a.longitude),zt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return rx(n.arrayValue,e.arrayValue);case 10:return function(a,l){var v,C,R,b;const u=a.fields||{},f=l.fields||{},p=(v=u[Nh])==null?void 0:v.arrayValue,y=(C=f[Nh])==null?void 0:C.arrayValue,w=Ke(((R=p==null?void 0:p.values)==null?void 0:R.length)||0,((b=y==null?void 0:y.values)==null?void 0:b.length)||0);return w!==0?w:rx(p,y)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===Hd.mapValue&&l===Hd.mapValue)return 0;if(a===Hd.mapValue)return 1;if(l===Hd.mapValue)return-1;const u=a.fields||{},f=Object.keys(u),p=l.fields||{},y=Object.keys(p);f.sort(),y.sort();for(let w=0;w<f.length&&w<y.length;++w){const v=wg(f[w],y[w]);if(v!==0)return v;const C=yl(u[f[w]],p[y[w]]);if(C!==0)return C}return Ke(f.length,y.length)}(n.mapValue,e.mapValue);default:throw De(23264,{he:t})}}function nx(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ke(n,e);const t=Zi(n),r=Zi(e),i=Ke(t.seconds,r.seconds);return i!==0?i:Ke(t.nanos,r.nanos)}function rx(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=yl(t[i],r[i]);if(a)return a}return Ke(t.length,r.length)}function vl(n){return _g(n)}function _g(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Zi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return eo(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ae.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=_g(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${_g(t.fields[l])}`;return i+"}"}(n.mapValue):De(61005,{value:n})}function ch(n){switch(to(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pf(n);return e?16+ch(e):16;case 5:return 2*n.stringValue.length;case 6:return eo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+ch(a),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return ea(r.fields,(a,l)=>{i+=a.length+ch(l)}),i}(n.mapValue);default:throw De(13486,{value:n})}}function xg(n){return!!n&&"integerValue"in n}function Dy(n){return!!n&&"arrayValue"in n}function sx(n){return!!n&&"nullValue"in n}function ix(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function uh(n){return!!n&&"mapValue"in n}function cM(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[AT])==null?void 0:r.stringValue)===RT}function Lc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ea(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Lc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Lc(n.arrayValue.values[t]);return e}return{...n}}function uM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===lM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.value=e}static empty(){return new vr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!uh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lc(t)}setAll(e){let t=an.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const f=this.getFieldsMap(t);this.applyChanges(f,r,i),r={},i=[],t=u.popLast()}l?r[u.lastSegment()]=Lc(l):i.push(u.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());uh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ms(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];uh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ea(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new vr(Lc(this.value))}}function PT(n){const e=[];return ea(n.fields,(t,r)=>{const i=new an([t]);if(uh(r)){const a=PT(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new Ur(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,t,r,i,a,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Sn(e,0,je.min(),je.min(),je.min(),vr.empty(),0)}static newFoundDocument(e,t,r,i){return new Sn(e,1,t,je.min(),r,i,0)}static newNoDocument(e,t){return new Sn(e,2,t,je.min(),je.min(),vr.empty(),0)}static newUnknownDocument(e,t){return new Sn(e,3,t,je.min(),je.min(),vr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,t){this.position=e,this.inclusive=t}}function ox(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(a.field.isKeyField()?r=Ae.comparator(Ae.fromName(l.referenceValue),t.key):r=yl(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function ax(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ms(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,t="asc"){this.field=e,this.dir=t}}function dM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{}class Xt extends kT{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new fM(e,t,r):t==="array-contains"?new gM(e,r):t==="in"?new yM(e,r):t==="not-in"?new vM(e,r):t==="array-contains-any"?new wM(e,r):new Xt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new pM(e,r):new mM(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(yl(t,this.value)):t!==null&&to(this.value)===to(t)&&this.matchesComparison(yl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gs extends kT{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new gs(e,t)}matches(e){return NT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function NT(n){return n.op==="and"}function DT(n){return hM(n)&&NT(n)}function hM(n){for(const e of n.filters)if(e instanceof gs)return!1;return!0}function Eg(n){if(n instanceof Xt)return n.field.canonicalString()+n.op.toString()+vl(n.value);if(DT(n))return n.filters.map(e=>Eg(e)).join(",");{const e=n.filters.map(t=>Eg(t)).join(",");return`${n.op}(${e})`}}function OT(n,e){return n instanceof Xt?function(r,i){return i instanceof Xt&&r.op===i.op&&r.field.isEqual(i.field)&&ms(r.value,i.value)}(n,e):n instanceof gs?function(r,i){return i instanceof gs&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,l,u)=>a&&OT(l,i.filters[u]),!0):!1}(n,e):void De(19439)}function MT(n){return n instanceof Xt?function(t){return`${t.field.canonicalString()} ${t.op} ${vl(t.value)}`}(n):n instanceof gs?function(t){return t.op.toString()+" {"+t.getFilters().map(MT).join(" ,")+"}"}(n):"Filter"}class fM extends Xt{constructor(e,t,r){super(e,t,r),this.key=Ae.fromName(r.referenceValue)}matches(e){const t=Ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class pM extends Xt{constructor(e,t){super(e,"in",t),this.keys=LT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class mM extends Xt{constructor(e,t){super(e,"not-in",t),this.keys=LT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function LT(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map(r=>Ae.fromName(r.referenceValue))}class gM extends Xt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Dy(t)&&Zc(t.arrayValue,this.value)}}class yM extends Xt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Zc(this.value.arrayValue,t)}}class vM extends Xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Zc(this.value.arrayValue,t)}}class wM extends Xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Dy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Zc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e,t=null,r=[],i=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=u,this.Te=null}}function lx(n,e=null,t=[],r=[],i=null,a=null,l=null){return new _M(n,e,t,r,i,a,l)}function Oy(n){const e=Fe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Eg(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),ff(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>vl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>vl(r)).join(",")),e.Te=t}return e.Te}function My(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!dM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!OT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ax(n.startAt,e.startAt)&&ax(n.endAt,e.endAt)}function bg(n){return Ae.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,t=null,r=[],i=[],a=null,l="F",u=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function xM(n,e,t,r,i,a,l,u){return new mf(n,e,t,r,i,a,l,u)}function gf(n){return new mf(n)}function cx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function EM(n){return n.collectionGroup!==null}function jc(n){const e=Fe(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Zt(an.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(u=u.add(p.field))})}),u})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Oh(a,r))}),t.has(an.keyField().canonicalString())||e.Ie.push(new Oh(an.keyField(),r))}return e.Ie}function hs(n){const e=Fe(n);return e.Ee||(e.Ee=bM(e,jc(n))),e.Ee}function bM(n,e){if(n.limitType==="F")return lx(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Oh(i.field,a)});const t=n.endAt?new Dh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Dh(n.startAt.position,n.startAt.inclusive):null;return lx(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Tg(n,e,t){return new mf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function yf(n,e){return My(hs(n),hs(e))&&n.limitType===e.limitType}function jT(n){return`${Oy(hs(n))}|lt:${n.limitType}`}function qa(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>MT(i)).join(", ")}]`),ff(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>vl(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>vl(i)).join(",")),`Target(${r})`}(hs(n))}; limitType=${n.limitType})`}function vf(n,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ae.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,i){for(const a of jc(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,u,f){const p=ox(l,u,f);return l.inclusive?p<=0:p<0}(r.startAt,jc(r),i)||r.endAt&&!function(l,u,f){const p=ox(l,u,f);return l.inclusive?p>=0:p>0}(r.endAt,jc(r),i))}(n,e)}function TM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function VT(n){return(e,t)=>{let r=!1;for(const i of jc(n)){const a=SM(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function SM(n,e,t){const r=n.field.isKeyField()?Ae.comparator(e.key,t.key):function(a,l,u){const f=l.data.field(a),p=u.data.field(a);return f!==null&&p!==null?yl(f,p):De(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return De(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ea(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return ET(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM=new Dt(Ae.comparator);function Js(){return CM}const FT=new Dt(Ae.comparator);function Rc(...n){let e=FT;for(const t of n)e=e.insert(t.key,t);return e}function UT(n){let e=FT;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Do(){return Vc()}function zT(){return Vc()}function Vc(){return new ta(n=>n.toString(),(n,e)=>n.isEqual(e))}const IM=new Dt(Ae.comparator),AM=new Zt(Ae.comparator);function Qe(...n){let e=AM;for(const t of n)e=e.add(t);return e}const RM=new Zt(Ke);function PM(){return RM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ph(e)?"-0":e}}function $T(n){return{integerValue:""+n}}function kM(n,e){return rM(e)?$T(e):Ly(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(){this._=void 0}}function NM(n,e,t){return n instanceof eu?function(i,a){const l={fields:{[ST]:{stringValue:TT},[IT]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Ny(a)&&(a=pf(a)),a&&(l.fields[CT]=a),{mapValue:l}}(t,e):n instanceof tu?WT(n,e):n instanceof nu?HT(n,e):function(i,a){const l=BT(i,a),u=ux(l)+ux(i.Ae);return xg(l)&&xg(i.Ae)?$T(u):Ly(i.serializer,u)}(n,e)}function DM(n,e,t){return n instanceof tu?WT(n,e):n instanceof nu?HT(n,e):t}function BT(n,e){return n instanceof Mh?function(r){return xg(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class eu extends wf{}class tu extends wf{constructor(e){super(),this.elements=e}}function WT(n,e){const t=qT(e);for(const r of n.elements)t.some(i=>ms(i,r))||t.push(r);return{arrayValue:{values:t}}}class nu extends wf{constructor(e){super(),this.elements=e}}function HT(n,e){let t=qT(e);for(const r of n.elements)t=t.filter(i=>!ms(i,r));return{arrayValue:{values:t}}}class Mh extends wf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function ux(n){return zt(n.integerValue||n.doubleValue)}function qT(n){return Dy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,t){this.field=e,this.transform=t}}function MM(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof tu&&i instanceof tu||r instanceof nu&&i instanceof nu?ml(r.elements,i.elements,ms):r instanceof Mh&&i instanceof Mh?ms(r.Ae,i.Ae):r instanceof eu&&i instanceof eu}(n.transform,e.transform)}class LM{constructor(e,t){this.version=e,this.transformResults=t}}class qs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new qs}static exists(e){return new qs(void 0,e)}static updateTime(e){return new qs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class _f{}function GT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new QT(n.key,qs.none()):new fu(n.key,n.data,qs.none());{const t=n.data,r=vr.empty();let i=new Zt(an.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new na(n.key,r,new Ur(i.toArray()),qs.none())}}function jM(n,e,t){n instanceof fu?function(i,a,l){const u=i.value.clone(),f=hx(i.fieldTransforms,a,l.transformResults);u.setAll(f),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof na?function(i,a,l){if(!dh(i.precondition,a))return void a.convertToUnknownDocument(l.version);const u=hx(i.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(KT(i)),f.setAll(u),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Fc(n,e,t,r){return n instanceof fu?function(a,l,u,f){if(!dh(a.precondition,l))return u;const p=a.value.clone(),y=fx(a.fieldTransforms,f,l);return p.setAll(y),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof na?function(a,l,u,f){if(!dh(a.precondition,l))return u;const p=fx(a.fieldTransforms,f,l),y=l.data;return y.setAll(KT(a)),y.setAll(p),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(n,e,t,r):function(a,l,u){return dh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function VM(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=BT(r.transform,i||null);a!=null&&(t===null&&(t=vr.empty()),t.set(r.field,a))}return t||null}function dx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ml(r,i,(a,l)=>MM(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class fu extends _f{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class na extends _f{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function KT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function hx(n,e,t){const r=new Map;dt(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,u=e.data.field(a.field);r.set(a.field,DM(l,u,t[i]))}return r}function fx(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,NM(a,l,e))}return r}class QT extends _f{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FM extends _f{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&jM(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Fc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Fc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=zT();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=t.has(i.key)?null:u;const f=GT(l,u);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(je.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Qe())}isEqual(e){return this.batchId===e.batchId&&ml(this.mutations,e.mutations,(t,r)=>dx(t,r))&&ml(this.baseMutations,e.baseMutations,(t,r)=>dx(t,r))}}class jy{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){dt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return IM}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new jy(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zM=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt,tt;function BM(n){switch(n){case ie.OK:return De(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return De(15467,{code:n})}}function YT(n){if(n===void 0)return Xs("GRPC error has no .code"),ie.UNKNOWN;switch(n){case Wt.OK:return ie.OK;case Wt.CANCELLED:return ie.CANCELLED;case Wt.UNKNOWN:return ie.UNKNOWN;case Wt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Wt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Wt.INTERNAL:return ie.INTERNAL;case Wt.UNAVAILABLE:return ie.UNAVAILABLE;case Wt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Wt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Wt.NOT_FOUND:return ie.NOT_FOUND;case Wt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Wt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Wt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Wt.ABORTED:return ie.ABORTED;case Wt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Wt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Wt.DATA_LOSS:return ie.DATA_LOSS;default:return De(39323,{code:n})}}(tt=Wt||(Wt={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=new Wi([4294967295,4294967295],0);function px(n){const e=WM().encode(n),t=new uT;return t.update(e),new Uint8Array(t.digest())}function mx(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Wi([t,r],0),new Wi([i,a],0)]}class Vy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Pc(`Invalid padding: ${t}`);if(r<0)throw new Pc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Pc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Pc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Wi.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(Wi.fromNumber(r)));return i.compare(HM)===1&&(i=new Wi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=px(e),[r,i]=mx(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);if(!this.we(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Vy(a,i,t);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.ge===0)return;const t=px(e),[r,i]=mx(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Pc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,pu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new xf(je.min(),i,new Dt(Ke),Js(),Qe())}}class pu{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new pu(r,t,Qe(),Qe(),Qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,t,r,i){this.be=e,this.removedTargetIds=t,this.key=r,this.De=i}}class XT{constructor(e,t){this.targetId=e,this.Ce=t}}class JT{constructor(e,t,r=ln.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class gx{constructor(){this.ve=0,this.Fe=yx(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Qe(),t=Qe(),r=Qe();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:De(38017,{changeType:a})}}),new pu(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=yx()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,dt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class qM{constructor(e){this.Ge=e,this.ze=new Map,this.je=Js(),this.Je=qd(),this.He=qd(),this.Ye=new Dt(Ke)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:De(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((r,i)=>{this.rt(i)&&t(i)})}st(e){const t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){const a=i.target;if(bg(a))if(r===0){const l=new Ae(a.path);this.et(t,l,Sn.newNoDocument(l,je.min()))}else dt(r===1,20013,{expectedCount:r});else{const l=this._t(t);if(l!==r){const u=this.ut(e),f=u?this.ct(u,e,l):1;if(f!==0){this.it(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let l,u;try{l=eo(r).toUint8Array()}catch(f){if(f instanceof bT)return Ko("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new Vy(l,i,a)}catch(f){return Ko(f instanceof Pc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let i=0;return r.forEach(a=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.et(t,a,null),i++)}),i}Tt(e){const t=new Map;this.ze.forEach((a,l)=>{const u=this.ot(l);if(u){if(a.current&&bg(u.target)){const f=new Ae(u.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,Sn.newNoDocument(f,e))}a.Be&&(t.set(l,a.ke()),a.qe())}});let r=Qe();this.He.forEach((a,l)=>{let u=!0;l.forEachWhile(f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(a))}),this.je.forEach((a,l)=>l.setReadTime(e));const i=new xf(e,t,this.Ye,this.je,r);return this.je=Js(),this.Je=qd(),this.He=qd(),this.Ye=new Dt(Ke),i}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new gx,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Zt(Ke),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Zt(Ke),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||we("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new gx),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function qd(){return new Dt(Ae.comparator)}function yx(){return new Dt(Ae.comparator)}const GM={asc:"ASCENDING",desc:"DESCENDING"},KM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QM={and:"AND",or:"OR"};class YM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Sg(n,e){return n.useProto3Json||ff(e)?e:{value:e}}function Lh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function XM(n,e){return Lh(n,e.toTimestamp())}function fs(n){return dt(!!n,49232),je.fromTimestamp(function(t){const r=Zi(t);return new xt(r.seconds,r.nanos)}(n))}function Fy(n,e){return Cg(n,e).canonicalString()}function Cg(n,e){const t=function(i){return new Nt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function eS(n){const e=Nt.fromString(n);return dt(iS(e),10190,{key:e.toString()}),e}function Ig(n,e){return Fy(n.databaseId,e.path)}function Im(n,e){const t=eS(e);if(t.get(1)!==n.databaseId.projectId)throw new Ce(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ce(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ae(nS(t))}function tS(n,e){return Fy(n.databaseId,e)}function JM(n){const e=eS(n);return e.length===4?Nt.emptyPath():nS(e)}function Ag(n){return new Nt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function nS(n){return dt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function vx(n,e,t){return{name:Ig(n,e),fields:t.value.mapValue.fields}}function ZM(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:De(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(p,y){return p.useProto3Json?(dt(y===void 0||typeof y=="string",58123),ln.fromBase64String(y||"")):(dt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),ln.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(p){const y=p.code===void 0?ie.UNKNOWN:YT(p.code);return new Ce(y,p.message||"")}(l);t=new JT(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Im(n,r.document.name),a=fs(r.document.updateTime),l=r.document.createTime?fs(r.document.createTime):je.min(),u=new vr({mapValue:{fields:r.document.fields}}),f=Sn.newFoundDocument(i,a,l,u),p=r.targetIds||[],y=r.removedTargetIds||[];t=new hh(p,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Im(n,r.document),a=r.readTime?fs(r.readTime):je.min(),l=Sn.newNoDocument(i,a),u=r.removedTargetIds||[];t=new hh([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Im(n,r.document),a=r.removedTargetIds||[];t=new hh([],a,i,null)}else{if(!("filter"in e))return De(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new $M(i,a),u=r.targetId;t=new XT(u,l)}}return t}function eL(n,e){let t;if(e instanceof fu)t={update:vx(n,e.key,e.value)};else if(e instanceof QT)t={delete:Ig(n,e.key)};else if(e instanceof na)t={update:vx(n,e.key,e.data),updateMask:cL(e.fieldMask)};else{if(!(e instanceof FM))return De(16599,{Vt:e.type});t={verify:Ig(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const u=l.transform;if(u instanceof eu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof tu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof nu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Mh)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw De(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:XM(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:De(27497)}(n,e.precondition)),t}function tL(n,e){return n&&n.length>0?(dt(e!==void 0,14353),n.map(t=>function(i,a){let l=i.updateTime?fs(i.updateTime):fs(a);return l.isEqual(je.min())&&(l=fs(a)),new LM(l,i.transformResults||[])}(t,e))):[]}function nL(n,e){return{documents:[tS(n,e.path)]}}function rL(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=tS(n,i);const a=function(p){if(p.length!==0)return sS(gs.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(y=>function(v){return{field:Ga(v.field),direction:oL(v.dir)}}(y))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=Sg(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ft:t,parent:i}}function sL(n){let e=JM(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){dt(r===1,65062);const y=t.from[0];y.allDescendants?i=y.collectionId:e=e.child(y.collectionId)}let a=[];t.where&&(a=function(w){const v=rS(w);return v instanceof gs&&DT(v)?v.getFilters():[v]}(t.where));let l=[];t.orderBy&&(l=function(w){return w.map(v=>function(R){return new Oh(Ka(R.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(v))}(t.orderBy));let u=null;t.limit&&(u=function(w){let v;return v=typeof w=="object"?w.value:w,ff(v)?null:v}(t.limit));let f=null;t.startAt&&(f=function(w){const v=!!w.before,C=w.values||[];return new Dh(C,v)}(t.startAt));let p=null;return t.endAt&&(p=function(w){const v=!w.before,C=w.values||[];return new Dh(C,v)}(t.endAt)),xM(e,i,l,a,u,"F",f,p)}function iL(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function rS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ka(t.unaryFilter.field);return Xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ka(t.unaryFilter.field);return Xt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ka(t.unaryFilter.field);return Xt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ka(t.unaryFilter.field);return Xt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}}(n):n.fieldFilter!==void 0?function(t){return Xt.create(Ka(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return gs.create(t.compositeFilter.filters.map(r=>rS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return De(1026)}}(t.compositeFilter.op))}(n):De(30097,{filter:n})}function oL(n){return GM[n]}function aL(n){return KM[n]}function lL(n){return QM[n]}function Ga(n){return{fieldPath:n.canonicalString()}}function Ka(n){return an.fromServerFormat(n.fieldPath)}function sS(n){return n instanceof Xt?function(t){if(t.op==="=="){if(ix(t.value))return{unaryFilter:{field:Ga(t.field),op:"IS_NAN"}};if(sx(t.value))return{unaryFilter:{field:Ga(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(ix(t.value))return{unaryFilter:{field:Ga(t.field),op:"IS_NOT_NAN"}};if(sx(t.value))return{unaryFilter:{field:Ga(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(t.field),op:aL(t.op),value:t.value}}}(n):n instanceof gs?function(t){const r=t.getFilters().map(i=>sS(i));return r.length===1?r[0]:{compositeFilter:{op:lL(t.op),filters:r}}}(n):De(54877,{filter:n})}function cL(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function iS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,t,r,i,a=je.min(),l=je.min(),u=ln.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e){this.yt=e}}function dL(n){const e=sL({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Tg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(){this.Cn=new fL}addToCollectionParentIndex(e,t){return this.Cn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(Ji.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(Ji.min())}updateCollectionGroup(e,t,r){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class fL{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Zt(Nt.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Zt(Nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oS=41943040;class Hn{static withCacheSize(e){return new Hn(e,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hn.DEFAULT_COLLECTION_PERCENTILE=10,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hn.DEFAULT=new Hn(oS,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hn.DISABLED=new Hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new wl(0)}static cr(){return new wl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="LruGarbageCollector",pL=1048576;function xx([n,e],[t,r]){const i=Ke(n,t);return i===0?Ke(e,r):i}class mL{constructor(e){this.Ir=e,this.buffer=new Zt(xx),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();xx(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class gL{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){we(_x,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Dl(t)?we(_x,"Ignoring IndexedDB error during garbage collection: ",t):await Nl(t)}await this.Vr(3e5)})}}class yL{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return te.resolve(hf.ce);const r=new mL(t);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(wx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wx):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,i,a,l,u,f,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),i=this.params.maximumSequenceNumbersToCollect):i=w,l=Date.now(),this.nthSequenceNumber(e,i))).next(w=>(r=w,u=Date.now(),this.removeTargets(e,r,t))).next(w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(p=Date.now(),Ha()<=Ge.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-y}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${a} targets in `+(f-u)+`ms
	Removed ${w} documents in `+(p-f)+`ms
Total Duration: ${p-y}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:w})))}}function vL(n,e){return new yL(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(){this.changes=new ta(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Sn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?te.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Fc(r.mutation,i,Ur.empty(),xt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Qe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Qe()){const i=Do();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=Rc();return a.forEach((u,f)=>{l=l.insert(u,f.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Do();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Qe()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,r,i){let a=Js();const l=Vc(),u=function(){return Vc()}();return t.forEach((f,p)=>{const y=r.get(p.key);i.has(p.key)&&(y===void 0||y.mutation instanceof na)?a=a.insert(p.key,p):y!==void 0?(l.set(p.key,y.mutation.getFieldMask()),Fc(y.mutation,p,y.mutation.getFieldMask(),xt.now())):l.set(p.key,Ur.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,y)=>l.set(p,y)),t.forEach((p,y)=>u.set(p,new _L(y,l.get(p)??null))),u))}recalculateAndSaveOverlays(e,t){const r=Vc();let i=new Dt((l,u)=>l-u),a=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let y=r.get(f)||Ur.empty();y=u.applyToLocalView(p,y),r.set(f,y);const w=(i.get(u.batchId)||Qe()).add(f);i=i.insert(u.batchId,w)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),p=f.key,y=f.value,w=zT();y.forEach(v=>{if(!a.has(v)){const C=GT(t.get(v),r.get(v));C!==null&&w.set(v,C),a=a.add(v)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,w))}return te.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return Ae.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):EM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):te.resolve(Do());let u=Xc,f=a;return l.next(p=>te.forEach(p,(y,w)=>(u<w.largestBatchId&&(u=w.largestBatchId),a.get(y)?te.resolve():this.remoteDocumentCache.getEntry(e,y).next(v=>{f=f.insert(y,v)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,Qe())).next(y=>({batchId:u,changes:UT(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ae(t)).next(r=>{let i=Rc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let l=Rc();return this.indexManager.getCollectionParents(e,a).next(u=>te.forEach(u,f=>{const p=function(w,v){return new mf(v,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(y=>{y.forEach((w,v)=>{l=l.insert(w,v)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i))).next(l=>{a.forEach((f,p)=>{const y=p.getKey();l.get(y)===null&&(l=l.insert(y,Sn.newInvalidDocument(y)))});let u=Rc();return l.forEach((f,p)=>{const y=a.get(f);y!==void 0&&Fc(y.mutation,p,Ur.empty(),xt.now()),vf(t,p)&&(u=u.insert(f,p))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return te.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:fs(i.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(i){return{name:i.name,query:dL(i.bundledQuery),readTime:fs(i.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(){this.overlays=new Dt(Ae.comparator),this.qr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Do();return te.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.St(e,t,a)}),te.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),te.resolve()}getOverlaysForCollection(e,t,r){const i=Do(),a=t.length+1,l=new Ae(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return te.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Dt((p,y)=>p-y);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let y=a.get(p.largestBatchId);y===null&&(y=Do(),a=a.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const u=Do(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,y)=>u.set(p,y)),!(u.size()>=i)););return te.resolve(u)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new zM(t,r));let a=this.qr.get(t);a===void 0&&(a=Qe(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(){this.Qr=new Zt(on.$r),this.Ur=new Zt(on.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new on(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Gr(new on(e,t))}zr(e,t){e.forEach(r=>this.removeReference(r,t))}jr(e){const t=new Ae(new Nt([])),r=new on(t,e),i=new on(t,e+1),a=[];return this.Ur.forEachInRange([r,i],l=>{this.Gr(l),a.push(l.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ae(new Nt([])),r=new on(t,e),i=new on(t,e+1);let a=Qe();return this.Ur.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new on(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class on{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ae.comparator(e.key,t.key)||Ke(e.Yr,t.Yr)}static Kr(e,t){return Ke(e.Yr,t.Yr)||Ae.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Zt(on.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new UM(a,t,r,i);this.mutationQueue.push(l);for(const u of i)this.Zr=this.Zr.add(new on(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return te.resolve(l)}lookupMutationBatch(e,t){return te.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ei(r),a=i<0?0:i;return te.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?ky:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new on(t,0),i=new on(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],l=>{const u=this.Xr(l.Yr);a.push(u)}),te.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Zt(Ke);return t.forEach(i=>{const a=new on(i,0),l=new on(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],u=>{r=r.add(u.Yr)})}),te.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Ae.isDocumentKey(a)||(a=a.child(""));const l=new on(new Ae(a),0);let u=new Zt(Ke);return this.Zr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(u=u.add(f.Yr)),!0)},l),te.resolve(this.ti(u))}ti(e){const t=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){dt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return te.forEach(t.mutations,i=>{const a=new on(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,t){const r=new on(t,0),i=this.Zr.firstAfterOrEqual(r);return te.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e){this.ri=e,this.docs=function(){return new Dt(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return te.resolve(r?r.document.mutableCopy():Sn.newInvalidDocument(t))}getEntries(e,t){let r=Js();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Sn.newInvalidDocument(i))}),te.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=Js();const l=t.path,u=new Ae(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:p,value:{document:y}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||Z5(J5(y),r)<=0||(i.has(y.key)||vf(t,y))&&(a=a.insert(y.key,y.mutableCopy()))}return te.resolve(a)}getAllFromCollectionGroup(e,t,r,i){De(9500)}ii(e,t){return te.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new IL(this)}getSize(e){return te.resolve(this.size)}}class IL extends wL{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),te.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e){this.persistence=e,this.si=new ta(t=>Oy(t),My),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.oi=0,this._i=new Uy,this.targetCount=0,this.ai=wl.ur()}forEachTarget(e,t){return this.si.forEach((r,i)=>t(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),te.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new wl(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.Pr(t),te.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.si.forEach((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),te.waitFor(a).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return te.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),te.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),te.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return te.resolve(r)}containsKey(e,t){return te.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,t){this.ui={},this.overlays={},this.ci=new hf(0),this.li=!1,this.li=!0,this.hi=new TL,this.referenceDelegate=e(this),this.Pi=new AL(this),this.indexManager=new hL,this.remoteDocumentCache=function(i){return new CL(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new uL(t),this.Ii=new EL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new bL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new SL(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){we("MemoryPersistence","Starting transaction:",e);const i=new RL(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,t){return te.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,t)))}}class RL extends tM{constructor(e){super(),this.currentSequenceNumber=e}}class zy{constructor(e){this.persistence=e,this.Ri=new Uy,this.Vi=null}static mi(e){return new zy(e)}get fi(){if(this.Vi)return this.Vi;throw De(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),te.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),te.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,r=>{const i=Ae.fromPath(r);return this.gi(e,i).next(a=>{a||t.removeEntry(i,je.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return te.or([()=>te.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class jh{constructor(e,t){this.persistence=e,this.pi=new ta(r=>sM(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=vL(this,t)}static mi(e,t){return new jh(e,t)}Ei(){}di(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}wr(e){let t=0;return this.pr(e,r=>{t++}).next(()=>t)}pr(e,t){return te.forEach(this.pi,(r,i)=>this.br(e,r,i).next(a=>a?te.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,l=>this.br(e,l,t).next(u=>{u||(r++,a.removeEntry(l,je.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),te.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ch(e.data.value)),t}br(e,t,r){return te.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return te.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=Qe(),i=Qe();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new $y(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return ZN()?8:nM(Cn())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.ys(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ws(e,t,i,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new PL;return this.Ss(e,t,l).next(u=>{if(a.result=u,this.Vs)return this.bs(e,t,l,u.size)})}).next(()=>a.result)}bs(e,t,r,i){return r.documentReadCount<this.fs?(Ha()<=Ge.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",qa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(Ha()<=Ge.DEBUG&&we("QueryEngine","Query:",qa(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Ha()<=Ge.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",qa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hs(t))):te.resolve())}ys(e,t){if(cx(t))return te.resolve(null);let r=hs(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Tg(t,null,"F"),r=hs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=Qe(...a);return this.ps.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.Ds(t,u);return this.Cs(t,p,l,f.readTime)?this.ys(e,Tg(t,null,"F")):this.vs(e,p,t,f)}))})))}ws(e,t,r,i){return cx(t)||i.isEqual(je.min())?te.resolve(null):this.ps.getDocuments(e,r).next(a=>{const l=this.Ds(t,a);return this.Cs(t,l,r,i)?te.resolve(null):(Ha()<=Ge.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qa(t)),this.vs(e,l,t,X5(i,Xc)).next(u=>u))})}Ds(e,t){let r=new Zt(VT(e));return t.forEach((i,a)=>{vf(e,a)&&(r=r.add(a))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,t,r){return Ha()<=Ge.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",qa(t)),this.ps.getDocumentsMatchingQuery(e,t,Ji.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="LocalStore",NL=3e8;class DL{constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new Dt(Ke),this.xs=new ta(a=>Oy(a),My),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function OL(n,e,t,r){return new DL(n,e,t,r)}async function lS(n,e){const t=Fe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],u=[];let f=Qe();for(const p of i){l.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}for(const p of a){u.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(r,f).next(p=>({Ls:p,removedBatchIds:l,addedBatchIds:u}))})})}function ML(n,e){const t=Fe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return function(u,f,p,y){const w=p.batch,v=w.keys();let C=te.resolve();return v.forEach(R=>{C=C.next(()=>y.getEntry(f,R)).next(b=>{const T=p.docVersions.get(R);dt(T!==null,48541),b.version.compareTo(T)<0&&(w.applyToRemoteDocument(b,p),b.isValidDocument()&&(b.setReadTime(p.commitVersion),y.addEntry(b)))})}),C.next(()=>u.mutationQueue.removeMutationBatch(f,w))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let f=Qe();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(f=f.add(u.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function cS(n){const e=Fe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function LL(n,e){const t=Fe(n),r=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const u=[];e.targetChanges.forEach((y,w)=>{const v=i.get(w);if(!v)return;u.push(t.Pi.removeMatchingKeys(a,y.removedDocuments,w).next(()=>t.Pi.addMatchingKeys(a,y.addedDocuments,w)));let C=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?C=C.withResumeToken(ln.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,r)),i=i.insert(w,C),function(b,T,L){return b.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=NL?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(v,C,y)&&u.push(t.Pi.updateTargetData(a,C))});let f=Js(),p=Qe();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(a,y))}),u.push(jL(a,l,e.documentUpdates).next(y=>{f=y.ks,p=y.qs})),!r.isEqual(je.min())){const y=t.Pi.getLastRemoteSnapshotVersion(a).next(w=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));u.push(y)}return te.waitFor(u).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(t.Ms=i,a))}function jL(n,e,t){let r=Qe(),i=Qe();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=Js();return t.forEach((u,f)=>{const p=a.get(u);f.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(u)),f.isNoDocument()&&f.version.isEqual(je.min())?(e.removeEntry(u,f.readTime),l=l.insert(u,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(u,f)):we(By,"Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",f.version)}),{ks:l,qs:i}})}function VL(n,e){const t=Fe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ky),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function FL(n,e){const t=Fe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Pi.getTargetData(r,e).next(a=>a?(i=a,te.resolve(i)):t.Pi.allocateTargetId(r).next(l=>(i=new zi(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r})}async function Rg(n,e,t){const r=Fe(n),i=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Dl(l))throw l;we(By,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function Ex(n,e,t){const r=Fe(n);let i=je.min(),a=Qe();return r.persistence.runTransaction("Execute query","readwrite",l=>function(f,p,y){const w=Fe(f),v=w.xs.get(y);return v!==void 0?te.resolve(w.Ms.get(v)):w.Pi.getTargetData(p,y)}(r,l,hs(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next(f=>{a=f})}).next(()=>r.Fs.getDocumentsMatchingQuery(l,e,t?i:je.min(),t?a:Qe())).next(u=>(UL(r,TM(e),u),{documents:u,Qs:a})))}function UL(n,e,t){let r=n.Os.get(e)||je.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Os.set(e,r)}class bx{constructor(){this.activeTargetIds=PM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zL{constructor(){this.Mo=new bx,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new bx,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="ConnectivityMonitor";class Sx{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){we(Tx,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){we(Tx,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gd=null;function Pg(){return Gd===null?Gd=function(){return 268435456+Math.round(2147483648*Math.random())}():Gd++,"0x"+Gd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="RestConnection",BL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WL{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===kh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,t,r,i,a){const l=Pg(),u=this.zo(e,t.toUriEncodedString());we(Am,`Sending RPC '${e}' ${l}:`,u,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,a);const{host:p}=new URL(u),y=Jo(p);return this.Jo(e,u,f,r,y).then(w=>(we(Am,`Received RPC '${e}' ${l}: `,w),w),w=>{throw Ko(Am,`RPC '${e}' ${l} failed with error: `,w,"url: ",u,"request:",r),w})}Ho(e,t,r,i,a,l){return this.Go(e,t,r,i,a)}jo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+kl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}zo(e,t){const r=BL[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn="WebChannelConnection";class qL extends WL{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,a){const l=Pg();return new Promise((u,f)=>{const p=new dT;p.setWithCredentials(!0),p.listenOnce(hT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case lh.NO_ERROR:const w=p.getResponseJson();we(xn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(w)),u(w);break;case lh.TIMEOUT:we(xn,`RPC '${e}' ${l} timed out`),f(new Ce(ie.DEADLINE_EXCEEDED,"Request time out"));break;case lh.HTTP_ERROR:const v=p.getStatus();if(we(xn,`RPC '${e}' ${l} failed with status:`,v,"response text:",p.getResponseText()),v>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const R=C==null?void 0:C.error;if(R&&R.status&&R.message){const b=function(L){const j=L.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(j)>=0?j:ie.UNKNOWN}(R.status);f(new Ce(b,R.message))}else f(new Ce(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new Ce(ie.UNAVAILABLE,"Connection failed."));break;default:De(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{we(xn,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(i);we(xn,`RPC '${e}' ${l} sending request:`,i),p.send(t,"POST",y,r,15)})}T_(e,t,r){const i=Pg(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=mT(),u=pT(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const y=a.join("");we(xn,`Creating RPC '${e}' stream ${i}: ${y}`,f);const w=l.createWebChannel(y,f);this.I_(w);let v=!1,C=!1;const R=new HL({Yo:T=>{C?we(xn,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(v||(we(xn,`Opening RPC '${e}' stream ${i} transport.`),w.open(),v=!0),we(xn,`RPC '${e}' stream ${i} sending:`,T),w.send(T))},Zo:()=>w.close()}),b=(T,L,j)=>{T.listen(L,F=>{try{j(F)}catch($){setTimeout(()=>{throw $},0)}})};return b(w,Ac.EventType.OPEN,()=>{C||(we(xn,`RPC '${e}' stream ${i} transport opened.`),R.o_())}),b(w,Ac.EventType.CLOSE,()=>{C||(C=!0,we(xn,`RPC '${e}' stream ${i} transport closed`),R.a_(),this.E_(w))}),b(w,Ac.EventType.ERROR,T=>{C||(C=!0,Ko(xn,`RPC '${e}' stream ${i} transport errored. Name:`,T.name,"Message:",T.message),R.a_(new Ce(ie.UNAVAILABLE,"The operation could not be completed")))}),b(w,Ac.EventType.MESSAGE,T=>{var L;if(!C){const j=T.data[0];dt(!!j,16349);const F=j,$=(F==null?void 0:F.error)||((L=F[0])==null?void 0:L.error);if($){we(xn,`RPC '${e}' stream ${i} received error:`,$);const H=$.status;let q=function(N){const O=Wt[N];if(O!==void 0)return YT(O)}(H),P=$.message;q===void 0&&(q=ie.INTERNAL,P="Unknown error status: "+H+" with message "+$.message),C=!0,R.a_(new Ce(q,P)),w.close()}else we(xn,`RPC '${e}' stream ${i} received:`,j),R.u_(j)}}),b(u,fT.STAT_EVENT,T=>{T.stat===vg.PROXY?we(xn,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===vg.NOPROXY&&we(xn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{R.__()},0),R}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Rm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(n){return new YM(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&we("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx="PersistentStream";class dS{constructor(e,t,r,i,a,l,u,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new uS(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(Xs(t.toString()),Xs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===t&&this.G_(r,i)},r=>{e(()=>{const i=new Ce(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return we(Cx,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(we(Cx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GL extends dS{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=ZM(this.serializer,e),r=function(a){if(!("targetChange"in a))return je.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?je.min():l.readTime?fs(l.readTime):je.min()}(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Ag(this.serializer),t.addTarget=function(a,l){let u;const f=l.target;if(u=bg(f)?{documents:nL(a,f)}:{query:rL(a,f).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=ZT(a,l.resumeToken);const p=Sg(a,l.expectedCount);p!==null&&(u.expectedCount=p)}else if(l.snapshotVersion.compareTo(je.min())>0){u.readTime=Lh(a,l.snapshotVersion.toTimestamp());const p=Sg(a,l.expectedCount);p!==null&&(u.expectedCount=p)}return u}(this.serializer,e);const r=iL(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Ag(this.serializer),t.removeTarget=e,this.q_(t)}}class KL extends dS{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=tL(e.writeResults,e.commitTime),r=fs(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Ag(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>eL(this.serializer,r))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{}class YL extends QL{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ce(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Go(e,Cg(t,r),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ce(ie.UNKNOWN,a.toString())})}Ho(e,t,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Ho(e,Cg(t,r),i,l,u,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ce(ie.UNKNOWN,l.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class XL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xs(t),this.aa=!1):we("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo="RemoteStore";class JL{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(l=>{r.enqueueAndForget(async()=>{ra(this)&&(we(Qo,"Restarting streams for network reachability change."),await async function(f){const p=Fe(f);p.Ea.add(4),await mu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await bf(p)}(this))})}),this.Ra=new XL(r,i)}}async function bf(n){if(ra(n))for(const e of n.da)await e(!0)}async function mu(n){for(const e of n.da)await e(!1)}function hS(n,e){const t=Fe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Gy(t)?qy(t):Ol(t).O_()&&Hy(t,e))}function Wy(n,e){const t=Fe(n),r=Ol(t);t.Ia.delete(e),r.O_()&&fS(t,e),t.Ia.size===0&&(r.O_()?r.L_():ra(t)&&t.Ra.set("Unknown"))}function Hy(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ol(n).Y_(e)}function fS(n,e){n.Va.Ue(e),Ol(n).Z_(e)}function qy(n){n.Va=new qM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Ol(n).start(),n.Ra.ua()}function Gy(n){return ra(n)&&!Ol(n).x_()&&n.Ia.size>0}function ra(n){return Fe(n).Ea.size===0}function pS(n){n.Va=void 0}async function ZL(n){n.Ra.set("Online")}async function ej(n){n.Ia.forEach((e,t)=>{Hy(n,e)})}async function tj(n,e){pS(n),Gy(n)?(n.Ra.ha(e),qy(n)):n.Ra.set("Unknown")}async function nj(n,e,t){if(n.Ra.set("Online"),e instanceof JT&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const u of a.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.Va.removeTarget(u))}(n,e)}catch(r){we(Qo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Vh(n,r)}else if(e instanceof hh?n.Va.Ze(e):e instanceof XT?n.Va.st(e):n.Va.tt(e),!t.isEqual(je.min()))try{const r=await cS(n.localStore);t.compareTo(r)>=0&&await function(a,l){const u=a.Va.Tt(l);return u.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const y=a.Ia.get(p);y&&a.Ia.set(p,y.withResumeToken(f.resumeToken,l))}}),u.targetMismatches.forEach((f,p)=>{const y=a.Ia.get(f);if(!y)return;a.Ia.set(f,y.withResumeToken(ln.EMPTY_BYTE_STRING,y.snapshotVersion)),fS(a,f);const w=new zi(y.target,f,p,y.sequenceNumber);Hy(a,w)}),a.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){we(Qo,"Failed to raise snapshot:",r),await Vh(n,r)}}async function Vh(n,e,t){if(!Dl(e))throw e;n.Ea.add(1),await mu(n),n.Ra.set("Offline"),t||(t=()=>cS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{we(Qo,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await bf(n)})}function mS(n,e){return e().catch(t=>Vh(n,t,e))}async function Tf(n){const e=Fe(n),t=no(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ky;for(;rj(e);)try{const i=await VL(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,sj(e,i)}catch(i){await Vh(e,i)}gS(e)&&yS(e)}function rj(n){return ra(n)&&n.Ta.length<10}function sj(n,e){n.Ta.push(e);const t=no(n);t.O_()&&t.X_&&t.ea(e.mutations)}function gS(n){return ra(n)&&!no(n).x_()&&n.Ta.length>0}function yS(n){no(n).start()}async function ij(n){no(n).ra()}async function oj(n){const e=no(n);for(const t of n.Ta)e.ea(t.mutations)}async function aj(n,e,t){const r=n.Ta.shift(),i=jy.from(r,e,t);await mS(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Tf(n)}async function lj(n,e){e&&no(n).X_&&await async function(r,i){if(function(l){return BM(l)&&l!==ie.ABORTED}(i.code)){const a=r.Ta.shift();no(r).B_(),await mS(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Tf(r)}}(n,e),gS(n)&&yS(n)}async function Ix(n,e){const t=Fe(n);t.asyncQueue.verifyOperationInProgress(),we(Qo,"RemoteStore received new credentials");const r=ra(t);t.Ea.add(3),await mu(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await bf(t)}async function cj(n,e){const t=Fe(n);e?(t.Ea.delete(2),await bf(t)):e||(t.Ea.add(2),await mu(t),t.Ra.set("Unknown"))}function Ol(n){return n.ma||(n.ma=function(t,r,i){const a=Fe(t);return a.sa(),new GL(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{Xo:ZL.bind(null,n),t_:ej.bind(null,n),r_:tj.bind(null,n),H_:nj.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),Gy(n)?qy(n):n.Ra.set("Unknown")):(await n.ma.stop(),pS(n))})),n.ma}function no(n){return n.fa||(n.fa=function(t,r,i){const a=Fe(t);return a.sa(),new KL(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:ij.bind(null,n),r_:lj.bind(null,n),ta:oj.bind(null,n),na:aj.bind(null,n)}),n.da.push(async e=>{e?(n.fa.B_(),await Tf(n)):(await n.fa.stop(),n.Ta.length>0&&(we(Qo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,u=new Ky(e,t,l,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qy(n,e){if(Xs("AsyncQueue",`${e}: ${n}`),Dl(n))return new Ce(ie.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{static emptySet(e){return new tl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ae.comparator(t.key,r.key):(t,r)=>Ae.comparator(t.key,r.key),this.keyedMap=Rc(),this.sortedSet=new Dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof tl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new tl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(){this.ga=new Dt(Ae.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):De(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}}class _l{constructor(e,t,r,i,a,l,u,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new _l(e,t,tl.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class dj{constructor(){this.queries=Rx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=Fe(t),a=i.queries;i.queries=Rx(),a.forEach((l,u)=>{for(const f of u.Sa)f.onError(r)})})(this,new Ce(ie.ABORTED,"Firestore shutting down"))}}function Rx(){return new ta(n=>jT(n),yf)}async function vS(n,e){const t=Fe(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new uj,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(i,!0);break;case 1:a.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=Qy(l,`Initialization of query '${qa(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&Yy(t)}async function wS(n,e){const t=Fe(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function hj(n,e){const t=Fe(n);let r=!1;for(const i of e){const a=i.query,l=t.queries.get(a);if(l){for(const u of l.Sa)u.Fa(i)&&(r=!0);l.wa=i}}r&&Yy(t)}function fj(n,e,t){const r=Fe(n),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(t);r.queries.delete(e)}function Yy(n){n.Ca.forEach(e=>{e.next()})}var kg,Px;(Px=kg||(kg={})).Ma="default",Px.Cache="cache";class _S{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new _l(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=_l.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==kg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e){this.key=e}}class ES{constructor(e){this.key=e}}class pj{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Qe(),this.mutatedKeys=Qe(),this.eu=VT(e),this.tu=new tl(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new Ax,i=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((y,w)=>{const v=i.get(y),C=vf(this.query,w)?w:null,R=!!v&&this.mutatedKeys.has(v.key),b=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let T=!1;v&&C?v.data.isEqual(C.data)?R!==b&&(r.track({type:3,doc:C}),T=!0):this.su(v,C)||(r.track({type:2,doc:C}),T=!0,(f&&this.eu(C,f)>0||p&&this.eu(C,p)<0)&&(u=!0)):!v&&C?(r.track({type:0,doc:C}),T=!0):v&&!C&&(r.track({type:1,doc:v}),T=!0,(f||p)&&(u=!0)),T&&(C?(l=l.add(C),a=b?a.add(y):a.delete(y)):(l=l.delete(y),a=a.delete(y)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const y=this.query.limitType==="F"?l.last():l.first();l=l.delete(y.key),a=a.delete(y.key),r.track({type:1,doc:y})}return{tu:l,iu:r,Cs:u,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort((y,w)=>function(C,R){const b=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{Rt:T})}};return b(C)-b(R)}(y.type,w.type)||this.eu(y.doc,w.doc)),this.ou(r),i=i??!1;const u=t&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,p=f!==this.Za;return this.Za=f,l.length!==0||p?{snapshot:new _l(this.query,e.tu,a,l,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ax,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Qe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const t=[];return e.forEach(r=>{this.Xa.has(r)||t.push(new ES(r))}),this.Xa.forEach(r=>{e.has(r)||t.push(new xS(r))}),t}cu(e){this.Ya=e.Qs,this.Xa=Qe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return _l.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Xy="SyncEngine";class mj{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class gj{constructor(e){this.key=e,this.hu=!1}}class yj{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new ta(u=>jT(u),yf),this.Iu=new Map,this.Eu=new Set,this.du=new Dt(Ae.comparator),this.Au=new Map,this.Ru=new Uy,this.Vu={},this.mu=new Map,this.fu=wl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vj(n,e,t=!0){const r=AS(n);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await bS(r,e,t,!0),i}async function wj(n,e){const t=AS(n);await bS(t,e,!0,!1)}async function bS(n,e,t,r){const i=await FL(n.localStore,hs(e)),a=i.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let u;return r&&(u=await _j(n,e,a,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&hS(n.remoteStore,i),u}async function _j(n,e,t,r,i){n.pu=(w,v,C)=>async function(b,T,L,j){let F=T.view.ru(L);F.Cs&&(F=await Ex(b.localStore,T.query,!1).then(({documents:P})=>T.view.ru(P,F)));const $=j&&j.targetChanges.get(T.targetId),H=j&&j.targetMismatches.get(T.targetId)!=null,q=T.view.applyChanges(F,b.isPrimaryClient,$,H);return Nx(b,T.targetId,q.au),q.snapshot}(n,w,v,C);const a=await Ex(n.localStore,e,!0),l=new pj(e,a.Qs),u=l.ru(a.documents),f=pu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),p=l.applyChanges(u,n.isPrimaryClient,f);Nx(n,t,p.au);const y=new mj(e,t,l);return n.Tu.set(e,y),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function xj(n,e,t){const r=Fe(n),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(l=>!yf(l,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Rg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Wy(r.remoteStore,i.targetId),Ng(r,i.targetId)}).catch(Nl)):(Ng(r,i.targetId),await Rg(r.localStore,i.targetId,!0))}async function Ej(n,e){const t=Fe(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Wy(t.remoteStore,r.targetId))}async function bj(n,e,t){const r=Pj(n);try{const i=await function(l,u){const f=Fe(l),p=xt.now(),y=u.reduce((C,R)=>C.add(R.key),Qe());let w,v;return f.persistence.runTransaction("Locally write mutations","readwrite",C=>{let R=Js(),b=Qe();return f.Ns.getEntries(C,y).next(T=>{R=T,R.forEach((L,j)=>{j.isValidDocument()||(b=b.add(L))})}).next(()=>f.localDocuments.getOverlayedDocuments(C,R)).next(T=>{w=T;const L=[];for(const j of u){const F=VM(j,w.get(j.key).overlayedDocument);F!=null&&L.push(new na(j.key,F,PT(F.value.mapValue),qs.exists(!0)))}return f.mutationQueue.addMutationBatch(C,p,L,u)}).next(T=>{v=T;const L=T.applyToLocalDocumentSet(w,b);return f.documentOverlayCache.saveOverlays(C,T.batchId,L)})}).then(()=>({batchId:v.batchId,changes:UT(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,f){let p=l.Vu[l.currentUser.toKey()];p||(p=new Dt(Ke)),p=p.insert(u,f),l.Vu[l.currentUser.toKey()]=p}(r,i.batchId,t),await gu(r,i.changes),await Tf(r.remoteStore)}catch(i){const a=Qy(i,"Failed to persist write");t.reject(a)}}async function TS(n,e){const t=Fe(n);try{const r=await LL(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.Au.get(a);l&&(dt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?dt(l.hu,14607):i.removedDocuments.size>0&&(dt(l.hu,42227),l.hu=!1))}),await gu(t,r,e)}catch(r){await Nl(r)}}function kx(n,e,t){const r=Fe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Tu.forEach((a,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const f=Fe(l);f.onlineState=u;let p=!1;f.queries.forEach((y,w)=>{for(const v of w.Sa)v.va(u)&&(p=!0)}),p&&Yy(f)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Tj(n,e,t){const r=Fe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Au.get(e),a=i&&i.key;if(a){let l=new Dt(Ae.comparator);l=l.insert(a,Sn.newNoDocument(a,je.min()));const u=Qe().add(a),f=new xf(je.min(),new Map,new Dt(Ke),l,u);await TS(r,f),r.du=r.du.remove(a),r.Au.delete(e),Jy(r)}else await Rg(r.localStore,e,!1).then(()=>Ng(r,e,t)).catch(Nl)}async function Sj(n,e){const t=Fe(n),r=e.batch.batchId;try{const i=await ML(t.localStore,e);CS(t,r,null),SS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await gu(t,i)}catch(i){await Nl(i)}}async function Cj(n,e,t){const r=Fe(n);try{const i=await function(l,u){const f=Fe(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return f.mutationQueue.lookupMutationBatch(p,u).next(w=>(dt(w!==null,37113),y=w.keys(),f.mutationQueue.removeMutationBatch(p,w))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,y,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>f.localDocuments.getDocuments(p,y))})}(r.localStore,e);CS(r,e,t),SS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await gu(r,i)}catch(i){await Nl(i)}}function SS(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function CS(n,e,t){const r=Fe(n);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Ng(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(r=>{n.Ru.containsKey(r)||IS(n,r)})}function IS(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Wy(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Jy(n))}function Nx(n,e,t){for(const r of t)r instanceof xS?(n.Ru.addReference(r.key,e),Ij(n,r)):r instanceof ES?(we(Xy,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||IS(n,r.key)):De(19791,{wu:r})}function Ij(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(we(Xy,"New document in limbo: "+t),n.Eu.add(r),Jy(n))}function Jy(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ae(Nt.fromString(e)),r=n.fu.next();n.Au.set(r,new gj(t)),n.du=n.du.insert(t,r),hS(n.remoteStore,new zi(hs(gf(t.path)),r,"TargetPurposeLimboResolution",hf.ce))}}async function gu(n,e,t){const r=Fe(n),i=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach((u,f)=>{l.push(r.pu(f,e,t).then(p=>{var y;if((p||t)&&r.isPrimaryClient){const w=p?!p.fromCache:(y=t==null?void 0:t.targetChanges.get(f.targetId))==null?void 0:y.current;r.sharedClientState.updateQueryState(f.targetId,w?"current":"not-current")}if(p){i.push(p);const w=$y.As(f.targetId,p);a.push(w)}}))}),await Promise.all(l),r.Pu.H_(i),await async function(f,p){const y=Fe(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>te.forEach(p,v=>te.forEach(v.Es,C=>y.persistence.referenceDelegate.addReference(w,v.targetId,C)).next(()=>te.forEach(v.ds,C=>y.persistence.referenceDelegate.removeReference(w,v.targetId,C)))))}catch(w){if(!Dl(w))throw w;we(By,"Failed to update sequence numbers: "+w)}for(const w of p){const v=w.targetId;if(!w.fromCache){const C=y.Ms.get(v),R=C.snapshotVersion,b=C.withLastLimboFreeSnapshotVersion(R);y.Ms=y.Ms.insert(v,b)}}}(r.localStore,a))}async function Aj(n,e){const t=Fe(n);if(!t.currentUser.isEqual(e)){we(Xy,"User change. New user:",e.toKey());const r=await lS(t.localStore,e);t.currentUser=e,function(a,l){a.mu.forEach(u=>{u.forEach(f=>{f.reject(new Ce(ie.CANCELLED,l))})}),a.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gu(t,r.Ls)}}function Rj(n,e){const t=Fe(n),r=t.Au.get(e);if(r&&r.hu)return Qe().add(r.key);{let i=Qe();const a=t.Iu.get(e);if(!a)return i;for(const l of a){const u=t.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}function AS(n){const e=Fe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=TS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Tj.bind(null,e),e.Pu.H_=hj.bind(null,e.eventManager),e.Pu.yu=fj.bind(null,e.eventManager),e}function Pj(n){const e=Fe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Sj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Cj.bind(null,e),e}class Fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ef(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return OL(this.persistence,new kL,e.initialUser,this.serializer)}Cu(e){return new aS(zy.mi,this.serializer)}Du(e){return new zL}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fh.provider={build:()=>new Fh};class kj extends Fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){dt(this.persistence.referenceDelegate instanceof jh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new gL(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Hn.withCacheSize(this.cacheSizeBytes):Hn.DEFAULT;return new aS(r=>jh.mi(r,t),this.serializer)}}class Dg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Aj.bind(null,this.syncEngine),await cj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new dj}()}createDatastore(e){const t=Ef(e.databaseInfo.databaseId),r=function(a){return new qL(a)}(e.databaseInfo);return function(a,l,u,f){return new YL(a,l,u,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,a,l,u){return new JL(r,i,a,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>kx(this.syncEngine,t,0),function(){return Sx.v()?new Sx:new $L}())}createSyncEngine(e,t){return function(i,a,l,u,f,p,y){const w=new yj(i,a,l,u,f,p);return y&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=Fe(i);we(Qo,"RemoteStore shutting down."),a.Ea.add(5),await mu(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Dg.provider={build:()=>new Dg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="FirestoreClient";class Nj{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Tn.UNAUTHENTICATED,this.clientId=df.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{we(ro,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(we(ro,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Qy(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Pm(n,e){n.asyncQueue.verifyOperationInProgress(),we(ro,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await lS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Dx(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Dj(n);we(ro,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Ix(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Ix(e.remoteStore,i)),n._onlineComponents=e}async function Dj(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){we(ro,"Using user provided OfflineComponentProvider");try{await Pm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ie.FAILED_PRECONDITION||i.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Ko("Error using user provided cache. Falling back to memory cache: "+t),await Pm(n,new Fh)}}else we(ro,"Using default OfflineComponentProvider"),await Pm(n,new kj(void 0));return n._offlineComponents}async function PS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(we(ro,"Using user provided OnlineComponentProvider"),await Dx(n,n._uninitializedComponentsProvider._online)):(we(ro,"Using default OnlineComponentProvider"),await Dx(n,new Dg))),n._onlineComponents}function Oj(n){return PS(n).then(e=>e.syncEngine)}async function Og(n){const e=await PS(n),t=e.eventManager;return t.onListen=vj.bind(null,e.syncEngine),t.onUnlisten=xj.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=wj.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Ej.bind(null,e.syncEngine),t}function Mj(n,e,t={}){const r=new Hi;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,u,f,p){const y=new RS({next:v=>{y.Nu(),l.enqueueAndForget(()=>wS(a,w));const C=v.docs.has(u);!C&&v.fromCache?p.reject(new Ce(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&v.fromCache&&f&&f.source==="server"?p.reject(new Ce(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(v)},error:v=>p.reject(v)}),w=new _S(gf(u.path),y,{includeMetadataChanges:!0,qa:!0});return vS(a,w)}(await Og(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="firestore.googleapis.com",Mx=!0;class Lx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NS,this.ssl=Mx}else this.host=e.host,this.ssl=e.ssl??Mx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=oS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pL)throw new Ce(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kS(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ce(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ce(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ce(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zy{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ce(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ce(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new vT;switch(r.type){case"firstParty":return new W5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ce(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Ox.get(t);r&&(we("ComponentProvider","Removing Datastore"),Ox.delete(t),r.terminate())}(this),Promise.resolve()}}function DS(n,e,t,r={}){var p;n=Hs(n,Zy);const i=Jo(e),a=n._getSettings(),l={...a,emulatorOptions:n._getEmulatorOptions()},u=`${e}:${t}`;i&&(fy(`https://${u}`),py("Firestore",!0)),a.host!==NS&&a.host!==u&&Ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:u,ssl:i,emulatorOptions:r};if(!$o(f,l)&&(n._setSettings(f),r.mockUserToken)){let y,w;if(typeof r.mockUserToken=="string")y=r.mockUserToken,w=Tn.MOCK_USER;else{y=Tb(r.mockUserToken,(p=n._app)==null?void 0:p.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Ce(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Tn(v)}n._authCredentials=new z5(new yT(y,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yu(this.firestore,e,this._query)}}class qt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qt(this.firestore,e,this._key)}toJSON(){return{type:qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(hu(t,qt._jsonSchema))return new qt(e,r||null,new Ae(Nt.fromString(t.referencePath)))}}qt._jsonSchemaVersion="firestore/documentReference/1.0",qt._jsonSchema={type:Ht("string",qt._jsonSchemaVersion),referencePath:Ht("string")};class xl extends yu{constructor(e,t,r){super(e,t,gf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new Ae(e))}withConverter(e){return new xl(this.firestore,e,this._path)}}function $s(n,e,...t){if(n=mn(n),arguments.length===1&&(e=df.newId()),Y5("doc","path",e),n instanceof Zy){const r=Nt.fromString(e,...t);return Y_(r),new qt(n,null,new Ae(r))}{if(!(n instanceof qt||n instanceof xl))throw new Ce(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Nt.fromString(e,...t));return Y_(r),new qt(n.firestore,n instanceof xl?n.converter:null,new Ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx="AsyncQueue";class Vx{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new uS(this,"async_queue_retry"),this._c=()=>{const r=Rm();r&&we(jx,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Rm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Rm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Hi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Dl(e))throw e;we(jx,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Xs("INTERNAL UNHANDLED ERROR: ",Fx(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=Ky.createAndSchedule(this,e,t,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&De(47125,{Pc:Fx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Fx(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(n,["next","error","complete"])}class El extends Zy{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Vx,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Vx(e),this._firestoreClient=void 0,await e}}}function OS(n,e){const t=typeof n=="object"?n:yy(),r=typeof n=="string"?n:kh,i=af(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=xb("firestore");a&&DS(i,...a)}return i}function Sf(n){if(n._terminated)throw new Ce(ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Lj(n),n._firestoreClient}function Lj(n){var r,i,a;const e=n._freezeSettings(),t=function(u,f,p,y){return new aM(u,f,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,kS(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new Nj(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(u){const f=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rr(ln.fromBase64String(e))}catch(t){throw new Ce(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new rr(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:rr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hu(e,rr._jsonSchema))return rr.fromBase64String(e.bytes)}}rr._jsonSchemaVersion="firestore/bytes/1.0",rr._jsonSchema={type:Ht("string",rr._jsonSchemaVersion),bytes:Ht("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ce(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ce(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ce(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Br._jsonSchemaVersion}}static fromJSON(e){if(hu(e,Br._jsonSchema))return new Br(e.latitude,e.longitude)}}Br._jsonSchemaVersion="firestore/geoPoint/1.0",Br._jsonSchema={type:Ht("string",Br._jsonSchemaVersion),latitude:Ht("number"),longitude:Ht("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Wr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hu(e,Wr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Wr(e.vectorValues);throw new Ce(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wr._jsonSchemaVersion="firestore/vectorValue/1.0",Wr._jsonSchema={type:Ht("string",Wr._jsonSchemaVersion),vectorValues:Ht("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj=/^__.*__$/;class Vj{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new na(e,this.data,this.fieldMask,t,this.fieldTransforms):new fu(e,this.data,t,this.fieldTransforms)}}function MS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{Ac:n})}}class ev{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ev({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const t=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){var i;const t=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Uh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(MS(this.Ac)&&jj.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Fj{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Ef(e)}Cc(e,t,r,i=!1){return new ev({Ac:e,methodName:t,Dc:r,path:an.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uj(n){const e=n._freezeSettings(),t=Ef(n._databaseId);return new Fj(n._databaseId,!!e.ignoreUndefinedProperties,t)}function zj(n,e,t,r,i,a={}){const l=n.Cc(a.merge||a.mergeFields?2:0,e,t,i);FS("Data must be an object, but it was:",l,r);const u=jS(r,l);let f,p;if(a.merge)f=new Ur(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const y=[];for(const w of a.mergeFields){const v=$j(e,w,t);if(!l.contains(v))throw new Ce(ie.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);Wj(y,v)||y.push(v)}f=new Ur(y),p=l.fieldTransforms.filter(w=>f.covers(w.field))}else f=null,p=l.fieldTransforms;return new Vj(new vr(u),f,p)}class tv extends If{_toFieldTransform(e){return new OM(e.path,new eu)}isEqual(e){return e instanceof tv}}function LS(n,e){if(VS(n=mn(n)))return FS("Unsupported field value:",e,n),jS(n,e);if(n instanceof If)return function(r,i){if(!MS(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const a=[];let l=0;for(const u of r){let f=LS(u,i.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}}(n,e)}return function(r,i){if((r=mn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return kM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=xt.fromDate(r);return{timestampValue:Lh(i.serializer,a)}}if(r instanceof xt){const a=new xt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Lh(i.serializer,a)}}if(r instanceof Br)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof rr)return{bytesValue:ZT(i.serializer,r._byteString)};if(r instanceof qt){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Fy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Wr)return function(l,u){return{mapValue:{fields:{[AT]:{stringValue:RT},[Nh]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw u.Sc("VectorValues must only contain numeric values.");return Ly(u.serializer,p)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${Py(r)}`)}(n,e)}function jS(n,e){const t={};return ET(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ea(n,(r,i)=>{const a=LS(i,e.mc(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function VS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof xt||n instanceof Br||n instanceof rr||n instanceof qt||n instanceof If||n instanceof Wr)}function FS(n,e,t){if(!VS(t)||!_T(t)){const r=Py(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function $j(n,e,t){if((e=mn(e))instanceof Cf)return e._internalPath;if(typeof e=="string")return US(n,e);throw Uh("Field path arguments must be of type string or ",n,!1,void 0,t)}const Bj=new RegExp("[~\\*/\\[\\]]");function US(n,e,t){if(e.search(Bj)>=0)throw Uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Cf(...e.split("."))._internalPath}catch{throw Uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Uh(n,e,t,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new Ce(ie.INVALID_ARGUMENT,u+n+f)}function Wj(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Hj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field($S("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Hj extends zS{data(){return super.data()}}function $S(n,e){return typeof e=="string"?US(n,e):e instanceof Cf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ce(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class BS{convertValue(e,t="none"){switch(to(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(eo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ea(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertVectorValue(e){var r,i,a;const t=(a=(i=(r=e.fields)==null?void 0:r[Nh].arrayValue)==null?void 0:i.values)==null?void 0:a.map(l=>zt(l.doubleValue));return new Wr(t)}convertGeoPoint(e){return new Br(zt(e.latitude),zt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=pf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Jc(e));default:return null}}convertTimestamp(e){const t=Zi(e);return new xt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Nt.fromString(e);dt(iS(r),9688,{name:e});const i=new gl(r.get(1),r.get(3)),a=new Ae(r.popFirst(5));return i.isEqual(t)||Xs(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Qa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qi extends zS{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field($S("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ce(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=qi._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}qi._jsonSchemaVersion="firestore/documentSnapshot/1.0",qi._jsonSchema={type:Ht("string",qi._jsonSchemaVersion),bundleSource:Ht("string","DocumentSnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class Uc extends qi{data(e={}){return super.data(e)}}class Fo{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Qa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Uc(this._firestore,this._userDataWriter,r.key,r,new Qa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ce(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const f=new Uc(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Qa(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const f=new Uc(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Qa(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,y=-1;return u.type!==0&&(p=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),y=l.indexOf(u.doc.key)),{type:Kj(u.type),doc:f,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ce(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Fo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=df.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Kj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(n){n=Hs(n,qt);const e=Hs(n.firestore,El);return Mj(Sf(e),n._key).then(t=>GS(e,n,t))}Fo._jsonSchemaVersion="firestore/querySnapshot/1.0",Fo._jsonSchema={type:Ht("string",Fo._jsonSchemaVersion),bundleSource:Ht("string","QuerySnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class WS extends BS{constructor(e){super(),this.firestore=e}convertBytes(e){return new rr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,t)}}function zc(n,e,t){n=Hs(n,qt);const r=Hs(n.firestore,El),i=Gj(n.converter,e,t);return qS(r,[zj(Uj(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,qs.none())])}function HS(n,...e){var f,p,y;n=mn(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Ux(e[r])||(t=e[r++]);const i={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Ux(e[r])){const w=e[r];e[r]=(f=w.next)==null?void 0:f.bind(w),e[r+1]=(p=w.error)==null?void 0:p.bind(w),e[r+2]=(y=w.complete)==null?void 0:y.bind(w)}let a,l,u;if(n instanceof qt)l=Hs(n.firestore,El),u=gf(n._key.path),a={next:w=>{e[r]&&e[r](GS(l,n,w))},error:e[r+1],complete:e[r+2]};else{const w=Hs(n,yu);l=Hs(w.firestore,El),u=w._query;const v=new WS(l);a={next:C=>{e[r]&&e[r](new Fo(l,v,w,C))},error:e[r+1],complete:e[r+2]},qj(n._query)}return function(v,C,R,b){const T=new RS(b),L=new _S(C,T,R);return v.asyncQueue.enqueueAndForget(async()=>vS(await Og(v),L)),()=>{T.Nu(),v.asyncQueue.enqueueAndForget(async()=>wS(await Og(v),L))}}(Sf(l),u,i,a)}function qS(n,e){return function(r,i){const a=new Hi;return r.asyncQueue.enqueueAndForget(async()=>bj(await Oj(r),i,a)),a.promise}(Sf(n),e)}function GS(n,e,t){const r=t.docs.get(e._key),i=new WS(n);return new qi(n,i,e._key,r,new Qa(t.hasPendingWrites,t.fromCache),e.converter)}function KS(){return new tv("serverTimestamp")}(function(e,t=!0){(function(i){kl=i})(Zo),Bo(new Xi("firestore",(r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),u=new El(new $5(r.getProvider("auth-internal")),new H5(l,r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ce(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gl(p.options.projectId,y)}(l,i),l);return a={useFetchStreams:t,...a},u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),cs(q_,G_,e),cs(q_,G_,"esm2020")})();const Qj=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:BS,Bytes:rr,CollectionReference:xl,DocumentReference:qt,DocumentSnapshot:qi,FieldPath:Cf,FieldValue:If,Firestore:El,FirestoreError:Ce,GeoPoint:Br,Query:yu,QueryDocumentSnapshot:Uc,QuerySnapshot:Fo,SnapshotMetadata:Qa,Timestamp:xt,VectorValue:Wr,_AutoId:df,_ByteString:ln,_DatabaseId:gl,_DocumentKey:Ae,_EmptyAuthCredentialsProvider:vT,_FieldPath:an,_cast:Hs,_logWarn:Ko,_validateIsNotUsedTogether:wT,connectFirestoreEmulator:DS,doc:$s,ensureFirestoreConfigured:Sf,executeWrite:qS,getDoc:zh,getFirestore:OS,onSnapshot:HS,serverTimestamp:KS,setDoc:zc},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="firebasestorage.googleapis.com",Yj="storageBucket",Xj=2*60*1e3,Jj=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends ws{constructor(e,t,r=0){super(km(e),`Firebase Storage: ${t} (${km(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_s.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return km(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ys;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ys||(ys={}));function km(n){return"storage/"+n}function Zj(){const n="An unknown error occurred, please check the error payload for server response.";return new _s(ys.UNKNOWN,n)}function e3(){return new _s(ys.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function t3(){return new _s(ys.CANCELED,"User canceled the upload/download.")}function n3(n){return new _s(ys.INVALID_URL,"Invalid URL '"+n+"'.")}function r3(n){return new _s(ys.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function zx(n){return new _s(ys.INVALID_ARGUMENT,n)}function YS(){return new _s(ys.APP_DELETED,"The Firebase app was deleted.")}function s3(n){return new _s(ys.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=zr.makeFromUrl(e,t)}catch{return new zr(e,"")}if(r.path==="")return r;throw r3(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+i+l,"i"),f={bucket:1,path:3};function p($){$.path_=decodeURIComponent($.path)}const y="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",C=new RegExp(`^https?://${w}/${y}/b/${i}/o${v}`,"i"),R={bucket:1,path:3},b=t===QS?"(?:storage.googleapis.com|storage.cloud.google.com)":t,T="([^?#]*)",L=new RegExp(`^https?://${b}/${i}/${T}`,"i"),F=[{regex:u,indices:f,postModify:a},{regex:C,indices:R,postModify:p},{regex:L,indices:{bucket:1,path:2},postModify:p}];for(let $=0;$<F.length;$++){const H=F[$],q=H.regex.exec(e);if(q){const P=q[H.indices.bucket];let A=q[H.indices.path];A||(A=""),r=new zr(P,A),H.postModify(r);break}}if(r==null)throw n3(e);return r}}class i3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(n,e,t){let r=1,i=null,a=null,l=!1,u=0;function f(){return u===2}let p=!1;function y(...T){p||(p=!0,e.apply(null,T))}function w(T){i=setTimeout(()=>{i=null,n(C,f())},T)}function v(){a&&clearTimeout(a)}function C(T,...L){if(p){v();return}if(T){v(),y.call(null,T,...L);return}if(f()||l){v(),y.call(null,T,...L);return}r<64&&(r*=2);let F;u===1?(u=2,F=0):F=(r+Math.random())*1e3,w(F)}let R=!1;function b(T){R||(R=!0,v(),!p&&(i!==null?(T||(u=2),clearTimeout(i),w(0)):T||(u=1)))}return w(0),a=setTimeout(()=>{l=!0,b(!0)},t),b}function a3(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(n){return n!==void 0}function $x(n,e,t,r){if(r<e)throw zx(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw zx(`Invalid value for '${n}'. Expected ${t} or less.`)}function c3(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var $h;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})($h||($h={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e,t,r,i,a,l,u,f,p,y,w,v=!0,C=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=f,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=w,this.retry=v,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,b)=>{this.resolve_=R,this.reject_=b,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Kd(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=u=>{const f=u.loaded,p=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,p)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const u=a.getErrorCode()===$h.NO_ERROR,f=a.getStatus();if(!u||u3(f,this.additionalRetryCodes_)&&this.retry){const y=a.getErrorCode()===$h.ABORT;r(!1,new Kd(!1,null,y));return}const p=this.successCodes_.indexOf(f)!==-1;r(!0,new Kd(p,a))})},t=(r,i)=>{const a=this.resolve_,l=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const f=this.callback_(u,u.getResponse());l3(f)?a(f):a()}catch(f){l(f)}else if(u!==null){const f=Zj();f.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,f)):l(f)}else if(i.canceled){const f=this.appDelete_?YS():t3();l(f)}else{const f=e3();l(f)}};this.canceled_?t(!1,new Kd(!1,null,!0)):this.backoffId_=o3(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&a3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Kd{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function h3(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function f3(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function p3(n,e){e&&(n["X-Firebase-GMPID"]=e)}function m3(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function g3(n,e,t,r,i,a,l=!0,u=!1){const f=c3(n.urlParams),p=n.url+f,y=Object.assign({},n.headers);return p3(y,e),h3(y,t),f3(y,a),m3(y,r),new d3(p,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,l,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function v3(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,t){this._service=e,t instanceof zr?this._location=t:this._location=zr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Bh(e,t)}get root(){const e=new zr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return v3(this._location.path)}get storage(){return this._service}get parent(){const e=y3(this._location.path);if(e===null)return null;const t=new zr(this._location.bucket,e);return new Bh(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw s3(e)}}function Bx(n,e){const t=e==null?void 0:e[Yj];return t==null?null:zr.makeFromBucketSpec(t,n)}function w3(n,e,t,r={}){n.host=`${e}:${t}`;const i=Jo(e);i&&(fy(`https://${n.host}/b`),py("Storage",!0)),n._isUsingEmulator=!0,n._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:Tb(a,n.app.options.projectId))}class _3{constructor(e,t,r,i,a,l=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=QS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Xj,this._maxUploadRetryTime=Jj,this._requests=new Set,i!=null?this._bucket=zr.makeFromBucketSpec(i,this._host):this._bucket=Bx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=zr.makeFromBucketSpec(this._url,e):this._bucket=Bx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){$x("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){$x("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Bh(this,e)}_makeRequest(e,t,r,i,a=!0){if(this._deleted)return new i3(YS());{const l=g3(e,this._appId,r,i,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const Wx="@firebase/storage",Hx="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="storage";function x3(n=yy(),e){n=mn(n);const r=af(n,XS).getImmediate({identifier:e}),i=xb("storage");return i&&E3(r,...i),r}function E3(n,e,t,r={}){w3(n,e,t,r)}function b3(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new _3(t,r,i,e,Zo)}function T3(){Bo(new Xi(XS,b3,"PUBLIC").setMultipleInstances(!0)),cs(Wx,Hx,""),cs(Wx,Hx,"esm2020")}T3();const JS={apiKey:"AIzaSyDQXBbqle4nKmmkbF-P_HtLa943eIuy-0s",authDomain:"companion-ai-38676.firebaseapp.com",projectId:"companion-ai-38676",storageBucket:"companion-ai-38676.appspot.com",messagingSenderId:"231277753395",appId:"1:231277753395:web:9d2bdb7294537202eedf46",measurementId:"G-BZGGR8DDT0E"},nv=Ib(JS),bn=F5(nv),Us=OS(nv);x3(nv);JS.storageBucket;const S3=({isDarkMode:n})=>g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"absolute inset-0 opacity-20",children:[g.jsx("div",{className:"absolute top-20 left-20 w-96 h-96 bg-gradient-radial from-brand-purple to-transparent rounded-full blur-3xl animate-pulse"}),g.jsx("div",{className:"absolute top-40 right-32 w-80 h-80 bg-gradient-radial from-brand-blue to-transparent rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),g.jsx("div",{className:"absolute bottom-32 left-1/3 w-72 h-72 bg-gradient-radial from-brand-pink to-transparent rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}}),g.jsx("div",{className:"absolute bottom-20 right-20 w-64 h-64 bg-gradient-radial from-brand-lime to-transparent rounded-full blur-3xl animate-pulse",style:{animationDelay:"0.5s"}})]}),g.jsxs("div",{className:"absolute inset-0",children:[g.jsx("div",{className:"absolute top-1/4 left-1/4 w-2 h-2 bg-brand-purple rounded-full opacity-60 animate-ping"}),g.jsx("div",{className:"absolute top-1/3 right-1/3 w-1 h-1 bg-brand-blue rounded-full opacity-40 animate-ping",style:{animationDelay:"1.5s"}}),g.jsx("div",{className:"absolute bottom-1/3 left-1/5 w-1.5 h-1.5 bg-brand-pink rounded-full opacity-50 animate-ping",style:{animationDelay:"2.5s"}}),g.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-1 h-1 bg-brand-lime rounded-full opacity-30 animate-ping",style:{animationDelay:"3s"}})]})]}),C3=({isDarkMode:n,onSignIn:e,onNewChat:t,onLogout:r,onToggleDarkMode:i,onLogoClick:a,appLoaded:l,isLoggedIn:u,signInClicked:f})=>g.jsxs("header",{className:"absolute top-0 left-0 right-0 flex justify-between items-center p-8 max-sm:p-3 z-20 transition-all duration-1000 ease-out",style:{opacity:l?1:0,transform:l?"translateY(0)":"translateY(-20px)",transitionDelay:"0.8s"},children:[g.jsx("div",{className:"flex items-center gap-4",children:g.jsx("button",{onClick:a,style:{background:"none",border:"none",padding:0,cursor:"pointer"},"aria-label":"Home",children:g.jsx("div",{className:"w-30 h-12 bg-transparent rounded-xl flex items-center justify-center hover:opacity-80 transition max-sm:w-12 max-sm:h-12",children:g.jsx("img",{src:typeof window<"u"&&window.innerWidth<=640?"/Browser-tab.svg":"/default-monochrome.svg",alt:"Logo",className:"w-30 h-12 max-sm:w-12 max-sm:h-12 object-contain",style:{maxWidth:"100%",maxHeight:"100%"}})})})}),g.jsxs("div",{className:"flex items-center gap-4 max-sm:gap-2",children:[g.jsx("button",{onClick:i,className:"p-3 rounded-xl border-2 transition-all duration-300 hover:scale-105 max-sm:p-2",style:{backgroundColor:n?"rgba(172, 127, 244, 0.1)":"rgba(255, 255, 255, 0.7)",borderColor:n?"#AC7FF4":"rgba(172, 127, 244, 0.3)",color:n?"#f1f5f9":"#1e293b"},"aria-label":"Toggle dark mode",children:n?g.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{d:"M9.528 1.718a.75.75 0 01.162.819A8.97 8.97 0 009 6a9 9 0 009 9 8.97 8.97 0 003.463-.69.75.75 0 01.981.98 10.503 10.503 0 01-9.694 6.46c-5.799 0-10.5-4.701-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 01.818.162z"})}):g.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{d:"M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18.894 6.166a.75.75 0 00-1.06-1.06l-1.591 1.59a.75.75 0 101.06 1.061l1.591-1.59zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5H21a.75.75 0 01.75.75zM17.834 18.894a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 10-1.061 1.06l1.59 1.591zM12 18a.75.75 0 01.75.75V21a.75.75 0 01-1.5 0v-2.25A.75.75 0 0112 18zM7.758 17.303a.75.75 0 00-1.061-1.06l-1.591 1.59a.75.75 0 001.06 1.061l1.591-1.59zM6 12a.75.75 0 01-.75.75H3a.75.75 0 010-1.5h2.25A.75.75 0 016 12zM6.697 7.757a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 00-1.061 1.06l1.59 1.591z"})})}),u?g.jsxs("div",{className:"flex items-center gap-4 max-sm:gap-2",children:[g.jsx("button",{onClick:t,className:"px-6 py-3 bg-brand-blue text-white rounded-xl font-medium shadow-lg hover:shadow-xl transition-all duration-300 max-sm:px-3 max-sm:py-2 max-sm:text-sm",children:"Chat"}),g.jsx("button",{onClick:r,className:"px-4 py-3 border-2 border-brand-purple rounded-xl hover:bg-brand-purple hover:text-white transition-all duration-300 max-sm:px-2 max-sm:py-2 max-sm:text-sm",style:{color:n?"#f1f5f9":"#1e293b"},children:"Logout"})]}):g.jsx("button",{onClick:e,className:"px-6 py-3 bg-brand-purple text-white rounded-xl font-medium shadow-lg hover:shadow-xl transition-all duration-300 max-sm:px-3 max-sm:py-2 max-sm:text-sm",style:{transform:f?"scale(0.95) translateY(2px)":"translateY(-2px)",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)"},children:"Sign In"})]})]}),I3=({show:n,isDarkMode:e,loginForm:t,onClose:r,onLogin:i,onOpenSignup:a,onInputChange:l,onGoogleLogin:u})=>n?g.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4 transition-all duration-300",style:{backgroundColor:e?"rgba(0, 0, 0, 0.8)":"rgba(0, 0, 0, 0.6)",opacity:n?1:0},children:g.jsxs("div",{className:"border rounded-3xl p-10 w-full max-w-lg relative shadow-2xl transition-all duration-500",style:{backgroundColor:e?"#1e293b":"#ffffff",borderColor:e?"#AC7FF4":"rgba(172, 127, 244, 0.3)",transform:n?"scale(1) translateY(0) rotateX(0deg)":"scale(0.8) translateY(30px) rotateX(10deg)",transformStyle:"preserve-3d"},children:[g.jsx("button",{onClick:r,className:"absolute top-6 right-6 hover:scale-110 transition-all duration-200",style:{color:e?"#94a3b8":"#64748b"},children:g.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})}),g.jsxs("div",{className:"text-center mb-10",children:[g.jsx("h3",{className:"text-4xl font-bold mb-4 transition-colors duration-500",style:{color:e?"#f1f5f9":"#1e293b"},children:"Welcome Back"}),g.jsx("p",{className:"text-lg transition-colors duration-500",style:{color:e?"#94a3b8":"#64748b"},children:"Sign in to continue your mental health journey"})]}),g.jsxs("form",{onSubmit:i,className:"space-y-8",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-semibold mb-3 transition-colors duration-500",style:{color:e?"#f1f5f9":"#1e293b"},children:"Email"}),g.jsx("input",{value:t.username,onChange:f=>l("username",f.target.value),type:"email",required:!0,className:"w-full px-5 py-4 border-2 rounded-xl text-lg transition-all duration-300 focus:outline-none focus:border-brand-blue focus:scale-105",style:{backgroundColor:e?"#0f172a":"#ffffff",borderColor:e?"#AC7FF4":"rgba(172, 127, 244, 0.3)",color:e?"#f1f5f9":"#1e293b"},placeholder:"Enter your email"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-semibold mb-3 transition-colors duration-500",style:{color:e?"#f1f5f9":"#1e293b"},children:"Password"}),g.jsx("input",{value:t.password,onChange:f=>l("password",f.target.value),type:"password",required:!0,className:"w-full px-5 py-4 border-2 rounded-xl text-lg transition-all duration-300 focus:outline-none focus:border-brand-blue focus:scale-105",style:{backgroundColor:e?"#0f172a":"#ffffff",borderColor:e?"#AC7FF4":"rgba(172, 127, 244, 0.3)",color:e?"#f1f5f9":"#1e293b"},placeholder:"Enter your password"})]}),g.jsx("button",{type:"submit",className:"w-full py-4 bg-gradient-to-r from-brand-purple to-brand-blue text-white text-lg font-semibold rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:transform hover:scale-105",children:"Sign In"})]}),g.jsxs("button",{onClick:u,className:"w-full mt-4 py-3 bg-white text-slate-800 border border-gray-300 rounded-xl font-semibold shadow hover:bg-gray-100 transition-all duration-300 flex items-center justify-center gap-2",children:[g.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-6 h-6"}),"Sign in with Google"]}),g.jsx("div",{className:"text-center mt-8",children:g.jsxs("p",{className:"text-lg transition-colors duration-500",style:{color:e?"#94a3b8":"#64748b"},children:[g.jsx("span",{children:"Don't have an account? "}),g.jsx("button",{onClick:a,className:"text-brand-blue hover:underline font-semibold transition-all duration-200 hover:scale-105",children:"Sign up"})]})})]})}):null,A3=({show:n,isDarkMode:e,signupForm:t,onClose:r,onSignup:i,onBackToLogin:a,onInputChange:l,onGoogleSignup:u,showTerms:f,setShowTerms:p,showPrivacy:y,setShowPrivacy:w})=>n?g.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4 transition-all duration-300",style:{backgroundColor:e?"rgba(0, 0, 0, 0.8)":"rgba(0, 0, 0, 0.6)",opacity:n?1:0},children:g.jsxs("div",{className:"border rounded-3xl p-10 w-full max-w-lg relative shadow-2xl max-h-[90vh] overflow-y-auto transition-all duration-500",style:{backgroundColor:e?"#1e293b":"#ffffff",borderColor:e?"#AC7FF4":"rgba(172, 127, 244, 0.3)",transform:n?"scale(1) translateY(0) rotateX(0deg)":"scale(0.8) translateY(30px) rotateX(10deg)",transformStyle:"preserve-3d"},children:[g.jsx("button",{onClick:r,className:"absolute top-6 right-6 hover:scale-110 transition-all duration-200",style:{color:e?"#94a3b8":"#64748b"},children:g.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})}),g.jsxs("div",{className:"text-center mb-10",children:[g.jsx("h3",{className:"text-4xl font-bold mb-4 transition-colors duration-500",style:{color:e?"#f1f5f9":"#1e293b"},children:"Create Account"}),g.jsx("p",{className:"text-lg transition-colors duration-500",style:{color:e?"#94a3b8":"#64748b"},children:"Join us and start your mental wellness journey"})]}),g.jsxs("form",{onSubmit:i,className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-semibold mb-3 transition-colors duration-500",style:{color:e?"#f1f5f9":"#1e293b"},children:"Full Name"}),g.jsx("input",{value:t.signupName,onChange:v=>l("signupName",v.target.value),type:"text",required:!0,className:"w-full px-5 py-4 border-2 rounded-xl text-lg transition-all duration-300 focus:outline-none focus:border-brand-blue focus:scale-105",style:{backgroundColor:e?"#0f172a":"#ffffff",borderColor:e?"#AC7FF4":"rgba(172, 127, 244, 0.3)",color:e?"#f1f5f9":"#1e293b"},placeholder:"Enter your full name"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-semibold mb-3 transition-colors duration-500",style:{color:e?"#f1f5f9":"#1e293b"},children:"Email"}),g.jsx("input",{value:t.signupEmail,onChange:v=>l("signupEmail",v.target.value),type:"email",required:!0,className:"w-full px-5 py-4 border-2 rounded-xl text-lg transition-all duration-300 focus:outline-none focus:border-brand-blue focus:scale-105",style:{backgroundColor:e?"#0f172a":"#ffffff",borderColor:e?"#AC7FF4":"rgba(172, 127, 244, 0.3)",color:e?"#f1f5f9":"#1e293b"},placeholder:"Enter your email"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-semibold mb-3 transition-colors duration-500",style:{color:e?"#f1f5f9":"#1e293b"},children:"Password"}),g.jsx("input",{value:t.signupPassword,onChange:v=>l("signupPassword",v.target.value),type:"password",required:!0,className:"w-full px-5 py-4 border-2 rounded-xl text-lg transition-all duration-300 focus:outline-none focus:border-brand-blue focus:scale-105",style:{backgroundColor:e?"#0f172a":"#ffffff",borderColor:e?"#AC7FF4":"rgba(172, 127, 244, 0.3)",color:e?"#f1f5f9":"#1e293b"},placeholder:"Create a password"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-semibold mb-3 transition-colors duration-500",style:{color:e?"#f1f5f9":"#1e293b"},children:"Confirm Password"}),g.jsx("input",{value:t.signupConfirmPassword,onChange:v=>l("signupConfirmPassword",v.target.value),type:"password",required:!0,className:"w-full px-5 py-4 border-2 rounded-xl text-lg transition-all duration-300 focus:outline-none focus:border-brand-blue focus:scale-105",style:{backgroundColor:e?"#0f172a":"#ffffff",borderColor:e?"#AC7FF4":"rgba(172, 127, 244, 0.3)",color:e?"#f1f5f9":"#1e293b"},placeholder:"Confirm your password"})]}),g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("input",{type:"checkbox",required:!0,className:"mt-1 w-5 h-5 text-brand-purple border-2 border-brand-purple/30 rounded focus:ring-brand-blue"}),g.jsxs("p",{className:"text-sm transition-colors duration-500",style:{color:e?"#94a3b8":"#64748b"},children:[g.jsx("span",{children:"I agree to the "}),g.jsx("button",{type:"button",className:"text-brand-blue hover:underline",onClick:()=>p(!0),children:"Terms of Service"}),g.jsx("span",{children:" and "}),g.jsx("button",{type:"button",className:"text-brand-blue hover:underline",onClick:()=>w(!0),children:"Privacy Policy"})]})]}),g.jsx("button",{type:"submit",className:"w-full py-4 bg-gradient-to-r from-brand-lime to-lime-400 text-slate-800 text-lg font-semibold rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:transform hover:scale-105",children:"Create Account"})]}),g.jsxs("button",{onClick:u,className:"w-full mt-4 py-3 bg-white text-slate-800 border border-gray-300 rounded-xl font-semibold shadow hover:bg-gray-100 transition-all duration-300 flex items-center justify-center gap-2",children:[g.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-6 h-6"}),"Sign up with Google"]}),g.jsx("div",{className:"text-center mt-8",children:g.jsxs("p",{className:"text-lg transition-colors duration-500",style:{color:e?"#94a3b8":"#64748b"},children:[g.jsx("span",{children:"Already have an account? "}),g.jsx("button",{onClick:a,className:"text-brand-blue hover:underline font-semibold transition-all duration-200 hover:scale-105",children:"Sign in"})]})})]})}):null;function R3(){const n=dy(),{isDarkMode:e,toggleDarkMode:t,setDarkMode:r}=hy(),[i,a]=S.useState({showLogin:!1,showSignup:!1,isLoggedIn:!1,showNewChat:!1,appLoaded:!1,signInClicked:!1}),[l,u]=S.useState({username:"",password:""}),[f,p]=S.useState({signupEmail:"",signupPassword:"",signupConfirmPassword:"",signupName:""}),[y,w]=S.useState(!1),[v,C]=S.useState(!1);S.useEffect(()=>{const $=Cy(bn,q=>{a(P=>({...P,isLoggedIn:!!q}))}),H=setTimeout(()=>{a(q=>({...q,appLoaded:!0}))},100);return()=>{clearTimeout(H),$()}},[]);const R=()=>{a($=>({...$,signInClicked:!0})),setTimeout(()=>{a($=>({...$,showLogin:!0,signInClicked:!1}))},200)},b=async $=>{$.preventDefault();try{await E4(bn,l.username,l.password),a(H=>({...H,isLoggedIn:!0,showLogin:!1})),u({username:"",password:""})}catch(H){alert("Login failed: "+H.message)}},T=async $=>{if($.preventDefault(),f.signupEmail&&f.signupPassword&&f.signupConfirmPassword&&f.signupName&&f.signupPassword===f.signupConfirmPassword)try{await x4(bn,f.signupEmail,f.signupPassword),a(H=>({...H,isLoggedIn:!0,showSignup:!1})),p({signupEmail:"",signupPassword:"",signupConfirmPassword:"",signupName:""})}catch(H){alert("Signup failed: "+H.message)}},L=async()=>{await Jb(bn),a($=>({...$,isLoggedIn:!1,showNewChat:!1}))},j=async()=>{try{const $=new zs;await K4(bn,$),a(H=>({...H,isLoggedIn:!0,showLogin:!1}))}catch($){alert("Google sign-in failed: "+$.message)}},F=()=>{i.isLoggedIn&&(a($=>({...$,showNewChat:!0})),n("/chat"))};return g.jsxs("div",{className:"min-h-screen w-full font-poppins relative overflow-hidden transition-all duration-500",style:{background:e?"linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%)":"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 50%, #cbd5e1 100%)"},children:[g.jsx(S3,{isDarkMode:e}),g.jsxs("div",{className:"relative z-10 flex flex-col min-h-screen",children:[g.jsx(C3,{isDarkMode:e,onSignIn:R,onNewChat:F,onLogout:L,onToggleDarkMode:()=>t(),onLogoClick:()=>n("/"),appLoaded:i.appLoaded,isLoggedIn:i.isLoggedIn,signInClicked:i.signInClicked}),g.jsx("main",{className:"flex-1 flex items-center justify-center px-8 max-sm:px-2",children:g.jsxs("div",{className:"text-center max-w-5xl mx-auto w-full",children:[g.jsxs("div",{className:"mb-16 transition-all duration-1200 ease-out",style:{opacity:i.appLoaded?1:0,transform:i.appLoaded?"translateY(0) scale(1)":"translateY(50px) scale(0.9)",transitionDelay:"0.3s",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"},children:[g.jsxs("div",{className:"relative mb-12 max-sm:mb-6",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-brand-purple via-brand-blue to-brand-pink rounded-3xl blur-2xl opacity-20 animate-pulse max-sm:rounded-xl"}),g.jsx("h2",{className:"relative text-9xl font-bold mb-8 leading-tight max-lg:text-7xl max-sm:text-4xl max-sm:mb-4 bg-gradient-to-r bg-clip-text transition-all duration-500",style:{color:e?"#f1f5f9":"#1e293b",wordBreak:"break-word"},children:"Companion AI"})]}),g.jsxs("div",{className:"relative mb-12 max-sm:mb-6",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-brand-purple to-brand-blue rounded-2xl blur-xl opacity-10 max-sm:rounded-lg"}),g.jsx("p",{className:"relative text-3xl max-w-4xl mx-auto max-lg:text-2xl max-sm:text-lg font-medium rounded-2xl p-8 max-sm:p-4 duration-500",style:{color:e?"#cbd5e1":"#475569"},children:"Your AI-powered mental health companion"})]})]}),g.jsx("div",{className:"transition-all duration-1000 ease-out",style:{opacity:i.appLoaded?1:0,transform:i.appLoaded?"translateY(0)":"translateY(20px)",transitionDelay:"1s"},children:i.isLoggedIn?g.jsx("div",{className:"text-center",children:g.jsxs("button",{onClick:F,className:"inline-flex items-center px-16 py-5 bg-gradient-to-r from-brand-purple to-brand-blue text-white text-2xl font-semibold rounded-2xl shadow-2xl hover:shadow-3xl transition-all duration-300 max-sm:px-6 max-sm:py-3 max-sm:text-lg hover:transform hover:scale-105",children:[g.jsx("span",{children:"Start Chatting "}),g.jsx("svg",{className:"w-7 h-7 ml-4 max-sm:w-5 max-sm:h-5 max-sm:ml-2",fill:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})})]})}):g.jsx("button",{onClick:R,className:"inline-flex items-center px-16 py-5 bg-gradient-to-r from-brand-purple to-brand-blue text-white text-2xl font-semibold rounded-2xl shadow-2xl hover:shadow-3xl transition-all duration-300 max-sm:px-6 max-sm:py-3 max-sm:text-lg",style:{transform:i.signInClicked?"scale(0.95)":"scale(1)",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)"},children:g.jsx("span",{children:"Start Chatting "})})})]})})]}),g.jsx(I3,{show:i.showLogin,isDarkMode:e,loginForm:l,onClose:()=>a($=>({...$,showLogin:!1})),onLogin:b,onOpenSignup:()=>{a($=>({...$,showLogin:!1})),setTimeout(()=>{a($=>({...$,showSignup:!0}))},150)},onInputChange:($,H)=>u(q=>({...q,[$]:H})),onGoogleLogin:j}),g.jsx(A3,{show:i.showSignup,isDarkMode:e,signupForm:f,onClose:()=>a($=>({...$,showSignup:!1})),onSignup:T,onBackToLogin:()=>{a($=>({...$,showSignup:!1})),setTimeout(()=>{a($=>({...$,showLogin:!0}))},150)},onInputChange:($,H)=>p(q=>({...q,[$]:H})),onGoogleSignup:j,showTerms:y,setShowTerms:w,showPrivacy:v,setShowPrivacy:C}),y&&g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60",children:g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-8 w-full max-w-lg mx-auto relative max-sm:p-3 max-sm:max-w-xs",children:[g.jsx("button",{className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 dark:text-gray-300 dark:hover:text-white max-sm:top-2 max-sm:right-2",onClick:()=>w(!1),children:g.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})}),g.jsx("h2",{className:"text-2xl font-bold mb-4 text-center max-sm:text-lg",children:"Terms of Service"}),g.jsx("div",{className:"overflow-y-auto max-h-96 text-gray-700 dark:text-gray-200 max-sm:max-h-60 text-sm",children:g.jsxs("div",{className:"space-y-4 text-left",children:[g.jsxs("div",{children:[g.jsx("strong",{children:"TERMS OF SERVICE (TOS)"}),g.jsx("br",{}),g.jsx("span",{children:"Effective Date: July 5, 2025"}),g.jsx("br",{}),g.jsx("span",{children:"App Name: Companion AI"}),g.jsx("br",{}),g.jsx("span",{children:"Developer: Atishay Shukla (solo developer)"})]}),g.jsxs("div",{children:[g.jsx("strong",{children:"1. Acceptance of Terms"}),g.jsx("br",{}),"By using Companion AI (the “App”), you agree to these Terms. If you do not agree, please do not use the App."]}),g.jsxs("div",{children:[g.jsx("strong",{children:"2. Purpose of the App"}),g.jsx("br",{}),"Companion AI is an AI-powered tool to support emotional well-being and mental health awareness. It is not a professional medical or therapeutic service."]}),g.jsxs("div",{children:[g.jsx("strong",{children:"3. User Content"}),g.jsx("br",{}),"By using this app, you may submit:",g.jsx("br",{}),g.jsxs("ul",{className:"list-disc ml-6",children:[g.jsx("li",{children:"Text messages"}),g.jsx("li",{children:"Images for emotion detection"})]}),"You keep ownership of your content, but you allow me (the developer) to:",g.jsx("br",{}),g.jsxs("ul",{className:"list-disc ml-6",children:[g.jsx("li",{children:"Store and process your data for better app functionality"}),g.jsx("li",{children:"Use anonymized data to train and improve the AI model"})]}),g.jsx("span",{className:"text-yellow-700 dark:text-yellow-400 font-semibold",children:"⚠️ Note:"})," ","This means your images and messages might be used to improve the AI in the future — but they’ll never be linked to your name or account."]}),g.jsxs("div",{children:[g.jsx("strong",{children:"4. User Responsibilities"}),g.jsx("br",{}),"Don’t upload harmful, violent, or illegal content.",g.jsx("br",{}),"Don’t use this app for crisis help — it’s not a substitute for a therapist or counselor."]}),g.jsxs("div",{children:[g.jsx("strong",{children:"5. AI Limitations"}),g.jsx("br",{}),"The AI tries to help — but it’s not always right. It’s still learning. If you’re going through something serious, please talk to someone or reach out for real human support."]}),g.jsxs("div",{children:[g.jsx("strong",{children:"6. Account & Data"}),g.jsx("br",{}),"Firebase Authentication is used to secure your account.",g.jsx("br",{}),"Your messages and photos are stored securely using Firebase Firestore and Storage."]}),g.jsxs("div",{children:[g.jsx("strong",{children:"7. Termination"}),g.jsx("br",{}),"If you break the rules or abuse the app, your access may be removed."]}),g.jsxs("div",{children:[g.jsx("strong",{children:"8. Changes to Terms"}),g.jsx("br",{}),"These terms might be updated in the future. Any big changes will be announced in-app."]})]})})]})}),v&&g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60",children:g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-8 w-full max-w-lg mx-auto relative max-sm:p-3 max-sm:max-w-xs",children:[g.jsx("button",{className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 dark:text-gray-300 dark:hover:text-white max-sm:top-2 max-sm:right-2",onClick:()=>C(!1),children:g.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})}),g.jsx("h2",{className:"text-2xl font-bold mb-4 text-center max-sm:text-lg",children:"Privacy Policy"}),g.jsx("div",{className:"overflow-y-auto max-h-96 text-gray-700 dark:text-gray-200 max-sm:max-h-60 text-sm",children:g.jsxs("div",{className:"space-y-4 text-left",children:[g.jsxs("div",{children:[g.jsx("strong",{children:"PRIVACY POLICY"}),g.jsx("br",{}),g.jsx("span",{children:"Effective Date: July 5, 2025"}),g.jsx("br",{}),g.jsx("span",{children:"App Name: Companion AI"}),g.jsx("br",{}),g.jsx("span",{children:"Developer: Atishay Shukla (solo developer)"})]}),g.jsxs("div",{children:[g.jsx("strong",{children:"1. Information We Collect"}),g.jsx("br",{}),"We collect information to provide better services to all our users. The information we collect includes:",g.jsx("br",{}),g.jsxs("ul",{className:"list-disc ml-6",children:[g.jsx("li",{children:"Personal information you provide when signing up"}),g.jsx("li",{children:"Content you create or upload while using the app (e.g., text messages, images)"}),g.jsx("li",{children:"Usage data, such as your interactions with the app and device information"})]})]}),g.jsxs("div",{children:[g.jsx("strong",{children:"2. How We Use Your Information"}),g.jsx("br",{}),"We use the information we collect for the following purposes:",g.jsx("br",{}),g.jsxs("ul",{className:"list-disc ml-6",children:[g.jsx("li",{children:"To provide and maintain our service"}),g.jsx("li",{children:"To improve, personalize, and expand our service and features"}),g.jsx("li",{children:"To understand and analyze how you use our app"}),g.jsx("li",{children:"To communicate with you, including for customer service and support"}),g.jsx("li",{children:"To process your transactions and manage your orders"}),g.jsx("li",{children:"To send you emails or notifications about your account or other products, services, and events that we offer"}),g.jsx("li",{children:"To detect, prevent, and address technical issues or fraudulent activities"}),g.jsx("li",{children:"To comply with legal obligations and protect our rights"})]})]}),g.jsxs("div",{children:[g.jsx("strong",{children:"3. How We Share Your Information"}),g.jsx("br",{}),"We do not sell or rent your personal information to third parties. We may share your information in the following situations:",g.jsx("br",{}),g.jsxs("ul",{className:"list-disc ml-6",children:[g.jsx("li",{children:"With service providers, business partners, and other third parties who perform services on our behalf or assist us in operating our app, conducting our business, or servicing you"}),g.jsx("li",{children:"With your consent or at your direction, such as when you choose to share your content with others"}),g.jsx("li",{children:"To comply with legal obligations, respond to subpoenas, court orders, or other legal processes, or to establish or exercise our legal rights or defend against legal claims"}),g.jsx("li",{children:"In connection with a merger, sale of assets, financing, or acquisition of all or a portion of our business by another company"}),g.jsx("li",{children:"With affiliates, in which case we will require those affiliates to honor this Privacy Policy"})]})]}),g.jsxs("div",{children:[g.jsx("strong",{children:"4. Data Security"}),g.jsx("br",{}),"We take reasonable measures to help protect information about you from loss, theft, and misuse, as well as unauthorized access, disclosure, alteration, and destruction. However, no internet or electronic storage method can be 100% secure, so we cannot guarantee its absolute security."]}),g.jsxs("div",{children:[g.jsx("strong",{children:"5. Your Rights and Choices"}),g.jsx("br",{}),"You have certain rights and choices regarding your personal information, including:",g.jsx("br",{}),g.jsxs("ul",{className:"list-disc ml-6",children:[g.jsx("li",{children:"The right to access, update, or delete the information we have about you"}),g.jsx("li",{children:"The right to rectification, allowing you to request the correction of inaccurate or incomplete personal data"}),g.jsx("li",{children:"The right to object to or restrict the processing of your personal data"}),g.jsx("li",{children:"The right to data portability, allowing you to request a copy of your personal data in a structured, commonly used, and machine-readable format"}),g.jsx("li",{children:"The right to withdraw consent, where we rely on your consent to process your personal data"}),g.jsx("li",{children:"The right to complain to a data protection authority about our collection and use of your personal data"})]})]}),g.jsxs("div",{children:[g.jsx("strong",{children:"6. Changes to This Privacy Policy"}),g.jsx("br",{}),"We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the effective date at the top of this policy. You are advised to review this Privacy Policy periodically for any changes. Changes to this Privacy Policy are effective when they are posted on this page."]}),g.jsxs("div",{children:[g.jsx("strong",{children:"7. Contact Us"}),g.jsx("br",{}),"If you have any questions or concerns about this Privacy Policy or our data practices, please contact us at:",g.jsx("br",{}),g.jsx("span",{className:"font-semibold",children:"Atishay Shukla"}),g.jsx("br",{}),"Email:"," ",g.jsx("a",{href:"mailto:atishayshukla2003@gmail.com",className:"text-brand-blue hover:underline",children:"atishayshukla2003@gmail.com"}),g.jsx("br",{}),"This privacy policy was created with the help of"," ",g.jsx("a",{href:"https://www.privacypolicygenerator.info/",target:"_blank",rel:"noopener noreferrer",className:"text-brand-blue hover:underline",children:"Privacy Policy Generator"}),"."]})]})})]})})]})}const P3="modulepreload",k3=function(n){return"/"+n},qx={},Mg=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let l=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=l(t.map(p=>{if(p=k3(p),p in qx)return;qx[p]=!0;const y=p.endsWith(".css"),w=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${w}`))return;const v=document.createElement("link");if(v.rel=y?"stylesheet":P3,y||(v.as="script"),v.crossOrigin="",v.href=p,f&&v.setAttribute("nonce",f),document.head.appendChild(v),y)return new Promise((C,R)=>{v.addEventListener("load",C),v.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})};var N3=Object.defineProperty,D3=(n,e,t)=>e in n?N3(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Le=(n,e,t)=>(D3(n,typeof e!="symbol"?e+"":e,t),t),ZS=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},Ec=(n,e,t)=>(ZS(n,e,"read from private field"),e.get(n)),O3=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},M3=(n,e,t,r)=>(ZS(n,e,"write to private field"),e.set(n,t),t),Nm=new Intl.Collator(0,{numeric:1}).compare;function eC(n,e,t){return n=n.split("."),e=e.split("."),Nm(n[0],e[0])||Nm(n[1],e[1])||(e[2]=e.slice(2).join("."),t=/[.-]/.test(n[2]=n.slice(2).join(".")),t==/[.-]/.test(e[2])?Nm(n[2],e[2]):t?-1:1)}const L3="host",tC="queue/data",j3="queue/join",Gx="upload",V3="login",Kx="config",F3="info",U3="runtime",z3="sleeptime",$3="heartbeat",B3="component_server",W3="reset",H3="cancel",q3="app_id",G3="https://gradio-space-api-fetcher-v2.hf.space/api",nC="This application is currently busy. Please try again. ",Uo="Connection errored out. ",ki="Could not resolve app config. ",K3="Could not get space status. ",Q3="Could not get API info. ",rv="Space metadata could not be loaded. ",Y3="Invalid URL. A full URL path is required.",X3="Not authorized to access this space. ",rC="Invalid credentials. Could not login. ",J3="Login credentials are required to access this space.",Z3="File system access is only available in Node.js environments",sC="Root URL not found in client config",eV="Error uploading file";function tV(n,e,t){return e.startsWith("http://")||e.startsWith("https://")?t?n:e:n+e}async function Qx(n,e,t){try{return(await(await fetch(`https://huggingface.co/api/spaces/${n}/jwt`,{headers:{Authorization:`Bearer ${e}`,...t?{Cookie:t}:{}}})).json()).token||!1}catch{return!1}}function nV(n){let e={};return n.forEach(({api_name:t,id:r})=>{t&&(e[t]=r)}),e}async function rV(n){const e=this.options.hf_token?{Authorization:`Bearer ${this.options.hf_token}`}:{};if(e["Content-Type"]="application/json",typeof window<"u"&&window.gradio_config&&location.origin!=="http://localhost:9876"&&!window.gradio_config.dev_mode)return window.gradio_config.current_page&&(n=n.substring(0,n.lastIndexOf("/"))),window.gradio_config.root=n,{...window.gradio_config};if(n){let t=aC(n,this.deep_link?Kx+"?deep_link="+this.deep_link:Kx);const r=await this.fetch(t,{headers:e,credentials:"include"});return sV(r,n,!!this.options.auth)}throw new Error(ki)}async function sV(n,e,t){var r,i;if((n==null?void 0:n.status)===401&&!t){const a=await n.json(),l=(r=a==null?void 0:a.detail)==null?void 0:r.auth_message;throw new Error(l||J3)}else if((n==null?void 0:n.status)===401&&t)throw new Error(rC);if((n==null?void 0:n.status)===200){let a=await n.json();return a.root=e,(i=a.dependencies)==null||i.forEach((l,u)=>{l.id===void 0&&(l.id=u)}),a}else if((n==null?void 0:n.status)===401)throw new Error(X3);throw new Error(ki)}async function iV(){const{http_protocol:n,host:e}=await Af(this.app_reference,this.options.hf_token);try{if(this.options.auth){const t=await iC(n,e,this.options.auth,this.fetch,this.options.hf_token);t&&this.set_cookies(t)}}catch(t){throw Error(t.message)}}async function iC(n,e,t,r,i){const a=new FormData;a.append("username",t==null?void 0:t[0]),a.append("password",t==null?void 0:t[1]);let l={};i&&(l.Authorization=`Bearer ${i}`);const u=await r(`${n}//${e}/${V3}`,{headers:l,method:"POST",body:a,credentials:"include"});if(u.status===200)return u.headers.get("set-cookie");throw u.status===401?new Error(rC):new Error(rv)}function Dm(n){if(n.startsWith("http")){const{protocol:e,host:t,pathname:r}=new URL(n);return{ws_protocol:e==="https:"?"wss":"ws",http_protocol:e,host:t+(r!=="/"?r:"")}}else if(n.startsWith("file:"))return{ws_protocol:"ws",http_protocol:"http:",host:"lite.local"};return{ws_protocol:"wss",http_protocol:"https:",host:new URL(n).host}}const oC=n=>{let e=[];return n.split(/,(?=\s*[^\s=;]+=[^\s=;]+)/).forEach(t=>{const[r,i]=t.split(";")[0].split("=");r&&i&&e.push(`${r.trim()}=${i.trim()}`)}),e},sv=/^[a-zA-Z0-9_\-\.]+\/[a-zA-Z0-9_\-\.]+$/,oV=/.*hf\.space\/{0,1}.*$/;async function Af(n,e){const t={};e&&(t.Authorization=`Bearer ${e}`);const r=n.trim().replace(/\/$/,"");if(sv.test(r))try{const i=(await(await fetch(`https://huggingface.co/api/spaces/${r}/${L3}`,{headers:t})).json()).host;return{space_id:n,...Dm(i)}}catch{throw new Error(rv)}if(oV.test(r)){const{ws_protocol:i,http_protocol:a,host:l}=Dm(r);return{space_id:l.split("/")[0].replace(".hf.space",""),ws_protocol:i,http_protocol:a,host:l}}return{space_id:!1,...Dm(r)}}const aC=(...n)=>{try{return n.reduce((e,t)=>(e=e.replace(/\/+$/,""),t=t.replace(/^\/+/,""),new URL(t,e+"/").toString()))}catch{throw new Error(Y3)}};function aV(n,e,t){const r={named_endpoints:{},unnamed_endpoints:{}};return Object.keys(n).forEach(i=>{(i==="named_endpoints"||i==="unnamed_endpoints")&&(r[i]={},Object.entries(n[i]).forEach(([a,{parameters:l,returns:u}])=>{var f,p,y,w;const v=((f=e.dependencies.find(b=>b.api_name===a||b.api_name===a.replace("/","")))==null?void 0:f.id)||t[a.replace("/","")]||-1,C=v!==-1?(p=e.dependencies.find(b=>b.id==v))==null?void 0:p.types:{generator:!1,cancel:!1};if(v!==-1&&((w=(y=e.dependencies.find(b=>b.id==v))==null?void 0:y.inputs)==null?void 0:w.length)!==l.length){const b=e.dependencies.find(T=>T.id==v).inputs.map(T=>{var L;return(L=e.components.find(j=>j.id===T))==null?void 0:L.type});try{b.forEach((T,L)=>{if(T==="state"){const j={component:"state",example:null,parameter_default:null,parameter_has_default:!0,parameter_name:null,hidden:!0};l.splice(L,0,j)}})}catch(T){console.error(T)}}const R=(b,T,L,j)=>({...b,description:cV(b==null?void 0:b.type,L),type:lV(b==null?void 0:b.type,T,L,j)||""});r[i][a]={parameters:l.map(b=>R(b,b==null?void 0:b.component,b==null?void 0:b.serializer,"parameter")),returns:u.map(b=>R(b,b==null?void 0:b.component,b==null?void 0:b.serializer,"return")),type:C}}))}),r}function lV(n,e,t,r){if(e==="Api")return n.type;switch(n==null?void 0:n.type){case"string":return"string";case"boolean":return"boolean";case"number":return"number"}if(t==="JSONSerializable"||t==="StringSerializable")return"any";if(t==="ListStringSerializable")return"string[]";if(e==="Image")return r==="parameter"?"Blob | File | Buffer":"string";if(t==="FileSerializable")return(n==null?void 0:n.type)==="array"?r==="parameter"?"(Blob | File | Buffer)[]":"{ name: string; data: string; size?: number; is_file?: boolean; orig_name?: string}[]":r==="parameter"?"Blob | File | Buffer":"{ name: string; data: string; size?: number; is_file?: boolean; orig_name?: string}";if(t==="GallerySerializable")return r==="parameter"?"[(Blob | File | Buffer), (string | null)][]":"[{ name: string; data: string; size?: number; is_file?: boolean; orig_name?: string}, (string | null))][]"}function cV(n,e){return e==="GallerySerializable"?"array of [file, label] tuples":e==="ListStringSerializable"?"array of strings":e==="FileSerializable"?"array of files or single file":n==null?void 0:n.description}function Om(n,e){switch(n.msg){case"send_data":return{type:"data"};case"send_hash":return{type:"hash"};case"queue_full":return{type:"update",status:{queue:!0,message:nC,stage:"error",code:n.code,success:n.success}};case"heartbeat":return{type:"heartbeat"};case"unexpected_error":return{type:"unexpected_error",status:{queue:!0,message:n.message,session_not_found:n.session_not_found,stage:"error",success:!1}};case"broken_connection":return{type:"broken_connection",status:{queue:!0,message:n.message,stage:"error",success:!1}};case"estimation":return{type:"update",status:{queue:!0,stage:e||"pending",code:n.code,size:n.queue_size,position:n.rank,eta:n.rank_eta,success:n.success}};case"progress":return{type:"update",status:{queue:!0,stage:"pending",code:n.code,progress_data:n.progress_data,success:n.success}};case"log":return{type:"log",data:n};case"process_generating":return{type:"generating",status:{queue:!0,message:n.success?null:n.output.error,stage:n.success?"generating":"error",code:n.code,progress_data:n.progress_data,eta:n.average_duration,changed_state_ids:n.success?n.output.changed_state_ids:void 0},data:n.success?n.output:null};case"process_streaming":return{type:"streaming",status:{queue:!0,message:n.output.error,stage:"streaming",time_limit:n.time_limit,code:n.code,progress_data:n.progress_data,eta:n.eta},data:n.output};case"process_completed":return"error"in n.output?{type:"update",status:{queue:!0,title:n.output.title,message:n.output.error,visible:n.output.visible,duration:n.output.duration,stage:"error",code:n.code,success:n.success}}:{type:"complete",status:{queue:!0,message:n.success?void 0:n.output.error,stage:n.success?"complete":"error",code:n.code,progress_data:n.progress_data,changed_state_ids:n.success?n.output.changed_state_ids:void 0},data:n.success?n.output:null};case"process_starts":return{type:"update",status:{queue:!0,stage:"pending",code:n.code,size:n.rank,position:0,success:n.success,eta:n.eta},original_msg:"process_starts"}}return{type:"none",status:{stage:"error",queue:!0}}}const uV=(n=[],e)=>{const t=e?e.parameters:[];if(Array.isArray(n))return e&&t.length>0&&n.length>t.length&&console.warn("Too many arguments provided for the endpoint."),n;const r=[],i=Object.keys(n);return t.forEach((a,l)=>{if(n.hasOwnProperty(a.parameter_name))r[l]=n[a.parameter_name];else if(a.parameter_has_default)r[l]=a.parameter_default;else throw new Error(`No value provided for required parameter: ${a.parameter_name}`)}),i.forEach(a=>{if(!t.some(l=>l.parameter_name===a))throw new Error(`Parameter \`${a}\` is not a valid keyword argument. Please refer to the API for usage.`)}),r.forEach((a,l)=>{if(a===void 0&&!t[l].parameter_has_default)throw new Error(`No value provided for required parameter: ${t[l].parameter_name}`)}),r};async function dV(){if(this.api_info)return this.api_info;const{hf_token:n}=this.options,{config:e}=this,t={"Content-Type":"application/json"};if(n&&(t.Authorization=`Bearer ${n}`),!!e)try{let r,i;if(typeof window<"u"&&window.gradio_api_info)i=window.gradio_api_info;else{if(eC((e==null?void 0:e.version)||"2.0.0","3.30")<0)r=await this.fetch(G3,{method:"POST",body:JSON.stringify({serialize:!1,config:JSON.stringify(e)}),headers:t,credentials:"include"});else{const a=aC(e.root,this.api_prefix,F3);r=await this.fetch(a,{headers:t,credentials:"include"})}if(!r.ok)throw new Error(Uo);i=await r.json()}return"api"in i&&(i=i.api),i.named_endpoints["/predict"]&&!i.unnamed_endpoints[0]&&(i.unnamed_endpoints[0]=i.named_endpoints["/predict"]),aV(i,e,this.api_map)}catch(r){throw new Error("Could not get API info. "+r.message)}}async function hV(n,e,t){var r;const i={};(r=this==null?void 0:this.options)!=null&&r.hf_token&&(i.Authorization=`Bearer ${this.options.hf_token}`);const a=1e3,l=[];let u;for(let f=0;f<e.length;f+=a){const p=e.slice(f,f+a),y=new FormData;p.forEach(v=>{y.append("files",v)});try{const v=t?`${n}${this.api_prefix}/${Gx}?upload_id=${t}`:`${n}${this.api_prefix}/${Gx}`;u=await this.fetch(v,{method:"POST",body:y,headers:i,credentials:"include"})}catch(v){throw new Error(Uo+v.message)}if(!u.ok){const v=await u.text();return{error:`HTTP ${u.status}: ${v}`}}const w=await u.json();w&&l.push(...w)}return{files:l}}async function fV(n,e,t,r){let i=(Array.isArray(n)?n:[n]).map(l=>l.blob);const a=i.filter(l=>l.size>(r??1/0));if(a.length)throw new Error(`File size exceeds the maximum allowed size of ${r} bytes: ${a.map(l=>l.name).join(", ")}`);return await Promise.all(await this.upload_files(e,i,t).then(async l=>{if(l.error)throw new Error(l.error);return l.files?l.files.map((u,f)=>new iv({...n[f],path:u,url:`${e}${this.api_prefix}/file=${u}`})):[]}))}class iv{constructor({path:e,url:t,orig_name:r,size:i,blob:a,is_stream:l,mime_type:u,alt_text:f,b64:p}){Le(this,"path"),Le(this,"url"),Le(this,"orig_name"),Le(this,"size"),Le(this,"blob"),Le(this,"is_stream"),Le(this,"mime_type"),Le(this,"alt_text"),Le(this,"b64"),Le(this,"meta",{_type:"gradio.FileData"}),this.path=e,this.url=t,this.orig_name=r,this.size=i,this.blob=t?void 0:a,this.is_stream=l,this.mime_type=u,this.alt_text=f,this.b64=p}}class pV{constructor(e,t){Le(this,"type"),Le(this,"command"),Le(this,"meta"),Le(this,"fileData"),this.type="command",this.command=e,this.meta=t}}typeof process<"u"&&process.versions&&process.versions.node;function Yx(n,e,t){for(;t.length>1;){const i=t.shift();if(typeof i=="string"||typeof i=="number")n=n[i];else throw new Error("Invalid key type")}const r=t.shift();if(typeof r=="string"||typeof r=="number")n[r]=e;else throw new Error("Invalid key type")}async function Lg(n,e=void 0,t=[],r=!1,i=void 0){if(Array.isArray(n)){let a=[];return await Promise.all(n.map(async(l,u)=>{var f;let p=t.slice();p.push(String(u));const y=await Lg(n[u],r?((f=i==null?void 0:i.parameters[u])==null?void 0:f.component)||void 0:e,p,!1,i);a=a.concat(y)})),a}else{if(globalThis.Buffer&&n instanceof globalThis.Buffer||n instanceof Blob)return[{path:t,blob:new Blob([n]),type:e}];if(typeof n=="object"&&n!==null){let a=[];for(const l of Object.keys(n)){const u=[...t,l],f=n[l];a=a.concat(await Lg(f,void 0,u,!1,i))}return a}}return[]}function mV(n,e){var t,r;let i=(r=(t=e==null?void 0:e.dependencies)==null?void 0:t.find(a=>a.id==n))==null?void 0:r.queue;return i!=null?!i:!e.enable_queue}function gV(n,e){return new Promise((t,r)=>{const i=new MessageChannel;i.port1.onmessage=({data:a})=>{i.port1.close(),t(a)},window.parent.postMessage(n,e,[i.port2])})}function bc(n,e,t,r,i=!1){if(r==="input"&&!i)throw new Error("Invalid code path. Cannot skip state inputs for input.");if(r==="output"&&i)return n;let a=[],l=0;const u=r==="input"?e.inputs:e.outputs;for(let f=0;f<u.length;f++){const p=u[f],y=t.find(w=>w.id===p);if((y==null?void 0:y.type)==="state"){if(i)if(n.length===u.length){const w=n[l];a.push(w),l++}else a.push(null);else{l++;continue}continue}else{const w=n[l];a.push(w),l++}}return a}async function yV(n,e,t){const r=this;await vV(r,e);const i=await Lg(e,void 0,[],!0,t);return(await Promise.all(i.map(async({path:a,blob:l,type:u})=>{if(!l)return{path:a,type:u};const f=await r.upload_files(n,[l]),p=f.files&&f.files[0];return{path:a,file_url:p,type:u,name:typeof File<"u"&&l instanceof File?l==null?void 0:l.name:void 0}}))).forEach(({path:a,file_url:l,type:u,name:f})=>{if(u==="Gallery")Yx(e,l,a);else if(l){const p=new iv({path:l,orig_name:f});Yx(e,p,a)}}),e}async function vV(n,e){var t,r;if(!((t=n.config)!=null&&t.root||(r=n.config)!=null&&r.root_url))throw new Error(sC);await lC(n,e)}async function lC(n,e,t=[]){for(const r in e)e[r]instanceof pV?await wV(n,e,r):typeof e[r]=="object"&&e[r]!==null&&await lC(n,e[r],[...t,r])}async function wV(n,e,t){var r,i;let a=e[t];const l=((r=n.config)==null?void 0:r.root)||((i=n.config)==null?void 0:i.root_url);if(!l)throw new Error(sC);try{let u,f;if(typeof process<"u"&&process.versions&&process.versions.node){const v=await Mg(()=>import("./__vite-browser-external-DYxpcVy9-BIHI7g3E.js"),[]);f=(await Mg(async()=>{const{resolve:C}=await import("./__vite-browser-external-DYxpcVy9-BIHI7g3E.js");return{resolve:C}},[])).resolve(process.cwd(),a.meta.path),u=await v.readFile(f)}else throw new Error(Z3);const p=new Blob([u],{type:"application/octet-stream"}),y=await n.upload_files(l,[p]),w=y.files&&y.files[0];if(w){const v=new iv({path:w,orig_name:a.meta.name||""});e[t]=v}}catch(u){console.error(eV,u)}}async function _V(n,e,t){const r={"Content-Type":"application/json"};this.options.hf_token&&(r.Authorization=`Bearer ${this.options.hf_token}`);try{var i=await this.fetch(n,{method:"POST",body:JSON.stringify(e),headers:{...r,...t},credentials:"include"})}catch{return[{error:Uo},500]}let a,l;try{a=await i.json(),l=i.status}catch(u){a={error:`Could not parse server response: ${u}`},l=500}return[a,l]}async function xV(n,e={}){let t=!1,r=!1;if(!this.config)throw new Error("Could not resolve app config");if(typeof n=="number")this.config.dependencies.find(i=>i.id==n);else{const i=n.replace(/^\//,"");this.config.dependencies.find(a=>a.id==this.api_map[i])}return new Promise(async(i,a)=>{const l=this.submit(n,e,null,null,!0);let u;for await(const f of l)f.type==="data"&&(r&&i(u),t=!0,u=f),f.type==="status"&&(f.stage==="error"&&a(f),f.stage==="complete"&&(r=!0,t&&i(u)))})}async function $c(n,e,t){let r=e==="subdomain"?`https://huggingface.co/api/spaces/by-subdomain/${n}`:`https://huggingface.co/api/spaces/${n}`,i,a;try{if(i=await fetch(r),a=i.status,a!==200)throw new Error;i=await i.json()}catch{t({status:"error",load_status:"error",message:K3,detail:"NOT_FOUND"});return}if(!i||a!==200)return;const{runtime:{stage:l},id:u}=i;switch(l){case"STOPPED":case"SLEEPING":t({status:"sleeping",load_status:"pending",message:"Space is asleep. Waking it up...",detail:l}),setTimeout(()=>{$c(n,e,t)},1e3);break;case"PAUSED":t({status:"paused",load_status:"error",message:"This space has been paused by the author. If you would like to try this demo, consider duplicating the space.",detail:l,discussions_enabled:await Xx(u)});break;case"RUNNING":case"RUNNING_BUILDING":t({status:"running",load_status:"complete",message:"Space is running.",detail:l});break;case"BUILDING":t({status:"building",load_status:"pending",message:"Space is building...",detail:l}),setTimeout(()=>{$c(n,e,t)},1e3);break;case"APP_STARTING":t({status:"starting",load_status:"pending",message:"Space is starting...",detail:l}),setTimeout(()=>{$c(n,e,t)},1e3);break;default:t({status:"space_error",load_status:"error",message:"This space is experiencing an issue.",detail:l,discussions_enabled:await Xx(u)});break}}const cC=async(n,e)=>{let t=0;const r=12,i=5e3;return new Promise(a=>{$c(n,sv.test(n)?"space_name":"subdomain",l=>{e(l),l.status==="running"||l.status==="error"||l.status==="paused"||l.status==="space_error"?a():(l.status==="sleeping"||l.status==="building")&&(t<r?(t++,setTimeout(()=>{cC(n,e).then(a)},i)):a())})})},EV=/^(?=[^]*\b[dD]iscussions{0,1}\b)(?=[^]*\b[dD]isabled\b)[^]*$/;async function Xx(n){try{const e=await fetch(`https://huggingface.co/api/spaces/${n}/discussions`,{method:"HEAD"}),t=e.headers.get("x-error-message");return!(!e.ok||t&&EV.test(t))}catch{return!1}}async function bV(n,e){const t={};e&&(t.Authorization=`Bearer ${e}`);try{const r=await fetch(`https://huggingface.co/api/spaces/${n}/${U3}`,{headers:t});if(r.status!==200)throw new Error("Space hardware could not be obtained.");const{hardware:i}=await r.json();return i.current}catch(r){throw new Error(r.message)}}async function TV(n,e,t){const r={};t&&(r.Authorization=`Bearer ${t}`);const i={seconds:e};try{const a=await fetch(`https://huggingface.co/api/spaces/${n}/${z3}`,{method:"POST",headers:{"Content-Type":"application/json",...r},body:JSON.stringify(i)});if(a.status!==200)throw new Error("Could not set sleep timeout on duplicated Space. Please visit *ADD HF LINK TO SETTINGS* to set a timeout manually to reduce billing charges.");return await a.json()}catch(a){throw new Error(a.message)}}const Jx=["cpu-basic","cpu-upgrade","cpu-xl","t4-small","t4-medium","a10g-small","a10g-large","a10g-largex2","a10g-largex4","a100-large","zero-a10g","h100","h100x8"];async function SV(n,e){const{hf_token:t,private:r,hardware:i,timeout:a,auth:l}=e;if(i&&!Jx.includes(i))throw new Error(`Invalid hardware type provided. Valid types are: ${Jx.map(T=>`"${T}"`).join(",")}.`);const{http_protocol:u,host:f}=await Af(n,t);let p=null;if(l){const T=await iC(u,f,l,fetch);T&&(p=oC(T))}const y={Authorization:`Bearer ${t}`,"Content-Type":"application/json",...p?{Cookie:p.join("; ")}:{}},w=(await(await fetch("https://huggingface.co/api/whoami-v2",{headers:y})).json()).name,v=n.split("/")[1],C={repository:`${w}/${v}`};r&&(C.private=!0);let R;try{i||(R=await bV(n,t))}catch(T){throw Error(rv+T.message)}const b=i||R||"cpu-basic";C.hardware=b;try{const T=await fetch(`https://huggingface.co/api/spaces/${n}/duplicate`,{method:"POST",headers:y,body:JSON.stringify(C)});if(T.status===409)try{return await jg.connect(`${w}/${v}`,e)}catch(j){throw console.error("Failed to connect Client instance:",j),j}else if(T.status!==200)throw new Error(T.statusText);const L=await T.json();return await TV(`${w}/${v}`,a||300,t),await jg.connect(CV(L.url),e)}catch(T){throw new Error(T)}}function CV(n){const e=/https:\/\/huggingface.co\/spaces\/([^/]+\/[^/]+)/,t=n.match(e);if(t)return t[1]}var Ri;class IV extends TransformStream{constructor(e={allowCR:!1}){super({transform:(t,r)=>{for(t=Ec(this,Ri)+t;;){const i=t.indexOf(`
`),a=e.allowCR?t.indexOf("\r"):-1;if(a!==-1&&a!==t.length-1&&(i===-1||i-1>a)){r.enqueue(t.slice(0,a)),t=t.slice(a+1);continue}if(i===-1)break;const l=t[i-1]==="\r"?i-1:i;r.enqueue(t.slice(0,l)),t=t.slice(i+1)}M3(this,Ri,t)},flush:t=>{if(Ec(this,Ri)==="")return;const r=e.allowCR&&Ec(this,Ri).endsWith("\r")?Ec(this,Ri).slice(0,-1):Ec(this,Ri);t.enqueue(r)}}),O3(this,Ri,"")}}Ri=new WeakMap;function AV(n){let e=new TextDecoderStream,t=new IV({allowCR:!0});return n.pipeThrough(e).pipeThrough(t)}function RV(n){let e=/[:]\s*/.exec(n),t=e&&e.index;if(t)return[n.substring(0,t),n.substring(t+e[0].length)]}function Zx(n,e,t){n.get(e)||n.set(e,t)}async function*PV(n,e){if(!n.body)return;let t=AV(n.body),r,i=t.getReader(),a;for(;;){if(e&&e.aborted)return i.cancel();if(r=await i.read(),r.done)return;if(!r.value){a&&(yield a),a=void 0;continue}let[l,u]=RV(r.value)||[];l&&(l==="data"?(a||(a={}),a[l]=a[l]?a[l]+`
`+u:u):l==="event"?(a||(a={}),a[l]=u):l==="id"?(a||(a={}),a[l]=+u||u):l==="retry"&&(a||(a={}),a[l]=+u||void 0))}}async function kV(n,e){let t=new Request(n,e);Zx(t.headers,"Accept","text/event-stream"),Zx(t.headers,"Content-Type","application/json");let r=await fetch(t);if(!r.ok)throw r;return PV(r,t.signal)}async function NV(){let{event_callbacks:n,unclosed_events:e,pending_stream_messages:t,stream_status:r,config:i,jwt:a}=this;const l=this;if(!i)throw new Error("Could not resolve app config");r.open=!0;let u=null,f=new URLSearchParams({session_hash:this.session_hash}).toString(),p=new URL(`${i.root}${this.api_prefix}/${tC}?${f}`);if(a&&p.searchParams.set("__sign",a),u=this.stream(p),!u){console.warn("Cannot connect to SSE endpoint: "+p.toString());return}u.onmessage=async function(y){let w=JSON.parse(y.data);if(w.msg==="close_stream"){ov(r,l.abort_controller);return}const v=w.event_id;if(!v)await Promise.all(Object.keys(n).map(C=>n[C](w)));else if(n[v]&&i){w.msg==="process_completed"&&["sse","sse_v1","sse_v2","sse_v2.1","sse_v3"].includes(i.protocol)&&e.delete(v);let C=n[v];typeof window<"u"&&typeof document<"u"?setTimeout(C,0,w):C(w)}else t[v]||(t[v]=[]),t[v].push(w)},u.onerror=async function(y){console.error(y),await Promise.all(Object.keys(n).map(w=>n[w]({msg:"broken_connection",message:Uo})))}}function ov(n,e){n&&(n.open=!1,e==null||e.abort())}function DV(n,e,t){n[e]?t.data.forEach((r,i)=>{let a=OV(n[e][i],r);n[e][i]=a,t.data[i]=a}):(n[e]=[],t.data.forEach((r,i)=>{n[e][i]=r}))}function OV(n,e){return e.forEach(([t,r,i])=>{n=MV(n,r,t,i)}),n}function MV(n,e,t,r){if(e.length===0){if(t==="replace")return r;if(t==="append")return n+r;throw new Error(`Unsupported action: ${t}`)}let i=n;for(let l=0;l<e.length-1;l++)i=i[e[l]];const a=e[e.length-1];switch(t){case"replace":i[a]=r;break;case"append":i[a]+=r;break;case"add":Array.isArray(i)?i.splice(Number(a),0,r):i[a]=r;break;case"delete":Array.isArray(i)?i.splice(Number(a),1):delete i[a];break;default:throw new Error(`Unknown action: ${t}`)}return n}function LV(n,e={}){const t={close:()=>{console.warn("Method not implemented.")},onerror:null,onmessage:null,onopen:null,readyState:0,url:n.toString(),withCredentials:!1,CONNECTING:0,OPEN:1,CLOSED:2,addEventListener:()=>{throw new Error("Method not implemented.")},dispatchEvent:()=>{throw new Error("Method not implemented.")},removeEventListener:()=>{throw new Error("Method not implemented.")}};return kV(n,e).then(async r=>{t.readyState=t.OPEN;try{for await(const i of r)t.onmessage&&t.onmessage(i);t.readyState=t.CLOSED}catch(i){t.onerror&&t.onerror(i),t.readyState=t.CLOSED}}).catch(r=>{console.error(r),t.onerror&&t.onerror(r),t.readyState=t.CLOSED}),t}function jV(n,e={},t,r,i){var a;try{let l=function(Oe){(i||Ue[Oe.type])&&y(Oe)},u=function(){for(qe=!0;Ye.length>0;)Ye.shift()({value:void 0,done:!0})},f=function(Oe){Ye.length>0?Ye.shift()(Oe):Ze.push(Oe)},p=function(Oe){f(VV(Oe)),u()},y=function(Oe){f({value:Oe,done:!1})},w=function(){return Ze.length>0?Promise.resolve(Ze.shift()):new Promise(Oe=>Ye.push(Oe))};const{hf_token:v}=this.options,{fetch:C,app_reference:R,config:b,session_hash:T,api_info:L,api_map:j,stream_status:F,pending_stream_messages:$,pending_diff_streams:H,event_callbacks:q,unclosed_events:P,post_data:A,options:N,api_prefix:O}=this,V=this;if(!L)throw new Error("No API found");if(!b)throw new Error("Could not resolve app config");let{fn_index:M,endpoint_info:D,dependency:ee}=FV(L,n,j,b),be=uV(e,D),ge,fe,Q=b.protocol??"ws",ae="",le=()=>ae;const U=typeof n=="number"?"/predict":n;let X,re=null,ye=!1,Ie={},_e=typeof window<"u"&&typeof document<"u"?new URLSearchParams(window.location.search).toString():"";const Ue=((a=N==null?void 0:N.events)==null?void 0:a.reduce((Oe,ht)=>(Oe[ht]=!0,Oe),{}))||{};async function Ve(){let Oe={},ht={};Q==="ws"?(ge&&ge.readyState===0?ge.addEventListener("open",()=>{ge.close()}):ge.close(),Oe={fn_index:M,session_hash:T}):(Oe={event_id:re},ht={event_id:re,session_hash:T,fn_index:M});try{if(!b)throw new Error("Could not resolve app config");"event_id"in ht&&await C(`${b.root}${O}/${H3}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(ht)}),await C(`${b.root}${O}/${W3}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(Oe)})}catch{console.warn("The `/reset` endpoint could not be called. Subsequent endpoint results may be unreliable.")}}const ue=async Oe=>{await this._resolve_heartbeat(Oe)};async function pe(Oe){if(!b)return;let ht=Oe.render_id;b.components=[...b.components.filter($e=>$e.props.rendered_in!==ht),...Oe.components],b.dependencies=[...b.dependencies.filter($e=>$e.rendered_in!==ht),...Oe.dependencies];const en=b.components.some($e=>$e.type==="state"),lt=b.dependencies.some($e=>$e.targets.some(ft=>ft[1]==="unload"));b.connect_heartbeat=en||lt,await ue(b),l({type:"render",data:Oe,endpoint:U,fn_index:M})}this.handle_blob(b.root,be,D).then(async Oe=>{var ht;if(X={data:bc(Oe,ee,b.components,"input",!0)||[],event_data:t,fn_index:M,trigger_id:r},mV(M,b))l({type:"status",endpoint:U,stage:"pending",queue:!1,fn_index:M,time:new Date}),A(`${b.root}${O}/run${U.startsWith("/")?U:`/${U}`}${_e?"?"+_e:""}`,{...X,session_hash:T}).then(([lt,$e])=>{const ft=lt.data;$e==200?(l({type:"data",endpoint:U,fn_index:M,data:bc(ft,ee,b.components,"output",N.with_null_state),time:new Date,event_data:t,trigger_id:r}),lt.render_config&&pe(lt.render_config),l({type:"status",endpoint:U,fn_index:M,stage:"complete",eta:lt.average_duration,queue:!1,time:new Date})):l({type:"status",stage:"error",endpoint:U,fn_index:M,message:lt.error,queue:!1,time:new Date})}).catch(lt=>{l({type:"status",stage:"error",message:lt.message,endpoint:U,fn_index:M,queue:!1,time:new Date})});else if(Q=="ws"){const{ws_protocol:lt,host:$e}=await Af(R,v);l({type:"status",stage:"pending",queue:!0,endpoint:U,fn_index:M,time:new Date});let ft=new URL(`${lt}://${tV($e,b.root,!0)}/queue/join${_e?"?"+_e:""}`);this.jwt&&ft.searchParams.set("__sign",this.jwt),ge=new WebSocket(ft),ge.onclose=bt=>{bt.wasClean||l({type:"status",stage:"error",broken:!0,message:Uo,queue:!0,endpoint:U,fn_index:M,time:new Date})},ge.onmessage=function(bt){const Ot=JSON.parse(bt.data),{type:ct,status:at,data:He}=Om(Ot,Ie[M]);if(ct==="update"&&at&&!ye)l({type:"status",endpoint:U,fn_index:M,time:new Date,...at}),at.stage==="error"&&ge.close();else if(ct==="hash"){ge.send(JSON.stringify({fn_index:M,session_hash:T}));return}else ct==="data"?ge.send(JSON.stringify({...X,session_hash:T})):ct==="complete"?ye=at:ct==="log"?l({type:"log",title:He.title,log:He.log,level:He.level,endpoint:U,duration:He.duration,visible:He.visible,fn_index:M}):ct==="generating"&&l({type:"status",time:new Date,...at,stage:at==null?void 0:at.stage,queue:!0,endpoint:U,fn_index:M});He&&(l({type:"data",time:new Date,data:bc(He.data,ee,b.components,"output",N.with_null_state),endpoint:U,fn_index:M,event_data:t,trigger_id:r}),ye&&(l({type:"status",time:new Date,...ye,stage:at==null?void 0:at.stage,queue:!0,endpoint:U,fn_index:M}),ge.close()))},eC(b.version||"2.0.0","3.6")<0&&addEventListener("open",()=>ge.send(JSON.stringify({hash:T})))}else if(Q=="sse"){l({type:"status",stage:"pending",queue:!0,endpoint:U,fn_index:M,time:new Date});var en=new URLSearchParams({fn_index:M.toString(),session_hash:T}).toString();let lt=new URL(`${b.root}${O}/${tC}?${_e?_e+"&":""}${en}`);if(this.jwt&&lt.searchParams.set("__sign",this.jwt),fe=this.stream(lt),!fe)return Promise.reject(new Error("Cannot connect to SSE endpoint: "+lt.toString()));fe.onmessage=async function($e){const ft=JSON.parse($e.data),{type:bt,status:Ot,data:ct}=Om(ft,Ie[M]);if(bt==="update"&&Ot&&!ye)l({type:"status",endpoint:U,fn_index:M,time:new Date,...Ot}),Ot.stage==="error"&&(fe==null||fe.close(),u());else if(bt==="data"){let[at,He]=await A(`${b.root}${O}/queue/data`,{...X,session_hash:T,event_id:re});He!==200&&(l({type:"status",stage:"error",message:Uo,queue:!0,endpoint:U,fn_index:M,time:new Date}),fe==null||fe.close(),u())}else bt==="complete"?ye=Ot:bt==="log"?l({type:"log",title:ct.title,log:ct.log,level:ct.level,endpoint:U,duration:ct.duration,visible:ct.visible,fn_index:M}):(bt==="generating"||bt==="streaming")&&l({type:"status",time:new Date,...Ot,stage:Ot==null?void 0:Ot.stage,queue:!0,endpoint:U,fn_index:M});ct&&(l({type:"data",time:new Date,data:bc(ct.data,ee,b.components,"output",N.with_null_state),endpoint:U,fn_index:M,event_data:t,trigger_id:r}),ye&&(l({type:"status",time:new Date,...ye,stage:Ot==null?void 0:Ot.stage,queue:!0,endpoint:U,fn_index:M}),fe==null||fe.close(),u()))}}else if(Q=="sse_v1"||Q=="sse_v2"||Q=="sse_v2.1"||Q=="sse_v3"){l({type:"status",stage:"pending",queue:!0,endpoint:U,fn_index:M,time:new Date});let lt="";typeof window<"u"&&typeof document<"u"&&(lt=(ht=window==null?void 0:window.location)==null?void 0:ht.hostname);const $e=lt.includes(".dev.")?`https://moon-${lt.split(".")[1]}.dev.spaces.huggingface.tech`:"https://huggingface.co";(typeof window<"u"&&typeof document<"u"&&window.parent!=window&&window.supports_zerogpu_headers?gV("zerogpu-headers",$e):Promise.resolve(null)).then(ft=>A(`${b.root}${O}/${j3}?${_e}`,{...X,session_hash:T},ft)).then(async([ft,bt])=>{if(bt===503)l({type:"status",stage:"error",message:nC,queue:!0,endpoint:U,fn_index:M,time:new Date});else if(bt!==200)l({type:"status",stage:"error",broken:!0,message:Uo,queue:!0,endpoint:U,fn_index:M,time:new Date});else{re=ft.event_id,ae=re;let Ot=async function(ct){try{const{type:at,status:He,data:Xe,original_msg:mt}=Om(ct,Ie[M]);if(at=="heartbeat")return;if(at==="update"&&He&&!ye)l({type:"status",endpoint:U,fn_index:M,time:new Date,original_msg:mt,...He});else if(at==="complete")ye=He;else if(at=="unexpected_error"||at=="broken_connection"){console.error("Unexpected error",He==null?void 0:He.message);const On=at==="broken_connection";l({type:"status",stage:"error",message:(He==null?void 0:He.message)||"An Unexpected Error Occurred!",queue:!0,endpoint:U,broken:On,session_not_found:He==null?void 0:He.session_not_found,fn_index:M,time:new Date})}else if(at==="log"){l({type:"log",title:Xe.title,log:Xe.log,level:Xe.level,endpoint:U,duration:Xe.duration,visible:Xe.visible,fn_index:M});return}else(at==="generating"||at==="streaming")&&(l({type:"status",time:new Date,...He,stage:He==null?void 0:He.stage,queue:!0,endpoint:U,fn_index:M}),Xe&&ee.connection!=="stream"&&["sse_v2","sse_v2.1","sse_v3"].includes(Q)&&DV(H,re,Xe));Xe&&(l({type:"data",time:new Date,data:bc(Xe.data,ee,b.components,"output",N.with_null_state),endpoint:U,fn_index:M}),Xe.render_config&&await pe(Xe.render_config),ye&&(l({type:"status",time:new Date,...ye,stage:He==null?void 0:He.stage,queue:!0,endpoint:U,fn_index:M}),u())),((He==null?void 0:He.stage)==="complete"||(He==null?void 0:He.stage)==="error")&&(q[re]&&delete q[re],re in H&&delete H[re])}catch(at){console.error("Unexpected client exception",at),l({type:"status",stage:"error",message:"An Unexpected Error Occurred!",queue:!0,endpoint:U,fn_index:M,time:new Date}),["sse_v2","sse_v2.1","sse_v3"].includes(Q)&&(ov(F,V.abort_controller),F.open=!1,u())}};re in $&&($[re].forEach(ct=>Ot(ct)),delete $[re]),q[re]=Ot,P.add(re),F.open||await this.open_stream()}})}});let qe=!1;const Ze=[],Ye=[],st={[Symbol.asyncIterator]:()=>st,next:w,throw:async Oe=>(p(Oe),w()),return:async()=>(u(),w()),cancel:Ve,event_id:le};return st}catch(l){throw console.error("Submit function encountered an error:",l),l}}function VV(n){return{then:(e,t)=>t(n)}}function FV(n,e,t,r){let i,a,l;if(typeof e=="number")i=e,a=n.unnamed_endpoints[i],l=r.dependencies.find(u=>u.id==e);else{const u=e.replace(/^\//,"");i=t[u],a=n.named_endpoints[e.trim()],l=r.dependencies.find(f=>f.id==t[u])}if(typeof i!="number")throw new Error("There is no endpoint matching that name of fn_index matching that number.");return{fn_index:i,endpoint_info:a,dependency:l}}class jg{constructor(e,t={events:["data"]}){Le(this,"app_reference"),Le(this,"options"),Le(this,"deep_link",null),Le(this,"config"),Le(this,"api_prefix",""),Le(this,"api_info"),Le(this,"api_map",{}),Le(this,"session_hash",Math.random().toString(36).substring(2)),Le(this,"jwt",!1),Le(this,"last_status",{}),Le(this,"cookies",null),Le(this,"stream_status",{open:!1}),Le(this,"closed",!1),Le(this,"pending_stream_messages",{}),Le(this,"pending_diff_streams",{}),Le(this,"event_callbacks",{}),Le(this,"unclosed_events",new Set),Le(this,"heartbeat_event",null),Le(this,"abort_controller",null),Le(this,"stream_instance",null),Le(this,"current_payload"),Le(this,"ws_map",{}),Le(this,"view_api"),Le(this,"upload_files"),Le(this,"upload"),Le(this,"handle_blob"),Le(this,"post_data"),Le(this,"submit"),Le(this,"predict"),Le(this,"open_stream"),Le(this,"resolve_config"),Le(this,"resolve_cookies");var r;this.app_reference=e,this.deep_link=((r=t.query_params)==null?void 0:r.deep_link)||null,t.events||(t.events=["data"]),this.options=t,this.current_payload={},this.view_api=dV.bind(this),this.upload_files=hV.bind(this),this.handle_blob=yV.bind(this),this.post_data=_V.bind(this),this.submit=jV.bind(this),this.predict=xV.bind(this),this.open_stream=NV.bind(this),this.resolve_config=rV.bind(this),this.resolve_cookies=iV.bind(this),this.upload=fV.bind(this),this.fetch=this.fetch.bind(this),this.handle_space_success=this.handle_space_success.bind(this),this.stream=this.stream.bind(this)}get_url_config(e=null){if(!this.config)throw new Error(ki);e===null&&(e=window.location.href);const t=l=>l.replace(/^\/+|\/+$/g,"");let r=t(new URL(this.config.root).pathname),i=t(new URL(e).pathname),a;return i.startsWith(r)?a=t(i.substring(r.length)):a="",this.get_page_config(a)}get_page_config(e){if(!this.config)throw new Error(ki);let t=this.config;return e in t.page||(e=""),{...t,current_page:e,layout:t.page[e].layout,components:t.components.filter(r=>t.page[e].components.includes(r.id)),dependencies:this.config.dependencies.filter(r=>t.page[e].dependencies.includes(r.id))}}fetch(e,t){const r=new Headers((t==null?void 0:t.headers)||{});if(this&&this.cookies&&r.append("Cookie",this.cookies),this&&this.options.headers)for(const i in this.options.headers)r.append(i,this.options.headers[i]);return fetch(e,{...t,headers:r})}stream(e){const t=new Headers;if(this&&this.cookies&&t.append("Cookie",this.cookies),this&&this.options.headers)for(const r in this.options.headers)t.append(r,this.options.headers[r]);return this&&this.options.hf_token&&t.append("Authorization",`Bearer ${this.options.hf_token}`),this.abort_controller=new AbortController,this.stream_instance=LV(e.toString(),{credentials:"include",headers:t,signal:this.abort_controller.signal}),this.stream_instance}async init(){var e;this.options.auth&&await this.resolve_cookies(),await this._resolve_config().then(({config:t})=>this._resolve_heartbeat(t)),this.api_info=await this.view_api(),this.api_map=nV(((e=this.config)==null?void 0:e.dependencies)||[])}async _resolve_heartbeat(e){if(e&&(this.config=e,this.api_prefix=e.api_prefix||"",this.config&&this.config.connect_heartbeat&&this.config.space_id&&this.options.hf_token&&(this.jwt=await Qx(this.config.space_id,this.options.hf_token,this.cookies))),e.space_id&&this.options.hf_token&&(this.jwt=await Qx(e.space_id,this.options.hf_token)),this.config&&this.config.connect_heartbeat){const t=new URL(`${this.config.root}${this.api_prefix}/${$3}/${this.session_hash}`);this.jwt&&t.searchParams.set("__sign",this.jwt),this.heartbeat_event||(this.heartbeat_event=this.stream(t))}}static async connect(e,t={events:["data"]}){const r=new this(e,t);return t.session_hash&&(r.session_hash=t.session_hash),await r.init(),r}async reconnect(){const e=new URL(`${this.config.root}${this.api_prefix}/${q3}`);let t;try{const r=await this.fetch(e);if(!r.ok)throw new Error;t=(await r.json()).app_id}catch{return"broken"}return t!==this.config.app_id?"changed":"connected"}close(){this.closed=!0,ov(this.stream_status,this.abort_controller)}set_current_payload(e){this.current_payload=e}static async duplicate(e,t={events:["data"]}){return SV(e,t)}async _resolve_config(){const{http_protocol:e,host:t,space_id:r}=await Af(this.app_reference,this.options.hf_token),{status_callback:i}=this.options;r&&i&&await cC(r,i);let a;try{let l=`${e}//${t}`;if(a=await this.resolve_config(l),!a)throw new Error(ki);return this.config_success(a)}catch(l){if(r&&i)$c(r,sv.test(r)?"space_name":"subdomain",this.handle_space_success);else throw i&&i({status:"error",message:"Could not load this space.",load_status:"error",detail:"NOT_FOUND"}),Error(l)}}async config_success(e){if(this.config=e,this.api_prefix=e.api_prefix||"",this.config.auth_required)return this.prepare_return_obj();try{this.api_info=await this.view_api()}catch(t){console.error(Q3+t.message)}return this.prepare_return_obj()}async handle_space_success(e){var t;if(!this)throw new Error(ki);const{status_callback:r}=this.options;if(r&&r(e),e.status==="running")try{if(this.config=await this._resolve_config(),this.api_prefix=((t=this==null?void 0:this.config)==null?void 0:t.api_prefix)||"",!this.config)throw new Error(ki);return await this.config_success(this.config)}catch(i){throw r&&r({status:"error",message:"Could not load this space.",load_status:"error",detail:"NOT_FOUND"}),i}}async component_server(e,t,r){var i;if(!this.config)throw new Error(ki);const a={},{hf_token:l}=this.options,{session_hash:u}=this;l&&(a.Authorization=`Bearer ${this.options.hf_token}`);let f,p=this.config.components.find(w=>w.id===e);(i=p==null?void 0:p.props)!=null&&i.root_url?f=p.props.root_url:f=this.config.root;let y;if("binary"in r){y=new FormData;for(const w in r.data)w!=="binary"&&y.append(w,r.data[w]);y.set("component_id",e.toString()),y.set("fn_name",t),y.set("session_hash",u)}else y=JSON.stringify({data:r,component_id:e,fn_name:t,session_hash:u}),a["Content-Type"]="application/json";l&&(a.Authorization=`Bearer ${l}`);try{const w=await this.fetch(`${f}${this.api_prefix}/${B3}/`,{method:"POST",body:y,headers:a,credentials:"include"});if(!w.ok)throw new Error("Could not connect to component server: "+w.statusText);return await w.json()}catch(w){console.warn(w)}}set_cookies(e){this.cookies=oC(e).join("; ")}prepare_return_obj(){return{config:this.config,predict:this.predict,submit:this.submit,view_api:this.view_api,component_server:this.component_server}}async connect_ws(e){return new Promise((t,r)=>{let i;try{i=new WebSocket(e)}catch{this.ws_map[e]="failed";return}this.ws_map[e]="pending",i.onopen=()=>{this.ws_map[e]=i,t()},i.onerror=a=>{console.error("WebSocket error:",a),this.close_ws(e),this.ws_map[e]="failed",t()},i.onclose=()=>{this.ws_map[e]="closed"},i.onmessage=a=>{}})}async send_ws_message(e,t){if(!(e in this.ws_map))await this.connect_ws(e);else if(this.ws_map[e]==="pending"||this.ws_map[e]==="closed"||this.ws_map[e]==="failed")return;const r=this.ws_map[e];r instanceof WebSocket?r.send(JSON.stringify(t)):this.post_data(e,t)}async close_ws(e){if(e in this.ws_map){const t=this.ws_map[e];t instanceof WebSocket&&(t.close(),delete this.ws_map[e])}}}const UV="https://lolpagal7-companion-ai-backend.hf.space",zV="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";async function $V(n){return new Promise((e,t)=>{const r=new FileReader;r.onload=()=>e(r.result),r.onerror=t,r.readAsDataURL(n)})}async function uC(n,e){var t;try{console.log("[DEBUG] 🚀 CALLING /predict ENDPOINT:",{hasMessage:!!n,hasImage:!!e,spaceUrl:UV});let r=null;e&&(console.log("[DEBUG] Converting image to base64..."),r=await $V(e));const a=await(await jg.connect("Lolpagal7/companion-ai-backend",{hf_token:zV})).predict("/predict",{image:e??null,message:n??"Hello!"});return console.log("[DEBUG] /predict Response:",a),console.log("[SUCCESS] ✅ /predict response:",a),{response:((t=a.data)==null?void 0:t[0])||"I'm here to help!",success:!0}}catch(r){return console.error("[ERROR] /predict connection failed:",r),{response:n?`I heard: "${n}". Connection issues with your HuggingFace Space.`:"Having trouble connecting to your AI backend.",success:!1}}}const BV=n=>uC(n),WV=(n,e)=>uC(n,e),HV=64,qV=({isDarkMode:n,onToggleDarkMode:e,onAccountClick:t,onHomeClick:r,userPFP:i})=>g.jsx("header",{className:"border-b backdrop-blur-sm sticky top-0 z-50 w-full",style:{backgroundColor:n?"rgba(30, 41, 59, 0.8)":"rgba(255, 255, 255, 0.8)",borderColor:n?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"},children:g.jsxs("div",{className:"flex items-center justify-between p-4 w-full",children:[g.jsx("div",{className:"flex items-center gap-3",children:g.jsx("button",{onClick:r,className:"flex items-center gap-3 hover:scale-105 transition-all duration-300",type:"button",children:g.jsx("div",{className:"w-30 h-8 rounded-lg flex items-center justify-center",children:g.jsx("img",{src:typeof window<"u"&&window.innerWidth<=640?"/Browser-tab.svg":"/default-monochrome.svg",alt:"Companion AI Logo",className:"w-30 h-8"})})})}),g.jsx("div",{className:"flex-1"}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("button",{onClick:e,className:"p-2 rounded-xl border-2 transition-all duration-300 hover:scale-105",style:{backgroundColor:n?"rgba(172, 127, 244, 0.1)":"rgba(255, 255, 255, 0.7)",borderColor:n?"#AC7FF4":"rgba(172, 127, 244, 0.3)",color:n?"#f1f5f9":"#1e293b"},children:n?g.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{d:"M9.528 1.718a.75.75 0 01.162.819A8.97 8.97 0 009 6a9 9 0 009 9 8.97 8.97 0 003.463-.69.75.75 0 01.981.98 10.503 10.503 0 01-9.694 6.46c-5.799 0-10.5-4.701-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 01.818.162z"})}):g.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{d:"M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18.894 6.166a.75.75 0 00-1.06-1.06l-1.591 1.59a.75.75 0 101.06 1.061l1.591-1.59zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5H21a.75.75 0 01.75.75zM17.834 18.894a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 10-1.061 1.06l1.59 1.591zM12 18a.75.75 0 01.75.75V21a.75.75 0 01-1.5 0v-2.25A.75.75 0 0112 18zM7.758 17.303a.75.75 0 00-1.061-1.06l-1.591 1.59a.75.75 0 001.06 1.061l1.591-1.59zM6 12a.75.75 0 01-.75.75H3a.75.75 0 010-1.5h2.25A.75.75 0 016 12zM6.697 7.757a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 00-1.061 1.06l1.59 1.591z"})})}),g.jsx("button",{onClick:t,className:"w-10 h-10 bg-gradient-to-br from-brand-purple to-brand-blue rounded-lg flex items-center justify-center shadow-lg hover:scale-105 transition-all duration-300",children:i?g.jsx("img",{src:i,alt:"avatar",className:"w-8 h-8 rounded-full object-cover"}):g.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})})]})]})}),GV=({message:n,isDarkMode:e,userPFP:t})=>g.jsx("div",{className:`flex ${n.sender==="user"?"justify-end":"justify-start"} mb-6 max-sm:mb-3`,children:g.jsxs("div",{className:`flex items-start gap-3 max-w-[70%] ${n.sender==="user"?"flex-row-reverse":""} max-sm:gap-2`,children:[g.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${n.sender==="user"?"bg-gradient-to-br from-brand-purple to-brand-blue":"bg-gradient-to-br from-brand-pink to-pink-400"} max-sm:w-6 max-sm:h-6`,children:n.sender==="user"&&t?g.jsx("img",{src:t,alt:"avatar",className:"w-7 h-7 rounded-full object-cover max-sm:w-5 max-sm:h-5"}):n.sender==="user"?g.jsx("svg",{className:"w-4 h-4 text-white max-sm:w-3 max-sm:h-3",fill:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})}):g.jsx("svg",{className:"w-4 h-4 text-white max-sm:w-3 max-sm:h-3",fill:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),g.jsxs("div",{className:`rounded-2xl px-4 py-3 shadow-lg ${n.sender==="user"?"bg-gradient-to-r from-brand-purple to-brand-blue text-white":""} max-sm:px-2 max-sm:py-2`,style:n.sender==="ai"?{backgroundColor:e?"rgba(30, 41, 59, 0.6)":"rgba(255, 255, 255, 0.8)",color:e?"#f1f5f9":"#1e293b",border:`1px solid ${e?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.05)"}`,fontSize:window.innerWidth<=640?"0.85rem":void 0,lineHeight:window.innerWidth<=640?"1.2":void 0,padding:(window.innerWidth<=640,void 0)}:window.innerWidth<=640?{fontSize:"0.85rem",lineHeight:"1.2",padding:void 0}:{},children:[n.imageUrl?g.jsx("img",{src:n.imageUrl,alt:"uploaded",className:"rounded-xl max-w-xs max-h-60 mb-2 object-contain border max-sm:max-w-[120px] max-sm:max-h-28",style:{background:e?"#1e293b":"#f1f5f9"}}):g.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap max-sm:text-xs max-sm:leading-snug",children:n.content}),g.jsx("p",{className:`text-xs mt-2 opacity-70 ${n.sender==="user"?"text-white":""} max-sm:text-[10px] max-sm:mt-1`,style:n.sender==="ai"?{color:e?"#94a3b8":"#64748b"}:{},children:n.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})}),KV=({isDarkMode:n})=>g.jsx("div",{className:"flex justify-start mb-6",children:g.jsx("div",{className:"flex items-start gap-3 max-w-[70%]",children:g.jsx("div",{className:"rounded-2xl px-4 py-3 shadow-lg",style:{backgroundColor:n?"rgba(30, 41, 59, 0.6)":"rgba(255, 255, 255, 0.8)",border:`1px solid ${n?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.05)"}`},children:g.jsxs("div",{className:"flex space-x-1",children:[g.jsx("div",{className:"w-2 h-2 rounded-full animate-pulse",style:{backgroundColor:n?"#94a3b8":"#64748b"}}),g.jsx("div",{className:"w-2 h-2 rounded-full animate-pulse",style:{backgroundColor:n?"#94a3b8":"#64748b",animationDelay:"0.2s"}}),g.jsx("div",{className:"w-2 h-2 rounded-full animate-pulse",style:{backgroundColor:n?"#94a3b8":"#64748b",animationDelay:"0.4s"}})]})})})});function QV(){const n=dy(),{auth:e}=mb(),{isDarkMode:t,toggleDarkMode:r}=hy(),i=S.useRef(null),a=S.useRef(null),[l,u]=S.useState(null),[f,p]=S.useState(""),[y,w]=S.useState(!0),[v,C]=S.useState({messages:[{id:"welcome",content:"Hello! I'm your AI companion. Please note that the first response may take 30+ seconds as the backend initializes. Subsequent responses will be much faster. How can I help you today?",sender:"ai",timestamp:new Date}],inputValue:"",isTyping:!1,pendingImage:void 0}),[R,b]=S.useState(!1);S.useEffect(()=>{const q=Cy(bn,async P=>{if(console.log("Auth state changed:",P==null?void 0:P.uid),u(P),P)try{const A=$s(Us,"users",P.uid),N=await zh(A);if(N.exists()){const O=N.data();if(console.log("User data from Firestore:",O),O.avatar){p(O.avatar);return}}console.log("Using photoURL:",P.photoURL),p(P.photoURL||"")}catch(A){console.error("Error loading user avatar:",A),p(P.photoURL||"")}else p("")});return()=>q()},[]),S.useEffect(()=>{if(!l){console.log("No user authenticated, setting loading to false"),w(!1);return}(async()=>{try{w(!0),console.log("Loading messages for user:",l.uid);const P=$s(Us,"chats",l.uid),A=await zh(P);let N=[];if(A.exists()){const O=A.data();if(console.log("Chat data exists:",O),Array.isArray(O.messages)){const V=Date.now(),M=60*24*60*60*1e3;N=O.messages.map(D=>({...D,timestamp:new Date(D.timestamp)})).filter(D=>V-new Date(D.timestamp).getTime()<M)}}else console.log("No existing chat data for user");console.log("Loaded messages:",N.length),C(O=>({...O,messages:N}))}catch(P){console.error("Error loading messages:",P),C(A=>({...A,messages:[]}))}finally{w(!1)}})()},[l]);const T=async q=>{if(!l){console.log("No user found, cannot save messages");return}try{console.log("Saving messages:",q.length,"messages for user:",l.uid);const P=$s(Us,"chats",l.uid);await zc(P,{messages:q.map(A=>({...A,timestamp:A.timestamp.toISOString()})),updatedAt:KS()}),console.log("Messages saved successfully")}catch(P){console.error("Error saving messages:",P)}};async function L(q){const P=new FileReader;P.onload=A=>{var O;const N=(O=A.target)==null?void 0:O.result;C(V=>({...V,pendingImage:{file:q,preview:N}}))},P.readAsDataURL(q)}const j=()=>{C(q=>({...q,pendingImage:void 0}))},F=async()=>{var A,N,O;if(!v.inputValue.trim()&&!v.pendingImage){console.log("No input or image, not sending");return}if(!l){console.log("No user authenticated, not sending");return}console.log("Sending message:",v.inputValue,"with image:",!!v.pendingImage);const q=(A=v.pendingImage)==null?void 0:A.file,P={id:Date.now().toString(),content:v.inputValue,sender:"user",timestamp:new Date,...((N=v.pendingImage)==null?void 0:N.preview)&&{imageUrl:v.pendingImage.preview}};C(V=>{const D=[...V.messages,P].slice(-100);return{...V,messages:D,inputValue:"",pendingImage:void 0,isTyping:!0}}),(O=a.current)==null||O.focus();try{const V=[...v.messages,P].slice(-100);await T(V),console.log("User message saved")}catch(V){console.error("Error saving user message:",V)}try{const V=q?await WV(P.content||"How are you?",q):await BV(P.content||"How are you?");let M;V.success?(M=V.response,console.log("✅ AI response received:",M)):(M=V.response,console.warn("⚠️ Fallback response used:",V.response));const D={id:(Date.now()+1).toString(),content:M,sender:"ai",timestamp:new Date};console.log("Generated AI response:",D.content),C(be=>{const fe=[...be.messages,D].slice(-100);return{...be,messages:fe,isTyping:!1}});const ee=[...v.messages,P,D].slice(-100);await T(ee),console.log("AI message saved")}catch(V){console.error("Error generating/saving AI response:",V);const M={id:(Date.now()+1).toString(),content:"I'm having some technical difficulties right now. Please try again in a moment.",sender:"ai",timestamp:new Date};C(D=>({...D,messages:[...D.messages,M],isTyping:!1})),await T([...v.messages,P,M])}},$=q=>{q.key==="Enter"&&!q.shiftKey&&(q.preventDefault(),F())};S.useEffect(()=>{const q=setTimeout(()=>{var P,A;(P=i.current)==null||P.scrollIntoView({behavior:"smooth"}),(A=a.current)==null||A.focus()},50);return()=>clearTimeout(q)},[v.messages,v.isTyping]);const H=typeof window<"u"?document.body:null;return g.jsxs("div",{className:"w-full font-poppins bg-transparent z-50 flex flex-col min-h-screen max-sm:min-h-0 max-sm:h-auto",style:{background:t?"linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%)":"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 50%, #cbd5e1 100%)",minHeight:"100vh",width:"100vw",display:"flex",flexDirection:"column",boxShadow:"0 0 80px 10px rgba(172,127,244,0.15), 0 0 120px 30px rgba(100,116,139,0.10)",overflow:"hidden",height:"100vh"},children:[!1,g.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",zIndex:100,height:HV,pointerEvents:"auto"},children:g.jsx(qV,{isDarkMode:t,onToggleDarkMode:()=>r(),onAccountClick:()=>n("/account"),onHomeClick:()=>n("/"),userPFP:f})}),g.jsxs("main",{className:"flex-1 w-full flex flex-col min-h-0 max-sm:pt-2",style:{overflow:"hidden",height:"0"},children:[" ",g.jsxs("div",{className:"flex-1 w-full px-2 sm:px-3 pt-8 pb-2 chat-scroll max-sm:px-0.5 max-sm:pt-3 max-sm:pb-1 overflow-y-auto overflow-x-hidden",style:{minHeight:0,borderRadius:"14px",background:t?"rgba(30, 41, 59, 0.35)":"rgba(255, 255, 255, 0.7)",boxShadow:t?"0 2px 16px 0 rgba(0,0,0,0.25)":"0 2px 16px 0 rgba(172,127,244,0.08)",transition:"background 0.3s, box-shadow 0.3s",pointerEvents:"auto",overflowX:"hidden",overflowY:"auto",maxWidth:"100vw",scrollbarWidth:"none",msOverflowStyle:"none",paddingTop:window.innerWidth>640?88:56,paddingBottom:window.innerWidth>640?88:56,height:"100%"},tabIndex:0,children:[g.jsx("style",{children:`
            .chat-scroll { scrollbar-width: none !important; -ms-overflow-style: none !important; overflow-x: hidden !important; }
            .chat-scroll::-webkit-scrollbar { display: none !important; width: 0 !important; background: transparent !important; }
            textarea::-webkit-scrollbar, .chat-scroll *::-webkit-scrollbar { display: none !important; width: 0 !important; background: transparent !important; }
            textarea { scrollbar-width: none !important; -ms-overflow-style: none !important; }
          `}),g.jsx("div",{className:"w-full flex justify-center items-center mb-2 sm:hidden",children:g.jsx("img",{src:"/Browser-tab.svg",alt:"Logo",className:"w-8 h-8"})}),y?g.jsx("div",{className:"w-full flex justify-center items-center pt-12",children:g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-purple"})}):l?v.messages.length>0?v.messages.map(q=>g.jsx(GV,{message:q,isDarkMode:t,userPFP:f},q.id)):g.jsxs("div",{className:"w-full flex flex-col items-center justify-center pt-12 opacity-60 select-none",children:[g.jsx("img",{src:"/Browser-tab.svg",alt:"No messages",className:"w-16 h-16 mb-4"}),g.jsxs("div",{className:"text-center space-y-3",children:[g.jsx("p",{className:"text-lg max-sm:text-base text-slate-600 dark:text-slate-300 font-medium",children:"No messages yet. Start the conversation!"}),g.jsxs("div",{className:"text-sm max-sm:text-xs text-slate-500 dark:text-slate-400 bg-slate-100 dark:bg-slate-800/50 rounded-lg px-4 py-3 max-w-md mx-auto border border-slate-200 dark:border-slate-700",children:[g.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-300 mb-1",children:"⚡ First Response Notice"}),g.jsx("p",{className:"leading-relaxed",children:"Initial response may take 30+ seconds as the backend initializes. Subsequent responses will be much faster."})]})]})]}):g.jsxs("div",{className:"w-full flex flex-col items-center justify-center pt-12 opacity-60 select-none",children:[g.jsx("img",{src:"/Browser-tab.svg",alt:"Not logged in",className:"w-16 h-16 mb-4"}),g.jsx("p",{className:"text-lg max-sm:text-base text-slate-500 dark:text-slate-400 mb-4",children:"Please log in to start chatting"}),g.jsx("button",{onClick:()=>n("/account"),className:"px-6 py-2 bg-brand-purple text-white rounded-lg hover:bg-brand-purple/80 transition-colors",children:"Go to Account"})]}),v.isTyping&&g.jsx(KV,{isDarkMode:t}),g.jsx("div",{ref:i})]})]}),g.jsxs("div",{className:"border-t backdrop-blur-sm w-full max-sm:px-1",style:{backgroundColor:t?"rgba(24, 16, 48, 0.85)":"rgba(255, 255, 255, 0.85)",borderColor:t?"#2d1a4d":"rgba(0, 0, 0, 0.1)",position:"fixed",bottom:0,left:0,zIndex:50,width:"100vw",maxWidth:"100vw",overflowX:"hidden",boxShadow:"0 -2px 16px 0 rgba(172,127,244,0.08)",paddingBottom:window.innerWidth<=640?6:void 0,backdropFilter:"blur(8px)"},children:[v.pendingImage&&g.jsx("div",{className:"w-full max-w-5xl mx-auto p-2 mb-2",children:g.jsxs("div",{className:"relative inline-block rounded-lg overflow-hidden border-2 border-brand-purple/30 bg-white/10 backdrop-blur-sm",style:{maxWidth:"200px"},children:[g.jsx("img",{src:v.pendingImage.preview,alt:"Pending upload",className:"w-full h-auto max-h-32 object-cover"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"}),g.jsx("button",{onClick:j,className:"absolute top-1 right-1 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center text-xs hover:bg-red-600 transition-colors",children:"×"}),g.jsx("div",{className:"absolute bottom-1 left-1 text-xs text-white bg-black/50 px-2 py-1 rounded",children:"Image ready to send"})]})}),g.jsxs("div",{className:"w-full max-w-5xl mx-auto p-2 flex gap-2 items-center max-sm:p-1 max-sm:gap-1",style:{overflowX:"hidden"},children:[g.jsx("div",{className:"flex-1 flex items-center max-sm:mr-1",children:g.jsx("textarea",{ref:a,value:v.inputValue,onChange:q=>C(P=>({...P,inputValue:q.target.value})),onKeyPress:$,placeholder:l?"Share your thoughts and feelings...":"Please log in to chat",className:"w-full resize-none rounded-2xl border-2 px-4 py-3 text-sm transition-all duration-300 focus:outline-none focus:border-brand-blue focus:scale-[1.02] min-h-[40px] max-h-16 max-sm:px-2 max-sm:py-2 max-sm:text-xs max-sm:min-h-[32px] max-sm:max-h-12",style:{backgroundColor:t?"#1a1333":"rgba(255, 255, 255, 0.9)",borderColor:t?"#AC7FF4":"rgba(172, 127, 244, 0.3)",color:t?"#f1f5f9":"#1e293b"},rows:1,disabled:v.isTyping||!l})}),g.jsx("div",{className:"hidden sm:block",style:{width:16}}),g.jsx("div",{className:"hidden max-sm:block",style:{width:6}}),g.jsxs("div",{className:"relative flex flex-row items-center max-sm:gap-0",style:{gap:"0.5rem"},children:[g.jsx("button",{className:"w-10 h-10 flex items-center justify-center rounded-2xl bg-gradient-to-r from-brand-pink to-brand-blue text-white shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 cursor-pointer max-sm:w-7 max-sm:h-7",onClick:()=>b(q=>!q),type:"button","aria-label":"Send Image Options",style:{marginLeft:0,marginRight:0},children:g.jsx("svg",{className:"w-6 h-6 max-sm:w-4 max-sm:h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10l4.553 4.553a1.5 1.5 0 01-2.121 2.121L13 12.121M21 21H3a2 2 0 01-2-2V5a2 2 0 012-2h18a2 2 0 012 2v14a2 2 0 01-2 2z"})})}),R&&H&&Tl.createPortal(g.jsxs("div",{className:"absolute bottom-14 left-0 sm:left-1/2 sm:-translate-x-1/2 bg-white dark:bg-slate-800 border rounded-2xl shadow-2xl flex flex-col min-w-[180px] animate-fade-in max-sm:min-w-[100px]",style:{boxShadow:"0 8px 32px 0 rgba(60,60,120,0.18)",padding:"8px 0",zIndex:99999999999999,position:"fixed",left:"50%",bottom:window.innerWidth<=640?80:100,transform:"translateX(-50%)"},children:[g.jsxs("label",{htmlFor:"chat-image-upload",className:"flex items-center gap-2 px-4 py-3 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700 rounded-xl transition-all duration-200 max-sm:px-2 max-sm:py-2 max-sm:text-xs",children:[g.jsx("svg",{className:"w-5 h-5 max-sm:w-4 max-sm:h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10l4.553 4.553a1.5 1.5 0 01-2.121 2.121L13 12.121M21 21H3a2 2 0 01-2-2V5a2 2 0 012-2h18a2 2 0 012 2v14a2 2 0 01-2 2z"})}),"Upload Image"]}),g.jsxs("button",{className:"flex items-center gap-2 px-4 py-3 hover:bg-slate-100 dark:hover:bg-slate-700 cursor-pointer rounded-xl transition-all duration-200 max-sm:px-2 max-sm:py-2 max-sm:text-xs",onClick:async()=>{if(b(!1),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)try{let q=!0,P=null;const A=async()=>{P&&P.getTracks().forEach(ee=>ee.stop()),P=await navigator.mediaDevices.getUserMedia({video:{facingMode:q?"user":"environment"}}),N.srcObject=P,N.play()},N=document.createElement("video");N.style.width=window.innerWidth<=640?"90vw":"480px",N.style.height=window.innerWidth<=640?"auto":"320px",N.style.borderRadius=window.innerWidth<=640?"12px":"16px",N.style.objectFit="cover",await A();const O=document.createElement("div");O.style.position="fixed",O.style.top="0",O.style.left="0",O.style.width="100vw",O.style.height="100vh",O.style.background="rgba(0,0,0,0.7)",O.style.display="flex",O.style.alignItems="center",O.style.justifyContent="center",O.style.zIndex="9999";const V=document.createElement("div");V.style.background=window.innerWidth<=640?"#181e2a":"#fff",V.style.padding=window.innerWidth<=640?"8px":"24px",V.style.borderRadius=window.innerWidth<=640?"14px":"16px",V.style.display="flex",V.style.flexDirection="column",V.style.alignItems="center",V.appendChild(N);const M=document.createElement("div");M.style.display="flex",M.style.gap=window.innerWidth<=640?"4px":"8px",M.style.marginTop=window.innerWidth<=640?"8px":"16px";const D=document.createElement("button");if(D.innerText="Capture",D.style.padding=window.innerWidth<=640?"6px 16px":"8px 24px",D.style.borderRadius=(window.innerWidth<=640,"8px"),D.style.background="#7c3aed",D.style.color="#fff",D.style.border="none",D.style.fontWeight="bold",D.style.fontSize=window.innerWidth<=640?"1rem":"1.1rem",D.style.cursor="pointer",window.innerWidth<=1024){const ee=document.createElement("button");ee.innerText="Switch Camera",ee.style.padding=window.innerWidth<=640?"6px 16px":"8px 24px",ee.style.borderRadius=(window.innerWidth<=640,"8px"),ee.style.background="#64748b",ee.style.color="#fff",ee.style.border="none",ee.style.fontWeight="bold",ee.style.fontSize=window.innerWidth<=640?"1rem":"1.1rem",ee.style.cursor="pointer",M.appendChild(ee),ee.onclick=async()=>{q=!q,await A()}}M.appendChild(D),V.appendChild(M),O.appendChild(V),document.body.appendChild(O),D.onclick=()=>{var be;const ee=document.createElement("canvas");ee.width=N.videoWidth,ee.height=N.videoHeight,(be=ee.getContext("2d"))==null||be.drawImage(N,0,0),ee.toBlob(async ge=>{if(ge){const fe=new File([ge],"camera-capture.jpg",{type:"image/jpeg",lastModified:Date.now()});await L(fe)}P&&P.getTracks().forEach(fe=>fe.stop()),document.body.removeChild(O)},"image/jpeg")},O.onclick=ee=>{ee.target===O&&(P&&P.getTracks().forEach(be=>be.stop()),document.body.removeChild(O))}}catch(q){alert("Camera error: "+q)}else alert("Camera not supported on this device.")},type:"button",children:[g.jsx("svg",{className:"w-5 h-5 max-sm:w-4 max-sm:h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7h2l.4 2M7 7h10l1 2h2M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Take Photo"]})]}),H),g.jsx("input",{type:"file",accept:"image/*",id:"chat-image-upload",style:{display:"none"},onChange:async q=>{var A;b(!1);const P=(A=q.target.files)==null?void 0:A[0];P&&(await L(P),q.target.value="")}})]}),g.jsx("button",{onClick:F,disabled:!v.inputValue.trim()||v.isTyping||!l,className:"w-10 h-10 bg-gradient-to-r from-brand-purple to-brand-blue text-white rounded-2xl flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed max-sm:w-7 max-sm:h-7",style:{marginLeft:"0.5rem"},children:g.jsx("svg",{className:"w-5 h-5 max-sm:w-4 max-sm:h-4",fill:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"})})})]})]})]})}var Vg=function(n,e){return Vg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},Vg(n,e)};function YV(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Vg(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var _t=function(){return _t=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},_t.apply(this,arguments)};function dC(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function XV(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}var Mm,eE;function JV(){if(eE)return Mm;eE=1;var n=!1,e,t,r,i,a,l,u,f,p,y,w,v,C,R,b;function T(){if(!n){n=!0;var j=navigator.userAgent,F=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(j),$=/(Mac OS X)|(Windows)|(Linux)/.exec(j);if(v=/\b(iPhone|iP[ao]d)/.exec(j),C=/\b(iP[ao]d)/.exec(j),y=/Android/i.exec(j),R=/FBAN\/\w+;/i.exec(j),b=/Mobile/i.exec(j),w=!!/Win64/.exec(j),F){e=F[1]?parseFloat(F[1]):F[5]?parseFloat(F[5]):NaN,e&&document&&document.documentMode&&(e=document.documentMode);var H=/(?:Trident\/(\d+.\d+))/.exec(j);l=H?parseFloat(H[1])+4:e,t=F[2]?parseFloat(F[2]):NaN,r=F[3]?parseFloat(F[3]):NaN,i=F[4]?parseFloat(F[4]):NaN,i?(F=/(?:Chrome\/(\d+\.\d+))/.exec(j),a=F&&F[1]?parseFloat(F[1]):NaN):a=NaN}else e=t=r=a=i=NaN;if($){if($[1]){var q=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(j);u=q?parseFloat(q[1].replace("_",".")):!0}else u=!1;f=!!$[2],p=!!$[3]}else u=f=p=!1}}var L={ie:function(){return T()||e},ieCompatibilityMode:function(){return T()||l>e},ie64:function(){return L.ie()&&w},firefox:function(){return T()||t},opera:function(){return T()||r},webkit:function(){return T()||i},safari:function(){return L.webkit()},chrome:function(){return T()||a},windows:function(){return T()||f},osx:function(){return T()||u},linux:function(){return T()||p},iphone:function(){return T()||v},mobile:function(){return T()||v||C||y||b},nativeApp:function(){return T()||R},android:function(){return T()||y},ipad:function(){return T()||C}};return Mm=L,Mm}var Lm,tE;function ZV(){if(tE)return Lm;tE=1;var n=!!(typeof window<"u"&&window.document&&window.document.createElement),e={canUseDOM:n,canUseWorkers:typeof Worker<"u",canUseEventListeners:n&&!!(window.addEventListener||window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};return Lm=e,Lm}var jm,nE;function e6(){if(nE)return jm;nE=1;var n=ZV(),e;n.canUseDOM&&(e=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function t(r,i){if(!n.canUseDOM||i&&!("addEventListener"in document))return!1;var a="on"+r,l=a in document;if(!l){var u=document.createElement("div");u.setAttribute(a,"return;"),l=typeof u[a]=="function"}return!l&&e&&r==="wheel"&&(l=document.implementation.hasFeature("Events.wheel","3.0")),l}return jm=t,jm}var Vm,rE;function t6(){if(rE)return Vm;rE=1;var n=JV(),e=e6(),t=10,r=40,i=800;function a(l){var u=0,f=0,p=0,y=0;return"detail"in l&&(f=l.detail),"wheelDelta"in l&&(f=-l.wheelDelta/120),"wheelDeltaY"in l&&(f=-l.wheelDeltaY/120),"wheelDeltaX"in l&&(u=-l.wheelDeltaX/120),"axis"in l&&l.axis===l.HORIZONTAL_AXIS&&(u=f,f=0),p=u*t,y=f*t,"deltaY"in l&&(y=l.deltaY),"deltaX"in l&&(p=l.deltaX),(p||y)&&l.deltaMode&&(l.deltaMode==1?(p*=r,y*=r):(p*=i,y*=i)),p&&!u&&(u=p<1?-1:1),y&&!f&&(f=y<1?-1:1),{spinX:u,spinY:f,pixelX:p,pixelY:y}}return a.getEventType=function(){return n.firefox()?"DOMMouseScroll":e("wheel")?"wheel":"mousewheel"},Vm=a,Vm}var Fm,sE;function n6(){return sE||(sE=1,Fm=t6()),Fm}var r6=n6();const s6=Bg(r6);function i6(n,e,t,r,i,a){a===void 0&&(a=0);var l=bl(n,e,a),u=l.width,f=l.height,p=Math.min(u,t),y=Math.min(f,r);return p>y*i?{width:y*i,height:y}:{width:p,height:p/i}}function o6(n){return n.width>n.height?n.width/n.naturalWidth:n.height/n.naturalHeight}function Tc(n,e,t,r,i){i===void 0&&(i=0);var a=bl(e.width,e.height,i),l=a.width,u=a.height;return{x:iE(n.x,l,t.width,r),y:iE(n.y,u,t.height,r)}}function iE(n,e,t,r){var i=e*r/2-t/2;return Rf(n,-i,i)}function oE(n,e){return Math.sqrt(Math.pow(n.y-e.y,2)+Math.pow(n.x-e.x,2))}function aE(n,e){return Math.atan2(e.y-n.y,e.x-n.x)*180/Math.PI}function a6(n,e,t,r,i,a,l){a===void 0&&(a=0),l===void 0&&(l=!0);var u=l?l6:c6,f=bl(e.width,e.height,a),p=bl(e.naturalWidth,e.naturalHeight,a),y={x:u(100,((f.width-t.width/i)/2-n.x/i)/f.width*100),y:u(100,((f.height-t.height/i)/2-n.y/i)/f.height*100),width:u(100,t.width/f.width*100/i),height:u(100,t.height/f.height*100/i)},w=Math.round(u(p.width,y.width*p.width/100)),v=Math.round(u(p.height,y.height*p.height/100)),C=p.width>=p.height*r,R=C?{width:Math.round(v*r),height:v}:{width:w,height:Math.round(w/r)},b=_t(_t({},R),{x:Math.round(u(p.width-R.width,y.x*p.width/100)),y:Math.round(u(p.height-R.height,y.y*p.height/100))});return{croppedAreaPercentages:y,croppedAreaPixels:b}}function l6(n,e){return Math.min(n,Math.max(0,e))}function c6(n,e){return e}function u6(n,e,t,r,i,a){var l=bl(e.width,e.height,t),u=Rf(r.width/l.width*(100/n.width),i,a),f={x:u*l.width/2-r.width/2-l.width*u*(n.x/100),y:u*l.height/2-r.height/2-l.height*u*(n.y/100)};return{crop:f,zoom:u}}function d6(n,e,t){var r=o6(e);return t.height>t.width?t.height/(n.height*r):t.width/(n.width*r)}function h6(n,e,t,r,i,a){t===void 0&&(t=0);var l=bl(e.naturalWidth,e.naturalHeight,t),u=Rf(d6(n,e,r),i,a),f=r.height>r.width?r.height/n.height:r.width/n.width,p={x:((l.width-n.width)/2-n.x)*f,y:((l.height-n.height)/2-n.y)*f};return{crop:p,zoom:u}}function lE(n,e){return{x:(e.x+n.x)/2,y:(e.y+n.y)/2}}function f6(n){return n*Math.PI/180}function bl(n,e,t){var r=f6(t);return{width:Math.abs(Math.cos(r)*n)+Math.abs(Math.sin(r)*e),height:Math.abs(Math.sin(r)*n)+Math.abs(Math.cos(r)*e)}}function Rf(n,e,t){return Math.min(Math.max(n,e),t)}function Qd(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return n.filter(function(t){return typeof t=="string"&&t.length>0}).join(" ").trim()}var p6=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,m6=1,g6=3,y6=1,v6=function(n){YV(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.cropperRef=S.createRef(),t.imageRef=S.createRef(),t.videoRef=S.createRef(),t.containerPosition={x:0,y:0},t.containerRef=null,t.styleRef=null,t.containerRect=null,t.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},t.dragStartPosition={x:0,y:0},t.dragStartCrop={x:0,y:0},t.gestureZoomStart=0,t.gestureRotationStart=0,t.isTouching=!1,t.lastPinchDistance=0,t.lastPinchRotation=0,t.rafDragTimeout=null,t.rafPinchTimeout=null,t.wheelTimer=null,t.currentDoc=typeof document<"u"?document:null,t.currentWindow=typeof window<"u"?window:null,t.resizeObserver=null,t.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},t.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!t.containerRef)){var r=!0;t.resizeObserver=new window.ResizeObserver(function(i){if(r){r=!1;return}t.computeSizes()}),t.resizeObserver.observe(t.containerRef)}},t.preventZoomSafari=function(r){return r.preventDefault()},t.cleanEvents=function(){t.currentDoc&&(t.currentDoc.removeEventListener("mousemove",t.onMouseMove),t.currentDoc.removeEventListener("mouseup",t.onDragStopped),t.currentDoc.removeEventListener("touchmove",t.onTouchMove),t.currentDoc.removeEventListener("touchend",t.onDragStopped),t.currentDoc.removeEventListener("gesturechange",t.onGestureChange),t.currentDoc.removeEventListener("gestureend",t.onGestureEnd),t.currentDoc.removeEventListener("scroll",t.onScroll))},t.clearScrollEvent=function(){t.containerRef&&t.containerRef.removeEventListener("wheel",t.onWheel),t.wheelTimer&&clearTimeout(t.wheelTimer)},t.onMediaLoad=function(){var r=t.computeSizes();r&&(t.emitCropData(),t.setInitialCrop(r)),t.props.onMediaLoaded&&t.props.onMediaLoaded(t.mediaSize)},t.setInitialCrop=function(r){if(t.props.initialCroppedAreaPercentages){var i=u6(t.props.initialCroppedAreaPercentages,t.mediaSize,t.props.rotation,r,t.props.minZoom,t.props.maxZoom),a=i.crop,l=i.zoom;t.props.onCropChange(a),t.props.onZoomChange&&t.props.onZoomChange(l)}else if(t.props.initialCroppedAreaPixels){var u=h6(t.props.initialCroppedAreaPixels,t.mediaSize,t.props.rotation,r,t.props.minZoom,t.props.maxZoom),a=u.crop,l=u.zoom;t.props.onCropChange(a),t.props.onZoomChange&&t.props.onZoomChange(l)}},t.computeSizes=function(){var r,i,a,l,u,f,p=t.imageRef.current||t.videoRef.current;if(p&&t.containerRef){t.containerRect=t.containerRef.getBoundingClientRect(),t.saveContainerPosition();var y=t.containerRect.width/t.containerRect.height,w=((r=t.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((i=t.videoRef.current)===null||i===void 0?void 0:i.videoWidth)||0,v=((a=t.imageRef.current)===null||a===void 0?void 0:a.naturalHeight)||((l=t.videoRef.current)===null||l===void 0?void 0:l.videoHeight)||0,C=p.offsetWidth<w||p.offsetHeight<v,R=w/v,b=void 0;if(C)switch(t.state.mediaObjectFit){default:case"contain":b=y>R?{width:t.containerRect.height*R,height:t.containerRect.height}:{width:t.containerRect.width,height:t.containerRect.width/R};break;case"horizontal-cover":b={width:t.containerRect.width,height:t.containerRect.width/R};break;case"vertical-cover":b={width:t.containerRect.height*R,height:t.containerRect.height};break}else b={width:p.offsetWidth,height:p.offsetHeight};t.mediaSize=_t(_t({},b),{naturalWidth:w,naturalHeight:v}),t.props.setMediaSize&&t.props.setMediaSize(t.mediaSize);var T=t.props.cropSize?t.props.cropSize:i6(t.mediaSize.width,t.mediaSize.height,t.containerRect.width,t.containerRect.height,t.props.aspect,t.props.rotation);return(((u=t.state.cropSize)===null||u===void 0?void 0:u.height)!==T.height||((f=t.state.cropSize)===null||f===void 0?void 0:f.width)!==T.width)&&t.props.onCropSizeChange&&t.props.onCropSizeChange(T),t.setState({cropSize:T},t.recomputeCropPosition),t.props.setCropSize&&t.props.setCropSize(T),T}},t.saveContainerPosition=function(){if(t.containerRef){var r=t.containerRef.getBoundingClientRect();t.containerPosition={x:r.left,y:r.top}}},t.onMouseDown=function(r){t.currentDoc&&(r.preventDefault(),t.currentDoc.addEventListener("mousemove",t.onMouseMove),t.currentDoc.addEventListener("mouseup",t.onDragStopped),t.saveContainerPosition(),t.onDragStart(e.getMousePoint(r)))},t.onMouseMove=function(r){return t.onDrag(e.getMousePoint(r))},t.onScroll=function(r){t.currentDoc&&(r.preventDefault(),t.saveContainerPosition())},t.onTouchStart=function(r){t.currentDoc&&(t.isTouching=!0,!(t.props.onTouchRequest&&!t.props.onTouchRequest(r))&&(t.currentDoc.addEventListener("touchmove",t.onTouchMove,{passive:!1}),t.currentDoc.addEventListener("touchend",t.onDragStopped),t.saveContainerPosition(),r.touches.length===2?t.onPinchStart(r):r.touches.length===1&&t.onDragStart(e.getTouchPoint(r.touches[0]))))},t.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?t.onPinchMove(r):r.touches.length===1&&t.onDrag(e.getTouchPoint(r.touches[0]))},t.onGestureStart=function(r){t.currentDoc&&(r.preventDefault(),t.currentDoc.addEventListener("gesturechange",t.onGestureChange),t.currentDoc.addEventListener("gestureend",t.onGestureEnd),t.gestureZoomStart=t.props.zoom,t.gestureRotationStart=t.props.rotation)},t.onGestureChange=function(r){if(r.preventDefault(),!t.isTouching){var i=e.getMousePoint(r),a=t.gestureZoomStart-1+r.scale;if(t.setNewZoom(a,i,{shouldUpdatePosition:!0}),t.props.onRotationChange){var l=t.gestureRotationStart+r.rotation;t.props.onRotationChange(l)}}},t.onGestureEnd=function(r){t.cleanEvents()},t.onDragStart=function(r){var i,a,l=r.x,u=r.y;t.dragStartPosition={x:l,y:u},t.dragStartCrop=_t({},t.props.crop),(a=(i=t.props).onInteractionStart)===null||a===void 0||a.call(i)},t.onDrag=function(r){var i=r.x,a=r.y;t.currentWindow&&(t.rafDragTimeout&&t.currentWindow.cancelAnimationFrame(t.rafDragTimeout),t.rafDragTimeout=t.currentWindow.requestAnimationFrame(function(){if(t.state.cropSize&&!(i===void 0||a===void 0)){var l=i-t.dragStartPosition.x,u=a-t.dragStartPosition.y,f={x:t.dragStartCrop.x+l,y:t.dragStartCrop.y+u},p=t.props.restrictPosition?Tc(f,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):f;t.props.onCropChange(p)}}))},t.onDragStopped=function(){var r,i;t.isTouching=!1,t.cleanEvents(),t.emitCropData(),(i=(r=t.props).onInteractionEnd)===null||i===void 0||i.call(r)},t.onWheel=function(r){if(t.currentWindow&&!(t.props.onWheelRequest&&!t.props.onWheelRequest(r))){r.preventDefault();var i=e.getMousePoint(r),a=s6(r).pixelY,l=t.props.zoom-a*t.props.zoomSpeed/200;t.setNewZoom(l,i,{shouldUpdatePosition:!0}),t.state.hasWheelJustStarted||t.setState({hasWheelJustStarted:!0},function(){var u,f;return(f=(u=t.props).onInteractionStart)===null||f===void 0?void 0:f.call(u)}),t.wheelTimer&&clearTimeout(t.wheelTimer),t.wheelTimer=t.currentWindow.setTimeout(function(){return t.setState({hasWheelJustStarted:!1},function(){var u,f;return(f=(u=t.props).onInteractionEnd)===null||f===void 0?void 0:f.call(u)})},250)}},t.getPointOnContainer=function(r,i){var a=r.x,l=r.y;if(!t.containerRect)throw new Error("The Cropper is not mounted");return{x:t.containerRect.width/2-(a-i.x),y:t.containerRect.height/2-(l-i.y)}},t.getPointOnMedia=function(r){var i=r.x,a=r.y,l=t.props,u=l.crop,f=l.zoom;return{x:(i+u.x)/f,y:(a+u.y)/f}},t.setNewZoom=function(r,i,a){var l=a===void 0?{}:a,u=l.shouldUpdatePosition,f=u===void 0?!0:u;if(!(!t.state.cropSize||!t.props.onZoomChange)){var p=Rf(r,t.props.minZoom,t.props.maxZoom);if(f){var y=t.getPointOnContainer(i,t.containerPosition),w=t.getPointOnMedia(y),v={x:w.x*p-y.x,y:w.y*p-y.y},C=t.props.restrictPosition?Tc(v,t.mediaSize,t.state.cropSize,p,t.props.rotation):v;t.props.onCropChange(C)}t.props.onZoomChange(p)}},t.getCropData=function(){if(!t.state.cropSize)return null;var r=t.props.restrictPosition?Tc(t.props.crop,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):t.props.crop;return a6(r,t.mediaSize,t.state.cropSize,t.getAspect(),t.props.zoom,t.props.rotation,t.props.restrictPosition)},t.emitCropData=function(){var r=t.getCropData();if(r){var i=r.croppedAreaPercentages,a=r.croppedAreaPixels;t.props.onCropComplete&&t.props.onCropComplete(i,a),t.props.onCropAreaChange&&t.props.onCropAreaChange(i,a)}},t.emitCropAreaChange=function(){var r=t.getCropData();if(r){var i=r.croppedAreaPercentages,a=r.croppedAreaPixels;t.props.onCropAreaChange&&t.props.onCropAreaChange(i,a)}},t.recomputeCropPosition=function(){if(t.state.cropSize){var r=t.props.restrictPosition?Tc(t.props.crop,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):t.props.crop;t.props.onCropChange(r),t.emitCropData()}},t.onKeyDown=function(r){var i,a,l=t.props,u=l.crop,f=l.onCropChange,p=l.keyboardStep,y=l.zoom,w=l.rotation,v=p;if(t.state.cropSize){r.shiftKey&&(v*=.2);var C=_t({},u);switch(r.key){case"ArrowUp":C.y-=v,r.preventDefault();break;case"ArrowDown":C.y+=v,r.preventDefault();break;case"ArrowLeft":C.x-=v,r.preventDefault();break;case"ArrowRight":C.x+=v,r.preventDefault();break;default:return}t.props.restrictPosition&&(C=Tc(C,t.mediaSize,t.state.cropSize,y,w)),r.repeat||(a=(i=t.props).onInteractionStart)===null||a===void 0||a.call(i),f(C)}},t.onKeyUp=function(r){var i,a;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}t.emitCropData(),(a=(i=t.props).onInteractionEnd)===null||a===void 0||a.call(i)},t}return e.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=p6,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},e.prototype.componentWillUnmount=function(){var t,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(t=this.resizeObserver)===null||t===void 0||t.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},e.prototype.componentDidUpdate=function(t){var r,i,a,l,u,f,p,y,w;t.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):t.aspect!==this.props.aspect?this.computeSizes():t.objectFit!==this.props.objectFit?this.computeSizes():t.zoom!==this.props.zoom?this.recomputeCropPosition():((r=t.cropSize)===null||r===void 0?void 0:r.height)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.height)||((a=t.cropSize)===null||a===void 0?void 0:a.width)!==((l=this.props.cropSize)===null||l===void 0?void 0:l.width)?this.computeSizes():(((u=t.crop)===null||u===void 0?void 0:u.x)!==((f=this.props.crop)===null||f===void 0?void 0:f.x)||((p=t.crop)===null||p===void 0?void 0:p.y)!==((y=this.props.crop)===null||y===void 0?void 0:y.y))&&this.emitCropAreaChange(),t.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),t.video!==this.props.video&&((w=this.videoRef.current)===null||w===void 0||w.load());var v=this.getObjectFit();v!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:v},this.computeSizes)},e.prototype.getAspect=function(){var t=this.props,r=t.cropSize,i=t.aspect;return r?r.width/r.height:i},e.prototype.getObjectFit=function(){var t,r,i,a;if(this.props.objectFit==="cover"){var l=this.imageRef.current||this.videoRef.current;if(l&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var u=this.containerRect.width/this.containerRect.height,f=((t=this.imageRef.current)===null||t===void 0?void 0:t.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,p=((i=this.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((a=this.videoRef.current)===null||a===void 0?void 0:a.videoHeight)||0,y=f/p;return y<u?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},e.prototype.onPinchStart=function(t){var r=e.getTouchPoint(t.touches[0]),i=e.getTouchPoint(t.touches[1]);this.lastPinchDistance=oE(r,i),this.lastPinchRotation=aE(r,i),this.onDragStart(lE(r,i))},e.prototype.onPinchMove=function(t){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var i=e.getTouchPoint(t.touches[0]),a=e.getTouchPoint(t.touches[1]),l=lE(i,a);this.onDrag(l),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var u=oE(i,a),f=r.props.zoom*(u/r.lastPinchDistance);r.setNewZoom(f,l,{shouldUpdatePosition:!1}),r.lastPinchDistance=u;var p=aE(i,a),y=r.props.rotation+(p-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(y),r.lastPinchRotation=p})}},e.prototype.render=function(){var t=this,r,i=this.props,a=i.image,l=i.video,u=i.mediaProps,f=i.cropperProps,p=i.transform,y=i.crop,w=y.x,v=y.y,C=i.rotation,R=i.zoom,b=i.cropShape,T=i.showGrid,L=i.roundCropAreaPixels,j=i.style,F=j.containerStyle,$=j.cropAreaStyle,H=j.mediaStyle,q=i.classes,P=q.containerClassName,A=q.cropAreaClassName,N=q.mediaClassName,O=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return S.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(M){return t.containerRef=M},"data-testid":"container",style:F,className:Qd("reactEasyCrop_Container",P)},a?S.createElement("img",_t({alt:"",className:Qd("reactEasyCrop_Image",O==="contain"&&"reactEasyCrop_Contain",O==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",O==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",N)},u,{src:a,ref:this.imageRef,style:_t(_t({},H),{transform:p||"translate(".concat(w,"px, ").concat(v,"px) rotate(").concat(C,"deg) scale(").concat(R,")")}),onLoad:this.onMediaLoad})):l&&S.createElement("video",_t({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:Qd("reactEasyCrop_Video",O==="contain"&&"reactEasyCrop_Contain",O==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",O==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",N)},u,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:_t(_t({},H),{transform:p||"translate(".concat(w,"px, ").concat(v,"px) rotate(").concat(C,"deg) scale(").concat(R,")")}),controls:!1}),(Array.isArray(l)?l:[{src:l}]).map(function(V){return S.createElement("source",_t({key:V.src},V))})),this.state.cropSize&&S.createElement("div",_t({ref:this.cropperRef,style:_t(_t({},$),{width:L?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:L?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:Qd("reactEasyCrop_CropArea",b==="round"&&"reactEasyCrop_CropAreaRound",T&&"reactEasyCrop_CropAreaGrid",A)},f)))},e.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:g6,minZoom:m6,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:y6},e.getMousePoint=function(t){return{x:Number(t.clientX),y:Number(t.clientY)}},e.getTouchPoint=function(t){return{x:Number(t.clientX),y:Number(t.clientY)}},e}(S.Component);async function w6(n,e){return new Promise((t,r)=>{const i=new Image;i.crossOrigin="anonymous",i.src=n,i.onload=()=>{const a=document.createElement("canvas");a.width=e.width,a.height=e.height;const l=a.getContext("2d");if(!l)return r("No canvas context");l.drawImage(i,e.x,e.y,e.width,e.height,0,0,e.width,e.height);try{const u=a.toDataURL("image/png");t(u)}catch(u){r(u)}},i.onerror=()=>r("Failed to load image")})}function _6(n,e){const t=S.createContext(e),r=a=>{const{children:l,...u}=a,f=S.useMemo(()=>u,Object.values(u));return g.jsx(t.Provider,{value:f,children:l})};r.displayName=n+"Provider";function i(a){const l=S.useContext(t);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${n}\``)}return[r,i]}function x6(n,e=[]){let t=[];function r(a,l){const u=S.createContext(l),f=t.length;t=[...t,l];const p=w=>{var L;const{scope:v,children:C,...R}=w,b=((L=v==null?void 0:v[n])==null?void 0:L[f])||u,T=S.useMemo(()=>R,Object.values(R));return g.jsx(b.Provider,{value:T,children:C})};p.displayName=a+"Provider";function y(w,v){var b;const C=((b=v==null?void 0:v[n])==null?void 0:b[f])||u,R=S.useContext(C);if(R)return R;if(l!==void 0)return l;throw new Error(`\`${w}\` must be used within \`${a}\``)}return[p,y]}const i=()=>{const a=t.map(l=>S.createContext(l));return function(u){const f=(u==null?void 0:u[n])||a;return S.useMemo(()=>({[`__scope${n}`]:{...u,[n]:f}}),[u,f])}};return i.scopeName=n,[r,E6(i,...e)]}function E6(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=r.reduce((u,{useScope:f,scopeName:p})=>{const w=f(a)[`__scope${p}`];return{...u,...w}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}var Um="focusScope.autoFocusOnMount",zm="focusScope.autoFocusOnUnmount",cE={bubbles:!1,cancelable:!0},b6="FocusScope",hC=S.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...l}=n,[u,f]=S.useState(null),p=qn(i),y=qn(a),w=S.useRef(null),v=Gt(e,b=>f(b)),C=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let b=function(F){if(C.paused||!u)return;const $=F.target;u.contains($)?w.current=$:Pi(w.current,{select:!0})},T=function(F){if(C.paused||!u)return;const $=F.relatedTarget;$!==null&&(u.contains($)||Pi(w.current,{select:!0}))},L=function(F){if(document.activeElement===document.body)for(const H of F)H.removedNodes.length>0&&Pi(u)};document.addEventListener("focusin",b),document.addEventListener("focusout",T);const j=new MutationObserver(L);return u&&j.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",T),j.disconnect()}}},[r,u,C.paused]),S.useEffect(()=>{if(u){dE.add(C);const b=document.activeElement;if(!u.contains(b)){const L=new CustomEvent(Um,cE);u.addEventListener(Um,p),u.dispatchEvent(L),L.defaultPrevented||(T6(R6(fC(u)),{select:!0}),document.activeElement===b&&Pi(u))}return()=>{u.removeEventListener(Um,p),setTimeout(()=>{const L=new CustomEvent(zm,cE);u.addEventListener(zm,y),u.dispatchEvent(L),L.defaultPrevented||Pi(b??document.body,{select:!0}),u.removeEventListener(zm,y),dE.remove(C)},0)}}},[u,p,y,C]);const R=S.useCallback(b=>{if(!t&&!r||C.paused)return;const T=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,L=document.activeElement;if(T&&L){const j=b.currentTarget,[F,$]=S6(j);F&&$?!b.shiftKey&&L===$?(b.preventDefault(),t&&Pi(F,{select:!0})):b.shiftKey&&L===F&&(b.preventDefault(),t&&Pi($,{select:!0})):L===j&&b.preventDefault()}},[t,r,C.paused]);return g.jsx(Et.div,{tabIndex:-1,...l,ref:v,onKeyDown:R})});hC.displayName=b6;function T6(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(Pi(r,{select:e}),document.activeElement!==t)return}function S6(n){const e=fC(n),t=uE(e,n),r=uE(e.reverse(),n);return[t,r]}function fC(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function uE(n,e){for(const t of n)if(!C6(t,{upTo:e}))return t}function C6(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function I6(n){return n instanceof HTMLInputElement&&"select"in n}function Pi(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&I6(n)&&e&&n.select()}}var dE=A6();function A6(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=hE(n,e),n.unshift(e)},remove(e){var t;n=hE(n,e),(t=n[0])==null||t.resume()}}}function hE(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function R6(n){return n.filter(e=>e.tagName!=="A")}function P6(n,e){return S.useReducer((t,r)=>e[t][r]??t,n)}var Pf=n=>{const{present:e,children:t}=n,r=k6(e),i=typeof t=="function"?t({present:r.isPresent}):S.Children.only(t),a=Gt(r.ref,N6(i));return typeof t=="function"||r.isPresent?S.cloneElement(i,{ref:a}):null};Pf.displayName="Presence";function k6(n){const[e,t]=S.useState(),r=S.useRef({}),i=S.useRef(n),a=S.useRef("none"),l=n?"mounted":"unmounted",[u,f]=P6(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const p=Yd(r.current);a.current=u==="mounted"?p:"none"},[u]),ir(()=>{const p=r.current,y=i.current;if(y!==n){const v=a.current,C=Yd(p);n?f("MOUNT"):C==="none"||(p==null?void 0:p.display)==="none"?f("UNMOUNT"):f(y&&v!==C?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,f]),ir(()=>{if(e){let p;const y=e.ownerDocument.defaultView??window,w=C=>{const b=Yd(r.current).includes(C.animationName);if(C.target===e&&b&&(f("ANIMATION_END"),!i.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",p=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},v=C=>{C.target===e&&(a.current=Yd(r.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",w),e.addEventListener("animationend",w),()=>{y.clearTimeout(p),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",w),e.removeEventListener("animationend",w)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:S.useCallback(p=>{p&&(r.current=getComputedStyle(p)),t(p)},[])}}function Yd(n){return(n==null?void 0:n.animationName)||"none"}function N6(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var $m=0;function D6(){S.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??fE()),document.body.insertAdjacentElement("beforeend",n[1]??fE()),$m++,()=>{$m===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),$m--}},[])}function fE(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var fh="right-scroll-bar-position",ph="width-before-scroll-bar",O6="with-scroll-bars-hidden",M6="--removed-body-scroll-bar-size";function Bm(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function L6(n,e){var t=S.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var j6=typeof window<"u"?S.useLayoutEffect:S.useEffect,pE=new WeakMap;function V6(n,e){var t=L6(null,function(r){return n.forEach(function(i){return Bm(i,r)})});return j6(function(){var r=pE.get(t);if(r){var i=new Set(r),a=new Set(n),l=t.current;i.forEach(function(u){a.has(u)||Bm(u,null)}),a.forEach(function(u){i.has(u)||Bm(u,l)})}pE.set(t,n)},[n]),t}function F6(n){return n}function U6(n,e){e===void 0&&(e=F6);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(a){var l=e(a,r);return t.push(l),function(){t=t.filter(function(u){return u!==l})}},assignSyncMedium:function(a){for(r=!0;t.length;){var l=t;t=[],l.forEach(a)}t={push:function(u){return a(u)},filter:function(){return t}}},assignMedium:function(a){r=!0;var l=[];if(t.length){var u=t;t=[],u.forEach(a),l=t}var f=function(){var y=l;l=[],y.forEach(a)},p=function(){return Promise.resolve().then(f)};p(),t={push:function(y){l.push(y),p()},filter:function(y){return l=l.filter(y),t}}}};return i}function z6(n){n===void 0&&(n={});var e=U6(null);return e.options=_t({async:!0,ssr:!1},n),e}var pC=function(n){var e=n.sideCar,t=dC(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,_t({},t))};pC.isSideCarExport=!0;function $6(n,e){return n.useMedium(e),pC}var mC=z6(),Wm=function(){},kf=S.forwardRef(function(n,e){var t=S.useRef(null),r=S.useState({onScrollCapture:Wm,onWheelCapture:Wm,onTouchMoveCapture:Wm}),i=r[0],a=r[1],l=n.forwardProps,u=n.children,f=n.className,p=n.removeScrollBar,y=n.enabled,w=n.shards,v=n.sideCar,C=n.noIsolation,R=n.inert,b=n.allowPinchZoom,T=n.as,L=T===void 0?"div":T,j=n.gapMode,F=dC(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),$=v,H=V6([t,e]),q=_t(_t({},F),i);return S.createElement(S.Fragment,null,y&&S.createElement($,{sideCar:mC,removeScrollBar:p,shards:w,noIsolation:C,inert:R,setCallbacks:a,allowPinchZoom:!!b,lockRef:t,gapMode:j}),l?S.cloneElement(S.Children.only(u),_t(_t({},q),{ref:H})):S.createElement(L,_t({},q,{className:f,ref:H}),u))});kf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};kf.classNames={fullWidth:ph,zeroRight:fh};var B6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function W6(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=B6();return e&&n.setAttribute("nonce",e),n}function H6(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function q6(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var G6=function(){var n=0,e=null;return{add:function(t){n==0&&(e=W6())&&(H6(e,t),q6(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},K6=function(){var n=G6();return function(e,t){S.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},gC=function(){var n=K6(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},Q6={left:0,top:0,right:0,gap:0},Hm=function(n){return parseInt(n||"",10)||0},Y6=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[Hm(t),Hm(r),Hm(i)]},X6=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return Q6;var e=Y6(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},J6=gC(),nl="data-scroll-locked",Z6=function(n,e,t,r){var i=n.left,a=n.top,l=n.right,u=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(O6,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(nl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(fh,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(ph,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(fh," .").concat(fh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ph," .").concat(ph,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(nl,`] {
    `).concat(M6,": ").concat(u,`px;
  }
`)},mE=function(){var n=parseInt(document.body.getAttribute(nl)||"0",10);return isFinite(n)?n:0},eF=function(){S.useEffect(function(){return document.body.setAttribute(nl,(mE()+1).toString()),function(){var n=mE()-1;n<=0?document.body.removeAttribute(nl):document.body.setAttribute(nl,n.toString())}},[])},tF=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;eF();var a=S.useMemo(function(){return X6(i)},[i]);return S.createElement(J6,{styles:Z6(a,!e,i,t?"":"!important")})},Fg=!1;if(typeof window<"u")try{var Xd=Object.defineProperty({},"passive",{get:function(){return Fg=!0,!0}});window.addEventListener("test",Xd,Xd),window.removeEventListener("test",Xd,Xd)}catch{Fg=!1}var $a=Fg?{passive:!1}:!1,nF=function(n){return n.tagName==="TEXTAREA"},yC=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!nF(n)&&t[e]==="visible")},rF=function(n){return yC(n,"overflowY")},sF=function(n){return yC(n,"overflowX")},gE=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=vC(n,r);if(i){var a=wC(n,r),l=a[1],u=a[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},iF=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},oF=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},vC=function(n,e){return n==="v"?rF(e):sF(e)},wC=function(n,e){return n==="v"?iF(e):oF(e)},aF=function(n,e){return n==="h"&&e==="rtl"?-1:1},lF=function(n,e,t,r,i){var a=aF(n,window.getComputedStyle(e).direction),l=a*r,u=t.target,f=e.contains(u),p=!1,y=l>0,w=0,v=0;do{var C=wC(n,u),R=C[0],b=C[1],T=C[2],L=b-T-a*R;(R||L)&&vC(n,u)&&(w+=L,v+=R),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!f&&u!==document.body||f&&(e.contains(u)||e===u));return(y&&Math.abs(w)<1||!y&&Math.abs(v)<1)&&(p=!0),p},Jd=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},yE=function(n){return[n.deltaX,n.deltaY]},vE=function(n){return n&&"current"in n?n.current:n},cF=function(n,e){return n[0]===e[0]&&n[1]===e[1]},uF=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},dF=0,Ba=[];function hF(n){var e=S.useRef([]),t=S.useRef([0,0]),r=S.useRef(),i=S.useState(dF++)[0],a=S.useState(gC)[0],l=S.useRef(n);S.useEffect(function(){l.current=n},[n]),S.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var b=XV([n.lockRef.current],(n.shards||[]).map(vE),!0).filter(Boolean);return b.forEach(function(T){return T.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var u=S.useCallback(function(b,T){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!l.current.allowPinchZoom;var L=Jd(b),j=t.current,F="deltaX"in b?b.deltaX:j[0]-L[0],$="deltaY"in b?b.deltaY:j[1]-L[1],H,q=b.target,P=Math.abs(F)>Math.abs($)?"h":"v";if("touches"in b&&P==="h"&&q.type==="range")return!1;var A=gE(P,q);if(!A)return!0;if(A?H=P:(H=P==="v"?"h":"v",A=gE(P,q)),!A)return!1;if(!r.current&&"changedTouches"in b&&(F||$)&&(r.current=H),!H)return!0;var N=r.current||H;return lF(N,T,b,N==="h"?F:$)},[]),f=S.useCallback(function(b){var T=b;if(!(!Ba.length||Ba[Ba.length-1]!==a)){var L="deltaY"in T?yE(T):Jd(T),j=e.current.filter(function(H){return H.name===T.type&&(H.target===T.target||T.target===H.shadowParent)&&cF(H.delta,L)})[0];if(j&&j.should){T.cancelable&&T.preventDefault();return}if(!j){var F=(l.current.shards||[]).map(vE).filter(Boolean).filter(function(H){return H.contains(T.target)}),$=F.length>0?u(T,F[0]):!l.current.noIsolation;$&&T.cancelable&&T.preventDefault()}}},[]),p=S.useCallback(function(b,T,L,j){var F={name:b,delta:T,target:L,should:j,shadowParent:fF(L)};e.current.push(F),setTimeout(function(){e.current=e.current.filter(function($){return $!==F})},1)},[]),y=S.useCallback(function(b){t.current=Jd(b),r.current=void 0},[]),w=S.useCallback(function(b){p(b.type,yE(b),b.target,u(b,n.lockRef.current))},[]),v=S.useCallback(function(b){p(b.type,Jd(b),b.target,u(b,n.lockRef.current))},[]);S.useEffect(function(){return Ba.push(a),n.setCallbacks({onScrollCapture:w,onWheelCapture:w,onTouchMoveCapture:v}),document.addEventListener("wheel",f,$a),document.addEventListener("touchmove",f,$a),document.addEventListener("touchstart",y,$a),function(){Ba=Ba.filter(function(b){return b!==a}),document.removeEventListener("wheel",f,$a),document.removeEventListener("touchmove",f,$a),document.removeEventListener("touchstart",y,$a)}},[]);var C=n.removeScrollBar,R=n.inert;return S.createElement(S.Fragment,null,R?S.createElement(a,{styles:uF(i)}):null,C?S.createElement(tF,{gapMode:n.gapMode}):null)}function fF(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const pF=$6(mC,hF);var _C=S.forwardRef(function(n,e){return S.createElement(kf,_t({},n,{ref:e,sideCar:pF}))});_C.classNames=kf.classNames;var mF=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Wa=new WeakMap,Zd=new WeakMap,eh={},qm=0,xC=function(n){return n&&(n.host||xC(n.parentNode))},gF=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=xC(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},yF=function(n,e,t,r){var i=gF(e,Array.isArray(n)?n:[n]);eh[t]||(eh[t]=new WeakMap);var a=eh[t],l=[],u=new Set,f=new Set(i),p=function(w){!w||u.has(w)||(u.add(w),p(w.parentNode))};i.forEach(p);var y=function(w){!w||f.has(w)||Array.prototype.forEach.call(w.children,function(v){if(u.has(v))y(v);else try{var C=v.getAttribute(r),R=C!==null&&C!=="false",b=(Wa.get(v)||0)+1,T=(a.get(v)||0)+1;Wa.set(v,b),a.set(v,T),l.push(v),b===1&&R&&Zd.set(v,!0),T===1&&v.setAttribute(t,"true"),R||v.setAttribute(r,"true")}catch(L){console.error("aria-hidden: cannot operate on ",v,L)}})};return y(e),u.clear(),qm++,function(){l.forEach(function(w){var v=Wa.get(w)-1,C=a.get(w)-1;Wa.set(w,v),a.set(w,C),v||(Zd.has(w)||w.removeAttribute(r),Zd.delete(w)),C||w.removeAttribute(t)}),qm--,qm||(Wa=new WeakMap,Wa=new WeakMap,Zd=new WeakMap,eh={})}},vF=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=mF(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),yF(r,i,t,"aria-hidden")):function(){return null}},av="Dialog",[EC,U9]=x6(av),[wF,Kr]=EC(av),bC=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:i,onOpenChange:a,modal:l=!0}=n,u=S.useRef(null),f=S.useRef(null),[p=!1,y]=Gg({prop:r,defaultProp:i,onChange:a});return g.jsx(wF,{scope:e,triggerRef:u,contentRef:f,contentId:pm(),titleId:pm(),descriptionId:pm(),open:p,onOpenChange:y,onOpenToggle:S.useCallback(()=>y(w=>!w),[y]),modal:l,children:t})};bC.displayName=av;var TC="DialogTrigger",_F=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Kr(TC,t),a=Gt(e,i.triggerRef);return g.jsx(Et.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":uv(i.open),...r,ref:a,onClick:gt(n.onClick,i.onOpenToggle)})});_F.displayName=TC;var lv="DialogPortal",[xF,SC]=EC(lv,{forceMount:void 0}),CC=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:i}=n,a=Kr(lv,e);return g.jsx(xF,{scope:e,forceMount:t,children:S.Children.map(r,l=>g.jsx(Pf,{present:t||a.open,children:g.jsx(F1,{asChild:!0,container:i,children:l})}))})};CC.displayName=lv;var Wh="DialogOverlay",IC=S.forwardRef((n,e)=>{const t=SC(Wh,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,a=Kr(Wh,n.__scopeDialog);return a.modal?g.jsx(Pf,{present:r||a.open,children:g.jsx(EF,{...i,ref:e})}):null});IC.displayName=Wh;var EF=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Kr(Wh,t);return g.jsx(_C,{as:hl,allowPinchZoom:!0,shards:[i.contentRef],children:g.jsx(Et.div,{"data-state":uv(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Yo="DialogContent",AC=S.forwardRef((n,e)=>{const t=SC(Yo,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,a=Kr(Yo,n.__scopeDialog);return g.jsx(Pf,{present:r||a.open,children:a.modal?g.jsx(bF,{...i,ref:e}):g.jsx(TF,{...i,ref:e})})});AC.displayName=Yo;var bF=S.forwardRef((n,e)=>{const t=Kr(Yo,n.__scopeDialog),r=S.useRef(null),i=Gt(e,t.contentRef,r);return S.useEffect(()=>{const a=r.current;if(a)return vF(a)},[]),g.jsx(RC,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:gt(n.onCloseAutoFocus,a=>{var l;a.preventDefault(),(l=t.triggerRef.current)==null||l.focus()}),onPointerDownOutside:gt(n.onPointerDownOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&a.preventDefault()}),onFocusOutside:gt(n.onFocusOutside,a=>a.preventDefault())})}),TF=S.forwardRef((n,e)=>{const t=Kr(Yo,n.__scopeDialog),r=S.useRef(!1),i=S.useRef(!1);return g.jsx(RC,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l,u;(l=n.onCloseAutoFocus)==null||l.call(n,a),a.defaultPrevented||(r.current||(u=t.triggerRef.current)==null||u.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var f,p;(f=n.onInteractOutside)==null||f.call(n,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=a.target;((p=t.triggerRef.current)==null?void 0:p.contains(l))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),RC=S.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...l}=n,u=Kr(Yo,t),f=S.useRef(null),p=Gt(e,f);return D6(),g.jsxs(g.Fragment,{children:[g.jsx(hC,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:g.jsx(Zg,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":uv(u.open),...l,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),g.jsxs(g.Fragment,{children:[g.jsx(SF,{titleId:u.titleId}),g.jsx(IF,{contentRef:f,descriptionId:u.descriptionId})]})]})}),cv="DialogTitle",PC=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Kr(cv,t);return g.jsx(Et.h2,{id:i.titleId,...r,ref:e})});PC.displayName=cv;var kC="DialogDescription",NC=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Kr(kC,t);return g.jsx(Et.p,{id:i.descriptionId,...r,ref:e})});NC.displayName=kC;var DC="DialogClose",OC=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Kr(DC,t);return g.jsx(Et.button,{type:"button",...r,ref:e,onClick:gt(n.onClick,()=>i.onOpenChange(!1))})});OC.displayName=DC;function uv(n){return n?"open":"closed"}var MC="DialogTitleWarning",[z9,LC]=_6(MC,{contentName:Yo,titleName:cv,docsSlug:"dialog"}),SF=({titleId:n})=>{const e=LC(MC),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return S.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},CF="DialogDescriptionWarning",IF=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${LC(CF).contentName}}.`;return S.useEffect(()=>{var a;const i=(a=n.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},AF=bC,RF=CC,jC=IC,VC=AC,FC=PC,UC=NC,PF=OC;const kF=AF,NF=RF,dv=S.forwardRef(({className:n,...e},t)=>g.jsx(jC,{ref:t,className:jt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));dv.displayName=jC.displayName;const zC=S.forwardRef(({className:n,children:e,...t},r)=>g.jsxs(NF,{children:[g.jsx(dv,{}),g.jsxs(VC,{ref:r,className:jt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...t,children:[e,g.jsxs(PF,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[g.jsx(mh,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));zC.displayName=VC.displayName;const DF=S.forwardRef(({className:n,...e},t)=>g.jsx(FC,{ref:t,className:jt("text-lg font-semibold leading-none tracking-tight",n),...e}));DF.displayName=FC.displayName;const OF=S.forwardRef(({className:n,...e},t)=>g.jsx(UC,{ref:t,className:jt("text-sm text-muted-foreground",n),...e}));OF.displayName=UC.displayName;class vu{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const MF=()=>{if(!(typeof localStorage>"u"))return{get:n=>Promise.resolve(localStorage.getItem(n)),set:(n,e)=>Promise.resolve(localStorage.setItem(n,e)),remove:n=>Promise.resolve(localStorage.removeItem(n))}},pn={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:MF()},hv=n=>n?typeof n=="string"?{publicKey:n}:n.toString()==="[object Object]"?n:{}:{},LF=(n,e="https://api.emailjs.com")=>{if(!n)return;const t=hv(n);pn.publicKey=t.publicKey,pn.blockHeadless=t.blockHeadless,pn.storageProvider=t.storageProvider,pn.blockList=t.blockList,pn.limitRate=t.limitRate,pn.origin=t.origin||e},$C=async(n,e,t={})=>{const r=await fetch(pn.origin+n,{method:"POST",headers:t,body:e}),i=await r.text(),a=new vu(r.status,i);if(r.ok)return a;throw a},BC=(n,e,t)=>{if(!n||typeof n!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},jF=n=>{if(n&&n.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},WC=n=>n.webdriver||!n.languages||n.languages.length===0,HC=()=>new vu(451,"Unavailable For Headless Browser"),VF=(n,e)=>{if(!Array.isArray(n))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},FF=n=>{var e;return!((e=n.list)!=null&&e.length)||!n.watchVariable},UF=(n,e)=>n instanceof FormData?n.get(e):n[e],qC=(n,e)=>{if(FF(n))return!1;VF(n.list,n.watchVariable);const t=UF(e,n.watchVariable);return typeof t!="string"?!1:n.list.includes(t)},GC=()=>new vu(403,"Forbidden"),zF=(n,e)=>{if(typeof n!="number"||n<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},$F=async(n,e,t)=>{const r=Number(await t.get(n)||0);return e-Date.now()+r},KC=async(n,e,t)=>{if(!e.throttle||!t)return!1;zF(e.throttle,e.id);const r=e.id||n;return await $F(r,e.throttle,t)>0?!0:(await t.set(r,Date.now().toString()),!1)},QC=()=>new vu(429,"Too Many Requests"),BF=async(n,e,t,r)=>{const i=hv(r),a=i.publicKey||pn.publicKey,l=i.blockHeadless||pn.blockHeadless,u=i.storageProvider||pn.storageProvider,f={...pn.blockList,...i.blockList},p={...pn.limitRate,...i.limitRate};return l&&WC(navigator)?Promise.reject(HC()):(BC(a,n,e),jF(t),t&&qC(f,t)?Promise.reject(GC()):await KC(location.pathname,p,u)?Promise.reject(QC()):$C("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:a,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"}))},WF=n=>{if(!n||n.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},HF=n=>typeof n=="string"?document.querySelector(n):n,qF=async(n,e,t,r)=>{const i=hv(r),a=i.publicKey||pn.publicKey,l=i.blockHeadless||pn.blockHeadless,u=pn.storageProvider||i.storageProvider,f={...pn.blockList,...i.blockList},p={...pn.limitRate,...i.limitRate};if(l&&WC(navigator))return Promise.reject(HC());const y=HF(t);BC(a,n,e),WF(y);const w=new FormData(y);return qC(f,w)?Promise.reject(GC()):await KC(location.pathname,p,u)?Promise.reject(QC()):(w.append("lib_version","4.4.1"),w.append("service_id",n),w.append("template_id",e),w.append("user_id",a),$C("/api/v1.0/email/send-form",w))},YC={init:LF,send:BF,sendForm:qF,EmailJSResponseStatus:vu},XC="XWNKjD-pD1geOupnM",GF="service_7xy8tzk",KF="template_5byi2ii",QF="service_y9yaqg2",YF="template_q9229th";async function XF({user_name:n,user_email:e,message:t}){return YC.send(GF,KF,{user_name:n,user_email:e,user_message:t},XC)}async function JF({user_name:n,user_email:e,user_advice:t}){return YC.send(QF,YF,{user_name:n,user_email:e,user_advice:t},XC)}const ZF=Xg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Fs=S.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...i},a)=>{const l=r?hl:"button";return g.jsx(l,{className:jt(ZF({variant:e,size:t,className:n})),ref:a,...i})});Fs.displayName="Button";const kc=S.forwardRef(({className:n,...e},t)=>g.jsx("div",{ref:t,className:jt("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));kc.displayName="Card";const Ug=S.forwardRef(({className:n,...e},t)=>g.jsx("div",{ref:t,className:jt("flex flex-col space-y-1.5 p-6",n),...e}));Ug.displayName="CardHeader";const zg=S.forwardRef(({className:n,...e},t)=>g.jsx("h3",{ref:t,className:jt("text-2xl font-semibold leading-none tracking-tight",n),...e}));zg.displayName="CardTitle";const e9=S.forwardRef(({className:n,...e},t)=>g.jsx("p",{ref:t,className:jt("text-sm text-muted-foreground",n),...e}));e9.displayName="CardDescription";const Nc=S.forwardRef(({className:n,...e},t)=>g.jsx("div",{ref:t,className:jt("p-6 pt-0",n),...e}));Nc.displayName="CardContent";const t9=S.forwardRef(({className:n,...e},t)=>g.jsx("div",{ref:t,className:jt("flex items-center p-6 pt-0",n),...e}));t9.displayName="CardFooter";const n9=Xg("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Gm({className:n,variant:e,...t}){return g.jsx("div",{className:jt(n9({variant:e}),n),...t})}function r9(n){const e=S.useRef({value:n,previous:n});return S.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var fv="Switch",[s9,$9]=Hh(fv),[i9,o9]=s9(fv),JC=S.forwardRef((n,e)=>{const{__scopeSwitch:t,name:r,checked:i,defaultChecked:a,required:l,disabled:u,value:f="on",onCheckedChange:p,...y}=n,[w,v]=S.useState(null),C=Gt(e,j=>v(j)),R=S.useRef(!1),b=w?!!w.closest("form"):!0,[T=!1,L]=Gg({prop:i,defaultProp:a,onChange:p});return g.jsxs(i9,{scope:t,checked:T,disabled:u,children:[g.jsx(Et.button,{type:"button",role:"switch","aria-checked":T,"aria-required":l,"data-state":tI(T),"data-disabled":u?"":void 0,disabled:u,value:f,...y,ref:C,onClick:gt(n.onClick,j=>{L(F=>!F),b&&(R.current=j.isPropagationStopped(),R.current||j.stopPropagation())})}),b&&g.jsx(a9,{control:w,bubbles:!R.current,name:r,value:f,checked:T,required:l,disabled:u,style:{transform:"translateX(-100%)"}})]})});JC.displayName=fv;var ZC="SwitchThumb",eI=S.forwardRef((n,e)=>{const{__scopeSwitch:t,...r}=n,i=o9(ZC,t);return g.jsx(Et.span,{"data-state":tI(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});eI.displayName=ZC;var a9=n=>{const{control:e,checked:t,bubbles:r=!0,...i}=n,a=S.useRef(null),l=r9(t),u=A1(e);return S.useEffect(()=>{const f=a.current,p=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(p,"checked").set;if(l!==t&&w){const v=new Event("click",{bubbles:r});w.call(f,t),f.dispatchEvent(v)}},[l,t,r]),g.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...i,tabIndex:-1,ref:a,style:{...n.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function tI(n){return n?"checked":"unchecked"}var nI=JC,l9=eI;const rI=S.forwardRef(({className:n,...e},t)=>g.jsx(nI,{className:jt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",n),...e,ref:t,children:g.jsx(l9,{className:jt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));rI.displayName=nI.displayName;var c9="Separator",wE="horizontal",u9=["horizontal","vertical"],sI=S.forwardRef((n,e)=>{const{decorative:t,orientation:r=wE,...i}=n,a=d9(r)?r:wE,u=t?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return g.jsx(Et.div,{"data-orientation":a,...u,...i,ref:e})});sI.displayName=c9;function d9(n){return u9.includes(n)}var iI=sI;const oI=S.forwardRef(({className:n,orientation:e="horizontal",decorative:t=!0,...r},i)=>g.jsx(iI,{ref:i,decorative:t,orientation:e,className:jt("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",n),...r}));oI.displayName=iI.displayName;const $g=[{id:"stress-001",category:"stress",title:"Deep Breathing for Stress Relief",advice:"When feeling overwhelmed, try the 4-7-8 breathing technique. This activates your parasympathetic nervous system and helps reduce stress hormones.",actionable:["Inhale through your nose for 4 counts","Hold your breath for 7 counts","Exhale through your mouth for 8 counts","Repeat 3-4 times"],severity:"low"},{id:"anxiety-001",category:"anxiety",title:"Grounding Technique: 5-4-3-2-1",advice:"Use this sensory grounding technique to anchor yourself in the present moment when anxiety strikes.",actionable:["Name 5 things you can see","Name 4 things you can touch","Name 3 things you can hear","Name 2 things you can smell","Name 1 thing you can taste"],severity:"medium"},{id:"mood-001",category:"mood",title:"Mood Boosting Activities",advice:"Small actions can have a big impact on your mood. Physical movement and sunlight are natural mood elevators.",actionable:["Take a 10-minute walk outside","Listen to your favorite upbeat song","Do 5 minutes of stretching","Call or text a friend you care about","Write down 3 things you're grateful for"],severity:"low"},{id:"sleep-001",category:"sleep",title:"Better Sleep Hygiene",advice:"Quality sleep is fundamental to mental health. Creating a consistent sleep routine helps regulate your mood and energy.",actionable:["Set a consistent bedtime and wake time","Avoid screens 1 hour before bed","Keep your bedroom cool and dark","Try reading or light stretching before sleep","Avoid caffeine after 2 PM"],severity:"medium"},{id:"productivity-001",category:"productivity",title:"Overcoming Overwhelm",advice:"When tasks feel overwhelming, breaking them down into smaller steps makes them more manageable and less anxiety-provoking.",actionable:["Write down all your tasks","Break large tasks into 15-minute chunks","Start with the easiest task to build momentum","Take breaks every 25 minutes (Pomodoro technique)","Celebrate small wins along the way"],severity:"medium"},{id:"self-care-001",category:"self-care",title:"Daily Self-Care Essentials",advice:"Self-care isn't selfish—it's essential for maintaining mental health. Small daily practices compound over time.",actionable:["Drink a glass of water first thing in the morning","Spend 5 minutes in nature or by a window",'Practice saying "no" to things that drain you',"Do one thing that brings you joy each day","End the day by acknowledging one thing you did well"],severity:"low"},{id:"mindfulness-001",category:"mindfulness",title:"Present Moment Awareness",advice:"Mindfulness helps break the cycle of rumination and worry by anchoring your attention in the present moment.",actionable:["Set 3 random phone alarms to check in with yourself","Practice mindful eating with one meal today","Do a 2-minute body scan from head to toe","Notice your breath without changing it for 1 minute","Observe your thoughts without judging them"],severity:"low"},{id:"anxiety-002",category:"anxiety",title:"Managing Worry Spirals",advice:"Worry spirals can be interrupted with structured thinking techniques that help you regain perspective.",actionable:['Ask yourself: "Is this worry realistic?"','Set aside 15 minutes of "worry time" each day',"Write down your worries to externalize them","Challenge negative thoughts with evidence","Focus on what you can control right now"],severity:"medium"},{id:"stress-002",category:"stress",title:"Progressive Muscle Relaxation",advice:"Physical tension often accompanies mental stress. Releasing muscle tension can help calm your mind.",actionable:["Start with your toes—tense for 5 seconds, then relax","Move up through each muscle group","Notice the difference between tension and relaxation","End with your face and scalp muscles","Lie still for 2 minutes after finishing"],severity:"low"},{id:"mood-002",category:"mood",title:"Emotional Regulation Strategies",advice:"Understanding and naming your emotions is the first step to managing them effectively.",actionable:["Use an emotion wheel to identify specific feelings","Rate your emotion intensity from 1-10",'Ask: "What does this emotion need from me?"',"Practice self-compassion when feeling difficult emotions","Remember: emotions are temporary visitors"],severity:"medium"},{id:"stress-003",category:"stress",title:"Digital Detox for Mental Clarity",advice:"Constant connectivity can overwhelm our minds. Taking regular breaks from devices helps reduce mental clutter and stress.",actionable:["Turn off non-essential notifications for 2 hours","Leave your phone in another room during meals",'Set a "no screens" time 30 minutes before bed',"Take a 15-minute walk without any devices","Practice single-tasking instead of multitasking"],severity:"low"},{id:"anxiety-003",category:"anxiety",title:"Creating Your Safe Mental Space",advice:"Visualization techniques can create a sense of safety and calm when anxiety feels overwhelming.",actionable:["Close your eyes and imagine your favorite peaceful place","Focus on sensory details: sounds, smells, textures","Breathe deeply while holding this mental image","Return to this visualization whenever you feel anxious","Create a physical reminder (photo, object) of this safe space"],severity:"medium"},{id:"productivity-002",category:"productivity",title:"Energy Management Over Time Management",advice:"Working with your natural energy rhythms instead of against them can significantly improve both productivity and well-being.",actionable:["Notice when you naturally feel most energetic","Schedule important tasks during your peak energy times","Use low-energy periods for routine or administrative tasks","Take breaks before you feel tired, not after","Honor your need for rest without guilt"],severity:"low"},{id:"self-care-003",category:"self-care",title:"Micro-Moments of Self-Compassion",advice:"Self-compassion doesn't require grand gestures. Small moments of kindness toward yourself throughout the day can be transformative.",actionable:["Place your hand on your heart when feeling stressed","Speak to yourself as you would a good friend","Acknowledge your efforts, not just your results","Forgive yourself for a mistake you made today","Thank your body for carrying you through the day"],severity:"low"},{id:"sleep-003",category:"sleep",title:"Wind-Down Rituals for Better Rest",advice:"Creating a consistent pre-sleep routine signals to your brain that it's time to prepare for rest, improving sleep quality.",actionable:["Start dimming lights 1 hour before bedtime","Write down 3 things that went well today","Do 5 minutes of gentle stretching or yoga","Practice gratitude or loving-kindness meditation","Listen to calming music or nature sounds"],severity:"medium"},{id:"mindfulness-003",category:"mindfulness",title:"Mindful Transitions",advice:"The spaces between activities are opportunities for mindfulness. These transition moments can reset your mental state.",actionable:["Take 3 deep breaths before starting a new task","Pause for 30 seconds when moving between rooms","Set intention before checking your phone or email","Notice how your body feels when sitting down","Appreciate something beautiful during transitions"],severity:"low"}];function h9(n){const e=$g.filter(r=>r.category===n);if(e.length===0)return null;const t=Math.floor(Math.random()*e.length);return e[t]}function aI(){const n=Math.floor(Math.random()*$g.length);return $g[n]}function f9(n){let e,t;switch(n){case"stressed":e="stress",t="I understand you're feeling stressed right now. Here's something that might help:";break;case"anxious":e="anxiety",t="Anxiety can feel overwhelming, but you have tools to manage it. Try this:";break;case"sad":e="mood",t="It's okay to feel sad sometimes. Here's a gentle way to support yourself:";break;case"overwhelmed":e="productivity",t="When everything feels like too much, breaking it down can help:";break;case"tired":e="self-care",t="Your energy is important. Here's how to take care of yourself:";break;default:e="mindfulness",t="Here's a mindful practice to support your well-being:"}return{tip:h9(e)||aI(),personalMessage:t}}function p9(){return["How are you feeling emotionally right now?","What's one thing that brought you joy today?","Have you taken care of your basic needs (food, water, rest)?","What's weighing on your mind?","What's one thing you're grateful for today?","How would you rate your energy level (1-10)?","What's one act of self-kindness you can do right now?"]}function m9(){return["You are stronger than you think.","It's okay to not be okay sometimes.","You deserve compassion, especially from yourself.","This feeling is temporary—you will get through this.","You are worthy of love and support.","Taking care of your mental health is a sign of strength.","You don't have to be perfect to be valuable.","Your feelings are valid and important.","You are doing the best you can with what you have.","It's brave to ask for help when you need it."]}class g9{constructor(){Dd(this,"STORAGE_KEY","mentalHealthScheduler");Dd(this,"ADVICE_INTERVAL",3*24*60*60*1e3);Dd(this,"schedulerInterval",null);this.initializeScheduler()}initializeScheduler(){this.checkAndSendAdvice(),this.schedulerInterval=setInterval(()=>{this.checkAndSendAdvice()},60*60*1e3)}getStoredData(){try{const e=localStorage.getItem(this.STORAGE_KEY);if(e)return JSON.parse(e)}catch(e){console.warn("Error reading mental health scheduler data:",e)}return{lastSent:0,adviceHistory:[],isEnabled:!0}}saveData(e){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e))}catch(t){console.warn("Error saving mental health scheduler data:",t)}}checkAndSendAdvice(){const e=this.getStoredData();if(!e.isEnabled)return;Date.now()-e.lastSent>=this.ADVICE_INTERVAL&&this.sendScheduledAdvice()}sendScheduledAdvice(){const e=this.getStoredData(),t=Date.now(),r=["general","stressed","anxious","overwhelmed","tired"],i=r[Math.floor(Math.random()*r.length)],a=f9(i),l=p9(),u=m9(),f=l[Math.floor(Math.random()*l.length)],p=u[Math.floor(Math.random()*u.length)],y={id:`advice-${t}`,timestamp:t,tip:a.tip,personalMessage:a.personalMessage,checkInPrompt:f,affirmation:p,isRead:!1};e.adviceHistory.unshift(y),e.adviceHistory=e.adviceHistory.slice(0,10),e.lastSent=t,this.saveData(e),this.showAdviceNotification(y),this.sendAdviceEmail(y)}showAdviceNotification(e){"Notification"in window&&Notification.permission==="granted"&&new Notification("Mental Health Check-in",{body:`${e.personalMessage}

${e.tip.title}`,icon:"/favicon.ico",tag:"mental-health-advice"});const t=new CustomEvent("mentalHealthAdvice",{detail:e});window.dispatchEvent(t),console.log("🌱 Mental Health Advice:",e)}async sendAdviceEmail(e){try{const t=this.getUserInfo();if(!t.email){console.log("No user email found, skipping email notification");return}const r=this.formatAdviceForEmail(e);await JF({user_name:t.name||"Valued User",user_email:t.email,user_advice:r}),console.log("Mental health advice email sent successfully")}catch(t){console.warn("Failed to send mental health advice email:",t)}}getUserInfo(){try{const t=localStorage.getItem("currentUserProfile");if(t){const i=JSON.parse(t);return{email:i.email||null,name:i.name||null}}const r=localStorage.getItem("userProfile");if(r){const i=JSON.parse(r);return{email:i.email||null,name:i.name||null}}return{email:null,name:null}}catch(e){return console.warn("Error getting user info:",e),{email:null,name:null}}}setUserInfo(e,t){try{const r={email:e,name:t};localStorage.setItem("currentUserProfile",JSON.stringify(r))}catch(r){console.warn("Error saving user info:",r)}}formatAdviceForEmail(e){const t=e.tip.actionable.map(r=>`• ${r}`).join(`
`);return`Hi there,

We hope you're doing well. Here's a gentle piece of advice for your mental well-being today:

${e.personalMessage}

**${e.tip.title}**

${e.tip.advice}

**What you can do:**
${t}

${e.affirmation?`💙 ${e.affirmation}`:""}

${e.checkInPrompt?`💭 Reflection: ${e.checkInPrompt}`:""}

Remember, small steps build strong habits.

Best regards,
The Companion AI Team

Note: You are receiving these wellness reminders because you have notifications enabled on our website. To stop receiving them, simply turn off notifications in your account settings.`}getUnreadAdvice(){return this.getStoredData().adviceHistory.filter(t=>!t.isRead)}getAdviceHistory(){return this.getStoredData().adviceHistory}markAsRead(e){const t=this.getStoredData(),r=t.adviceHistory.find(i=>i.id===e);r&&(r.isRead=!0,this.saveData(t))}markAllAsRead(){const e=this.getStoredData();e.adviceHistory.forEach(t=>{t.isRead=!0}),this.saveData(e)}setEnabled(e){const t=this.getStoredData();t.isEnabled=e,this.saveData(t)}isEnabled(){return this.getStoredData().isEnabled}getTimeUntilNext(){const e=this.getStoredData(),r=Date.now()-e.lastSent,i=this.ADVICE_INTERVAL-r;return Math.max(0,i)}sendNow(){this.sendScheduledAdvice()}async testEmail(){try{if(!this.getUserInfo().email)return console.warn("No user email found for testing"),!1;const t=aI(),r={id:`test-${Date.now()}`,timestamp:Date.now(),tip:t,personalMessage:"This is a test of your mental health advice system.",checkInPrompt:"How are you feeling about receiving these wellness reminders?",affirmation:"You are taking great care of your mental health! 💙",isRead:!1};return await this.sendAdviceEmail(r),console.log("Test email sent successfully!"),!0}catch(e){return console.error("Test email failed:",e),!1}}async requestNotificationPermission(){return"Notification"in window?Notification.permission==="granted"?!0:Notification.permission==="denied"?!1:await Notification.requestPermission()==="granted":(console.warn("This browser does not support notifications"),!1)}destroy(){this.schedulerInterval&&(clearInterval(this.schedulerInterval),this.schedulerInterval=null)}reset(){localStorage.removeItem(this.STORAGE_KEY),this.destroy(),this.initializeScheduler()}}const Wn=new g9;function y9(n){const e=Math.floor(n/864e5),t=Math.floor(n%(24*60*60*1e3)/(60*60*1e3)),r=Math.floor(n%(60*60*1e3)/(60*1e3));return e>0?`${e} day${e>1?"s":""} and ${t} hour${t>1?"s":""}`:t>0?`${t} hour${t>1?"s":""} and ${r} minute${r>1?"s":""}`:`${r} minute${r>1?"s":""}`}typeof window<"u"&&Wn.requestNotificationPermission();function v9({className:n}){const[e,t]=S.useState([]),[r,i]=S.useState([]),[a,l]=S.useState(!0),[u,f]=S.useState(0),[p,y]=S.useState(!1),[w,v]=S.useState(null);S.useEffect(()=>{C();const F=H=>{C(),v(H.detail)};window.addEventListener("mentalHealthAdvice",F);const $=setInterval(()=>{f(Wn.getTimeUntilNext())},6e4);return()=>{window.removeEventListener("mentalHealthAdvice",F),clearInterval($)}},[]);const C=()=>{t(Wn.getUnreadAdvice()),i(Wn.getAdviceHistory()),l(Wn.isEnabled()),f(Wn.getTimeUntilNext())},R=F=>{Wn.setEnabled(F),l(F)},b=F=>{Wn.markAsRead(F),C()},T=()=>{Wn.markAllAsRead(),C()},L=()=>{Wn.sendNow(),C()},j=F=>new Date(F).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"});return g.jsxs("div",{className:`space-y-4 ${n}`,children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(L0,{className:"h-5 w-5 text-pink-500"}),g.jsx("h3",{className:"text-lg font-semibold",children:"Mental Health Check-ins"}),e.length>0&&g.jsxs(Gm,{variant:"destructive",className:"ml-2",children:[e.length," new"]})]}),g.jsx(Fs,{variant:"ghost",size:"sm",onClick:()=>y(!p),children:g.jsx(j0,{className:"h-4 w-4"})})]}),p&&g.jsxs(kc,{children:[g.jsx(Ug,{children:g.jsxs(zg,{className:"flex items-center gap-2",children:[g.jsx(j0,{className:"h-4 w-4"}),"Notification Settings"]})}),g.jsxs(Nc,{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("p",{className:"font-medium",children:"Enable Notifications"}),g.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive mental health advice every 3 days"})]}),g.jsx(rI,{checked:a,onCheckedChange:R})]}),g.jsx(oI,{}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(M0,{className:"h-4 w-4 text-muted-foreground"}),g.jsxs("span",{className:"text-sm",children:["Next advice in: ",y9(u)]})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx(Fs,{variant:"outline",size:"sm",onClick:L,disabled:!a,children:"Send Now"}),e.length>0&&g.jsx(Fs,{variant:"outline",size:"sm",onClick:T,children:"Mark All Read"})]})]})]})]}),w&&g.jsxs(kc,{className:"border-pink-200 bg-pink-50 dark:bg-pink-950 dark:border-pink-800",children:[g.jsx(Ug,{children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs(zg,{className:"flex items-center gap-2",children:[g.jsx(yR,{className:"h-5 w-5 text-pink-500"}),"New Mental Health Check-in"]}),g.jsx(Fs,{variant:"ghost",size:"sm",onClick:()=>v(null),children:g.jsx(mh,{className:"h-4 w-4"})})]})}),g.jsxs(Nc,{className:"space-y-4",children:[g.jsxs("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:[g.jsx("p",{className:"text-pink-700 dark:text-pink-300 font-medium",children:w.personalMessage}),g.jsxs("div",{className:"bg-white dark:bg-gray-900 p-4 rounded-lg border",children:[g.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:w.tip.title}),g.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-3",children:w.tip.advice}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:"What you can do:"}),g.jsx("ul",{className:"list-disc list-inside space-y-1",children:w.tip.actionable.map((F,$)=>g.jsx("li",{className:"text-gray-700 dark:text-gray-300 text-sm",children:F},$))})]})]}),w.affirmation&&g.jsx("div",{className:"bg-blue-50 dark:bg-blue-950 p-3 rounded-lg border border-blue-200 dark:border-blue-800",children:g.jsxs("p",{className:"text-blue-700 dark:text-blue-300 font-medium text-center",children:["💙 ",w.affirmation]})}),w.checkInPrompt&&g.jsx("div",{className:"bg-green-50 dark:bg-green-950 p-3 rounded-lg border border-green-200 dark:border-green-800",children:g.jsxs("p",{className:"text-green-700 dark:text-green-300",children:[g.jsx("span",{className:"font-medium",children:"💭 Reflection: "}),w.checkInPrompt]})})]}),g.jsx("div",{className:"flex justify-end",children:g.jsx(Fs,{onClick:()=>{b(w.id),v(null)},className:"bg-pink-500 hover:bg-pink-600",children:"Got it, thanks!"})})]})]}),e.length>0&&!w&&g.jsxs("div",{className:"space-y-3",children:[g.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[g.jsx(gR,{className:"h-4 w-4 text-orange-500"}),"Unread Check-ins"]}),e.map(F=>g.jsx(kc,{className:"border-orange-200 bg-orange-50 dark:bg-orange-950 dark:border-orange-800",children:g.jsx(Nc,{className:"pt-4",children:g.jsxs("div",{className:"flex items-start justify-between",children:[g.jsxs("div",{className:"space-y-2 flex-1",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("h5",{className:"font-semibold",children:F.tip.title}),g.jsx(Gm,{variant:"secondary",className:"text-xs",children:F.tip.category})]}),g.jsx("p",{className:"text-sm text-muted-foreground",children:j(F.timestamp)}),g.jsx("p",{className:"text-sm",children:F.personalMessage})]}),g.jsxs("div",{className:"flex gap-2 ml-4",children:[g.jsx(Fs,{variant:"outline",size:"sm",onClick:()=>v(F),children:"View"}),g.jsx(Fs,{variant:"ghost",size:"sm",onClick:()=>b(F.id),children:g.jsx(mh,{className:"h-4 w-4"})})]})]})})},F.id))]}),r.length>0&&g.jsxs("div",{className:"space-y-3",children:[g.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[g.jsx(M0,{className:"h-4 w-4 text-gray-500"}),"Recent History"]}),g.jsx("div",{className:"grid gap-2",children:r.slice(0,5).map(F=>g.jsx("div",{className:`p-3 rounded-lg border text-sm ${F.isRead?"bg-gray-50 dark:bg-gray-900 border-gray-200 dark:border-gray-700":"bg-blue-50 dark:bg-blue-950 border-blue-200 dark:border-blue-800"}`,children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"font-medium",children:F.tip.title}),g.jsx(Gm,{variant:"outline",className:"text-xs",children:F.tip.category}),!F.isRead&&g.jsx(mR,{className:"h-3 w-3 text-orange-500"})]}),g.jsx("span",{className:"text-xs text-muted-foreground",children:j(F.timestamp)})]})},F.id))})]}),r.length===0&&g.jsx(kc,{children:g.jsxs(Nc,{className:"pt-6 text-center",children:[g.jsx(L0,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),g.jsx("h4",{className:"font-semibold mb-2",children:"Welcome to Mental Health Check-ins"}),g.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"You'll receive personalized mental health advice every 3 days to support your well-being."}),g.jsx(Fs,{onClick:L,disabled:!a,children:"Get Your First Advice"})]})})]})}const w9=({isDarkMode:n})=>g.jsx(g.Fragment,{children:g.jsxs("div",{className:"absolute inset-0 opacity-10",children:[g.jsx("div",{className:"absolute top-20 left-20 w-96 h-96 bg-gradient-radial from-brand-purple to-transparent rounded-full blur-3xl animate-pulse"}),g.jsx("div",{className:"absolute top-40 right-32 w-80 h-80 bg-gradient-radial from-brand-blue to-transparent rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),g.jsx("div",{className:"absolute bottom-32 left-1/3 w-72 h-72 bg-gradient-radial from-brand-pink to-transparent rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]})}),_9=({isDarkMode:n,onToggleDarkMode:e,onBackToChat:t})=>g.jsx("header",{className:"border-b backdrop-blur-sm sticky top-0 z-50",style:{backgroundColor:n?"rgba(30, 41, 59, 0.8)":"rgba(255, 255, 255, 0.8)",borderColor:n?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"},children:g.jsxs("div",{className:"flex items-center justify-between p-4 max-w-4xl mx-auto",children:[g.jsxs("button",{onClick:t,className:"flex items-center gap-3 p-2 rounded-xl hover:bg-opacity-80 transition-all duration-300",style:{backgroundColor:n?"rgba(172, 127, 244, 0.1)":"rgba(172, 127, 244, 0.05)"},children:[g.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",style:{color:n?"#f1f5f9":"#1e293b"},children:g.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})}),g.jsx("span",{className:"font-medium",style:{color:n?"#f1f5f9":"#1e293b"},children:"Back to Chat"})]}),g.jsx("div",{className:"flex items-center gap-4",children:g.jsx("h1",{className:"text-xl font-semibold",style:{color:n?"#f1f5f9":"#1e293b"},children:"Account"})}),g.jsx("button",{onClick:e,className:"p-2 rounded-xl border-2 transition-all duration-300 hover:scale-105",style:{backgroundColor:n?"rgba(172, 127, 244, 0.1)":"rgba(255, 255, 255, 0.7)",borderColor:n?"#AC7FF4":"rgba(172, 127, 244, 0.3)",color:n?"#f1f5f9":"#1e293b"},children:n?g.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{d:"M9.528 1.718a.75.75 0 01.162.819A8.97 8.97 0 009 6a9 9 0 009 9 8.97 8.97 0 003.463-.69.75.75 0 01.981.98 10.503 10.503 0 01-9.694 6.46c-5.799 0-10.5-4.701-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 01.818.162z"})}):g.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{d:"M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18.894 6.166a.75.75 0 00-1.06-1.06l-1.591 1.59a.75.75 0 101.06 1.061l1.591-1.59zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5H21a.75.75 0 01.75.75zM17.834 18.894a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 10-1.061 1.06l1.59 1.591zM12 18a.75.75 0 01.75.75V21a.75.75 0 01-1.5 0v-2.25A.75.75 0 0112 18zM7.758 17.303a.75.75 0 00-1.061-1.06l-1.591 1.59a.75.75 0 001.06 1.061l1.591-1.59zM6 12a.75.75 0 01-.75.75H3a.75.75 0 010-1.5h2.25A.75.75 0 016 12zM6.697 7.757a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 00-1.061 1.06l1.59 1.591z"})})})]})}),x9=({profile:n,isDarkMode:e,onEdit:t})=>g.jsxs("div",{className:"rounded-3xl p-8 shadow-2xl backdrop-blur-sm border transition-all duration-500",style:{backgroundColor:e?"rgba(30, 41, 59, 0.6)":"rgba(255, 255, 255, 0.8)",borderColor:e?"rgba(172, 127, 244, 0.3)":"rgba(172, 127, 244, 0.2)"},children:[g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsx("h2",{className:"text-2xl font-bold",style:{color:e?"#f1f5f9":"#1e293b"},children:"Profile"}),g.jsx("button",{onClick:t,className:"px-4 py-2 rounded-xl border-2 hover:bg-brand-purple hover:text-white transition-all duration-300",style:{borderColor:"#AC7FF4",color:e?"#f1f5f9":"#1e293b"},children:"Edit"})]}),g.jsxs("div",{className:"flex items-start gap-6",children:[g.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-brand-purple to-brand-blue rounded-full flex items-center justify-center shadow-lg",children:n.avatar?g.jsx("img",{src:n.avatar,alt:"avatar",className:"w-16 h-16 rounded-full object-cover"}):g.jsx("svg",{className:"w-10 h-10 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:e?"#f1f5f9":"#1e293b"},children:n.name||"Anonymous User"}),g.jsx("p",{className:"mb-2",style:{color:e?"#94a3b8":"#64748b"},children:n.email}),g.jsxs("p",{className:"text-sm",style:{color:e?"#94a3b8":"#64748b"},children:["Member since ",n.joinedDate]})]})]})]}),E9=({settings:n,isDarkMode:e,onSettingChange:t})=>g.jsxs("div",{className:"rounded-3xl p-8 shadow-2xl backdrop-blur-sm border transition-all duration-500",style:{backgroundColor:e?"rgba(30, 41, 59, 0.6)":"rgba(255, 255, 255, 0.8)",borderColor:e?"rgba(172, 127, 244, 0.3)":"rgba(172, 127, 244, 0.2)"},children:[g.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:e?"#f1f5f9":"#1e293b"},children:"Settings"}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"font-semibold",style:{color:e?"#f1f5f9":"#1e293b"},children:"Notifications"}),g.jsx("p",{className:"text-sm",style:{color:e?"#94a3b8":"#64748b"},children:"Receive mental health advice every 3 days and wellness tips"})]}),g.jsx("button",{onClick:()=>t("notifications",!n.notifications),className:`w-12 h-6 rounded-full transition-all duration-300 ${n.notifications?"bg-brand-purple":"bg-gray-300"}`,children:g.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow-md transition-all duration-300 ${n.notifications?"translate-x-6":"translate-x-0.5"}`})})]}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"font-semibold",style:{color:e?"#f1f5f9":"#1e293b"},children:"Dark Mode"}),g.jsx("p",{className:"text-sm",style:{color:e?"#94a3b8":"#64748b"},children:"Switch between light and dark themes"})]}),g.jsx("button",{onClick:()=>t("darkMode",!e),className:`w-12 h-6 rounded-full transition-all duration-300 ${e?"bg-brand-purple":"bg-gray-300"}`,children:g.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow-md transition-all duration-300 ${e?"translate-x-6":"translate-x-0.5"}`})})]}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"font-semibold",style:{color:e?"#f1f5f9":"#1e293b"},children:"Privacy Mode"}),g.jsx("p",{className:"text-sm",style:{color:e?"#94a3b8":"#64748b"},children:"Enhanced privacy for sensitive conversations"})]}),g.jsx("button",{onClick:()=>t("privacy",!n.privacy),className:`w-12 h-6 rounded-full transition-all duration-300 ${n.privacy?"bg-brand-purple":"bg-gray-300"}`,children:g.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow-md transition-all duration-300 ${n.privacy?"translate-x-6":"translate-x-0.5"}`})})]})]})]}),b9=({isDarkMode:n,onLogout:e,onClearConversations:t})=>g.jsxs("div",{className:"rounded-3xl p-8 shadow-2xl backdrop-blur-sm border transition-all duration-500",style:{backgroundColor:n?"rgba(30, 41, 59, 0.6)":"rgba(255, 255, 255, 0.8)",borderColor:n?"rgba(172, 127, 244, 0.3)":"rgba(172, 127, 244, 0.2)"},children:[g.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:n?"#f1f5f9":"#1e293b"},children:"Actions"}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("button",{onClick:t,className:"w-full p-4 rounded-xl border-2 border-brand-pink text-brand-pink hover:bg-brand-pink hover:text-white transition-all duration-300 font-medium",style:{fontSize:"1rem"},children:"Clear All Conversations"}),g.jsx("button",{onClick:e,className:"w-full p-4 rounded-xl border-2 border-red-500 text-red-500 hover:bg-red-500 hover:text-white transition-all duration-300 font-medium",style:{fontSize:"1rem"},children:"Sign Out"})]})]}),T9=({isDarkMode:n,userProfile:e})=>{const[t,r]=S.useState(""),[i,a]=S.useState(!1),[l,u]=S.useState(""),[f,p]=S.useState(!1),y=async()=>{if(u(""),a(!1),!t.trim()){u("Please enter your enquiry message.");return}p(!0);try{await XF({user_name:e.name||"Anonymous User",user_email:e.email||"no-email@example.com",message:t.trim()}),a(!0),r("")}catch(w){console.error("Failed to send email:",w),u("Failed to send enquiry. Please try again later.")}finally{p(!1)}};return g.jsxs("div",{className:"rounded-3xl p-8 shadow-2xl backdrop-blur-sm border transition-all duration-500",style:{backgroundColor:n?"rgba(30, 41, 59, 0.6)":"rgba(255, 255, 255, 0.8)",borderColor:n?"rgba(172, 127, 244, 0.3)":"rgba(172, 127, 244, 0.2)"},children:[g.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:n?"#f1f5f9":"#1e293b"},children:"Contact Us"}),g.jsxs("p",{className:"mb-4 text-sm",style:{color:n?"#94a3b8":"#64748b"},children:["For any enquiry, send us a message below. We'll send it directly to"," ",g.jsx("span",{className:"font-semibold",children:"hello.companion@gmail.com"}),"."]}),g.jsx("textarea",{className:"w-full p-3 rounded-xl border focus:outline-none focus:ring-2 focus:ring-brand-purple bg-gray-100 dark:bg-slate-700 text-gray-900 dark:text-white mb-4",rows:4,value:t,onChange:w=>r(w.target.value),placeholder:"Type your enquiry here...",disabled:f}),l&&g.jsx("div",{className:"mb-2 p-2 bg-red-100 text-red-700 rounded-lg",children:l}),i&&g.jsx("div",{className:"mb-2 p-2 bg-green-100 text-green-700 rounded-lg",children:"Enquiry sent successfully!"}),g.jsx("button",{onClick:y,disabled:f||!t.trim(),className:"px-4 py-2 rounded-xl border-2 border-brand-blue text-brand-blue hover:bg-brand-blue hover:text-white font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Sending...":"Send Enquiry"})]})};function S9(){const n=dy(),{auth:e,logout:t}=mb(),{isDarkMode:r,toggleDarkMode:i}=hy(),[a,l]=S.useState(!0),[u,f]=S.useState({isDarkMode:r,profile:{name:"",email:"",joinedDate:"",avatar:""},settings:{notifications:!0,darkMode:r,privacy:!1}}),[p,y]=S.useState(!1),[w,v]=S.useState(""),[C,R]=S.useState(""),[b,T]=S.useState(""),[L,j]=S.useState(""),[F,$]=S.useState(!1),[H,q]=S.useState(null),[P,A]=S.useState({x:0,y:0}),[N,O]=S.useState(1),[V,M]=S.useState(null),[D,ee]=S.useState(!1),[be,ge]=S.useState(""),[fe,Q]=S.useState(!1),[ae,le]=S.useState(null),[U,X]=S.useState(null);S.useEffect(()=>{const ue=Cy(bn,async pe=>{var qe;if(pe){let Ze="";try{const st=$s(Us,"users",pe.uid),Oe=await zh(st);Oe.exists()&&(Ze=Oe.data().avatar||"")}catch(st){console.warn("Failed to load user data from Firestore:",st)}Ze||(Ze=pe.photoURL||"");const Ye={name:pe.displayName||pe.email||"Anonymous User",email:pe.email||"",joinedDate:(qe=pe.metadata)!=null&&qe.creationTime?new Date(pe.metadata.creationTime).toLocaleDateString():"",avatar:Ze};f(st=>({...st,profile:Ye})),Wn.setUserInfo(Ye.email,Ye.name),v(pe.displayName||pe.email||"Anonymous User"),R(pe.email||"")}else n("/");l(!1)});return()=>ue()},[n]),S.useEffect(()=>{f(ue=>({...ue,settings:{...ue.settings,darkMode:r}}))},[r]),S.useEffect(()=>{const ue=Wn.isEnabled();f(pe=>({...pe,settings:{...pe.settings,notifications:ue}}))},[]),S.useEffect(()=>{const ue=bn.currentUser;if(!ue)return;const pe=$s(Us,"users",ue.uid),qe=HS(pe,Ze=>{if(Ze.exists()){const Ye=Ze.data();Ye.avatar&&f(st=>({...st,profile:{...st.profile,avatar:Ye.avatar}}))}});return()=>qe()},[]),S.useEffect(()=>{v(u.profile.name),R(u.profile.email)},[u.profile.name,u.profile.email]),S.useEffect(()=>{const ue=bn.currentUser;ue&&ue.providerData.some(pe=>pe.providerId==="password")?$(!0):$(!1)},[u.profile.email]);const re=(ue,pe)=>{if(f(qe=>({...qe,settings:{...qe.settings,[ue]:pe}})),ue==="darkMode"){i();const qe=bn.currentUser;if(qe){const Ze=$s(Us,"users",qe.uid);zc(Ze,{darkMode:pe},{merge:!0})}window.localStorage.setItem("darkMode",pe?"true":"false")}else ue==="notifications"&&(Wn.setEnabled(pe),console.log(`Mental health notifications ${pe?"enabled":"disabled"}`))},ye=async()=>{try{await Jb(bn),await t(),n("/")}catch(ue){alert("Failed to sign out: "+(ue.message||"Unknown error"))}},Ie=()=>{v(u.profile.name),R(u.profile.email),y(!0)},_e=async()=>{T(""),j("");try{const ue=bn.currentUser;if(!ue)throw new Error("No user is logged in");if(w&&w!==ue.displayName&&await T4(ue,{displayName:w}),C&&C!==ue.email)try{await S4(ue,C)}catch(pe){if(pe.code==="auth/requires-recent-login"){T("Please sign out and sign back in, then retry changing your email.");return}throw pe}try{const pe=$s(Us,"users",ue.uid);await zc(pe,{name:w,email:C},{merge:!0})}catch(pe){pe.code!=="permission-denied"&&console.warn("Firestore update failed",pe)}f(pe=>({...pe,profile:{...pe.profile,name:w,email:C}})),j("Profile updated successfully!"),y(!1)}catch(ue){const pe=(ue==null?void 0:ue.code)||"";T(pe==="permission-denied"?"Missing or insufficient permissions.":ue.message||"Failed to update profile")}},Ue=async()=>{T(""),j("");const ue=bn.currentUser;if(!ue)return;const pe=ue.email;if(pe)try{await _4(bn,pe),j("Password reset email sent!")}catch(qe){T(qe.message||"Failed to send password reset email")}},Ve=async()=>{try{const ue=bn.currentUser;if(!ue)throw new Error("No user is logged in");if(!window.confirm("Are you sure you want to clear all your chats? This cannot be undone."))return;const{doc:pe,setDoc:qe}=await Mg(async()=>{const{doc:Ye,setDoc:st}=await Promise.resolve().then(()=>Qj);return{doc:Ye,setDoc:st}},void 0),Ze=pe(Us,"chats",ue.uid);await qe(Ze,{messages:[]},{merge:!0}),alert("All chats cleared!")}catch(ue){alert("Failed to clear chats: "+(ue.message||"Unknown error"))}};return g.jsxs("div",{className:"min-h-screen w-full font-poppins relative account-page",style:{background:r?"linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%)":"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 50%, #cbd5e1 100%)",scrollbarWidth:"none",msOverflowStyle:"none"},children:[g.jsx("style",{children:`
        .account-page, .account-page *, html, body { 
          scrollbar-width: none !important; 
          -ms-overflow-style: none !important; 
        }
        .account-page::-webkit-scrollbar, 
        .account-page *::-webkit-scrollbar,
        html::-webkit-scrollbar,
        body::-webkit-scrollbar { 
          display: none !important; 
          width: 0 !important; 
          background: transparent !important; 
        }
        textarea::-webkit-scrollbar { 
          display: none !important; 
          width: 0 !important; 
          background: transparent !important; 
        }
        textarea { 
          scrollbar-width: none !important; 
          -ms-overflow-style: none !important; 
        }
      `}),g.jsx(w9,{isDarkMode:r}),g.jsxs("div",{className:"relative z-10 flex flex-col min-h-screen",children:[g.jsx(_9,{isDarkMode:r,onToggleDarkMode:i,onBackToChat:()=>n("/chat")}),a?g.jsx("div",{className:"flex-1 flex items-center justify-center",children:g.jsx("div",{className:"text-lg",style:{color:r?"#f1f5f9":"#1e293b"},children:"Loading..."})}):g.jsx("main",{className:"flex-1 p-4 sm:p-8",children:g.jsxs("div",{className:"max-w-4xl mx-auto",children:[g.jsxs("div",{className:"text-center mb-12",style:{opacity:1,transform:"translateY(0)",transition:"all 1.2s cubic-bezier(0.4, 0, 0.2, 1)"},children:[g.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-4 bg-gradient-to-r bg-clip-text",style:{color:r?"#f1f5f9":"#1e293b"},children:"Your Account"}),g.jsx("p",{className:"text-lg sm:text-xl",style:{color:r?"#cbd5e1":"#475569"},children:"Manage your profile and preferences"})]}),g.jsxs("div",{className:"grid gap-6 sm:gap-8 max-w-2xl mx-auto",children:[g.jsx(x9,{profile:u.profile,isDarkMode:r,onEdit:Ie}),g.jsx(E9,{settings:u.settings,isDarkMode:r,onSettingChange:re}),g.jsx(b9,{isDarkMode:r,onLogout:ye,onClearConversations:Ve}),g.jsx(T9,{isDarkMode:r,userProfile:u.profile}),g.jsx(v9,{className:"w-full"})]})]})}),p&&g.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40","aria-hidden":"true",onClick:()=>y(!1)}),g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-8 w-full max-w-md mx-auto z-50 relative",children:[g.jsx("div",{className:"text-2xl font-bold mb-4 text-center",children:"Edit Profile"}),b&&g.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg",children:b}),L&&g.jsx("div",{className:"mb-4 p-3 bg-green-100 text-green-700 rounded-lg",children:L}),g.jsxs("form",{onSubmit:ue=>{ue.preventDefault(),_e()},className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block font-medium mb-2",children:"Name"}),g.jsx("input",{type:"text",value:w,onChange:ue=>v(ue.target.value),className:"w-full p-3 rounded-xl border focus:outline-none focus:ring-2 focus:ring-brand-purple bg-gray-100 dark:bg-slate-700 text-gray-900 dark:text-white",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block font-medium mb-2",children:"Email"}),g.jsx("input",{type:"email",value:C,onChange:ue=>R(ue.target.value),className:"w-full p-3 rounded-xl border focus:outline-none focus:ring-2 focus:ring-brand-purple bg-gray-100 dark:bg-slate-700 text-gray-900 dark:text-white",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block font-medium mb-2",children:"Profile Picture"}),g.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[u.profile.avatar?g.jsx("img",{src:u.profile.avatar,alt:"avatar",className:"w-16 h-16 rounded-full object-cover border-2 border-brand-purple shadow-lg"}):g.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-brand-purple to-brand-blue flex items-center justify-center border-2 border-brand-purple shadow-lg",children:g.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}),g.jsx("input",{type:"file",accept:"image/*",id:"avatar-upload",style:{display:"none"},onChange:async ue=>{var qe;const pe=(qe=ue.target.files)==null?void 0:qe[0];pe&&(q(pe),ee(!0),T(""),j(""))}}),g.jsx("label",{htmlFor:"avatar-upload",className:"px-4 py-2 rounded-xl border-2 border-brand-purple text-brand-purple bg-white dark:bg-slate-700 hover:bg-brand-purple hover:text-white font-semibold cursor-pointer transition-all duration-300",children:"Change"})]}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"JPG, PNG, or GIF. Max 2MB."})]}),g.jsxs("div",{className:"flex gap-4 justify-end mt-6",children:[g.jsx("button",{type:"button",onClick:()=>y(!1),className:"px-4 py-2 rounded-xl border-2 border-gray-300 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-slate-700",children:"Cancel"}),g.jsx("button",{type:"submit",className:"px-4 py-2 rounded-xl border-2 border-brand-purple text-brand-purple hover:bg-brand-purple hover:text-white font-semibold",children:"Save"})]})]}),F&&g.jsx("button",{onClick:Ue,className:"mt-6 w-full p-3 rounded-xl border-2 border-brand-blue text-brand-blue hover:bg-brand-blue hover:text-white font-semibold",children:"Reset Password"}),g.jsxs(kF,{open:D,onOpenChange:ee,children:[g.jsx(dv,{className:"fixed inset-0 bg-black/70 z-[90]"}),g.jsxs(zC,{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-6 w-full max-w-2xl z-[100] flex flex-col items-center gap-4",children:[g.jsx("div",{className:"text-xl font-bold mb-4 text-center",children:"Crop Profile Picture"}),g.jsx("div",{className:"w-full h-96 relative mb-2 bg-gray-100 dark:bg-slate-700 rounded-lg overflow-hidden",children:H?g.jsx(v6,{image:URL.createObjectURL(H),crop:P,zoom:N,aspect:1,onCropChange:A,onZoomChange:O,onCropComplete:(ue,pe)=>M(pe),cropShape:"round",showGrid:!1}):g.jsx("div",{className:"w-full h-full flex items-center justify-center text-sm text-gray-500",children:"No image selected"})}),g.jsxs("div",{className:"flex gap-2 mt-4",children:[g.jsx("button",{type:"button",className:"px-4 py-2 rounded-xl border-2 border-brand-purple text-brand-purple bg-white dark:bg-slate-700 hover:bg-brand-purple hover:text-white font-semibold cursor-pointer transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",disabled:fe||!H,onClick:async()=>{if(!(!H||!V))try{console.log("[Avatar] Starting upload process"),Q(!0),le(0),T(""),j("");const ue=bn.currentUser;if(!ue)throw new Error("No authenticated user");const pe=URL.createObjectURL(H);console.log("[Avatar] Getting cropped image...");const qe=await w6(pe,V);le(25),console.log("[Avatar] Converting to base64...");const Ze=document.createElement("canvas"),Ye=Ze.getContext("2d"),st=new Image;await new Promise((en,lt)=>{st.onload=()=>{Ze.width=100,Ze.height=100,Ye==null||Ye.drawImage(st,0,0,100,100),en(null)},st.onerror=lt,st.src=qe}),le(50);const Oe=Ze.toDataURL("image/jpeg",.6);console.log("[Avatar] Base64 image size:",Oe.length,"characters"),le(75),console.log("[Avatar] Saving to Firestore...");const ht=$s(Us,"users",ue.uid);await zc(ht,{avatar:Oe},{merge:!0}),le(95),f(en=>({...en,profile:{...en.profile,avatar:Oe}})),le(100),ee(!1),q(null),j("Profile picture updated successfully!"),URL.revokeObjectURL(pe),console.log("[Avatar] Upload process completed successfully")}catch(ue){console.error("[Avatar] Upload failed:",ue),T(`Failed to update profile picture: ${ue.message||"Unknown error"}`)}finally{Q(!1),le(null)}},children:fe?ae!==null?`Uploading ${ae.toFixed(0)}%...`:"Uploading...":"Save & Upload"}),g.jsx("button",{type:"button",className:"px-4 py-2 rounded-xl border-2 border-gray-300 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-slate-700",onClick:()=>{ee(!1),q(null)},children:"Cancel"})]})]})]})]})]})]})]})}const C9=()=>{const n=uy();return S.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",n.pathname)},[n.pathname]),g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:g.jsxs("div",{className:"text-center",children:[g.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),g.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),g.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},I9=new j2,A9=()=>(S.useEffect(()=>(Wn.requestNotificationPermission(),()=>{}),[]),g.jsx(g.Fragment,{children:g.jsx(F2,{client:I9,children:g.jsx(m2,{children:g.jsx(MN,{children:g.jsxs(ON,{children:[g.jsx(ZR,{}),g.jsx(PP,{}),g.jsx(DN,{children:g.jsxs(PN,{children:[g.jsx(Sc,{path:"/",element:g.jsx(R3,{})}),g.jsx(Sc,{path:"/chat",element:g.jsx(QV,{})}),g.jsx(Sc,{path:"/account",element:g.jsx(S9,{})}),g.jsx(Sc,{path:"*",element:g.jsx(C9,{})})]})})]})})})})}));tP.createRoot(document.getElementById("root")).render(g.jsx(A9,{}));
